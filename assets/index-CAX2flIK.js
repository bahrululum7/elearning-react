(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Iy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bm={exports:{}},Cu={};var PE;function rD(){if(PE)return Cu;PE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Cu.Fragment=t,Cu.jsx=e,Cu.jsxs=e,Cu}var VE;function sD(){return VE||(VE=1,Bm.exports=rD()),Bm.exports}var z=sD(),Fm={exports:{}},At={};var OE;function aD(){if(OE)return At;OE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function j(U,nt,ut){this.props=U,this.context=nt,this.refs=I,this.updater=ut||D}j.prototype.isReactComponent={},j.prototype.setState=function(U,nt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,nt,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=j.prototype;function q(U,nt,ut){this.props=U,this.context=nt,this.refs=I,this.updater=ut||D}var it=q.prototype=new B;it.constructor=q,O(it,j.prototype),it.isPureReactComponent=!0;var st=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(U,nt,ut){var ft=ut.ref;return{$$typeof:n,type:U,key:nt,ref:ft!==void 0?ft:null,props:ut}}function k(U,nt){return x(U.type,nt,U.props)}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var nt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return nt[ut]})}var P=/\/+/g;function te(U,nt){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):nt.toString(36)}function de(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(at,at):(U.status="pending",U.then(function(nt){U.status==="pending"&&(U.status="fulfilled",U.value=nt)},function(nt){U.status==="pending"&&(U.status="rejected",U.reason=nt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,nt,ut,ft,St){var xt=typeof U;(xt==="undefined"||xt==="boolean")&&(U=null);var jt=!1;if(U===null)jt=!0;else switch(xt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(U.$$typeof){case n:case t:jt=!0;break;case y:return jt=U._init,Z(jt(U._payload),nt,ut,ft,St)}}if(jt)return St=St(U),jt=ft===""?"."+te(U,0):ft,st(St)?(ut="",jt!=null&&(ut=jt.replace(P,"$&/")+"/"),Z(St,nt,ut,"",function(Ys){return Ys})):St!=null&&(N(St)&&(St=k(St,ut+(St.key==null||U&&U.key===St.key?"":(""+St.key).replace(P,"$&/")+"/")+jt)),nt.push(St)),1;jt=0;var ke=ft===""?".":ft+":";if(st(U))for(var ae=0;ae<U.length;ae++)ft=U[ae],xt=ke+te(ft,ae),jt+=Z(ft,nt,ut,xt,St);else if(ae=A(U),typeof ae=="function")for(U=ae.call(U),ae=0;!(ft=U.next()).done;)ft=ft.value,xt=ke+te(ft,ae++),jt+=Z(ft,nt,ut,xt,St);else if(xt==="object"){if(typeof U.then=="function")return Z(de(U),nt,ut,ft,St);throw nt=String(U),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return jt}function ot(U,nt,ut){if(U==null)return U;var ft=[],St=0;return Z(U,ft,"","",function(xt){return nt.call(ut,xt,St++)}),ft}function dt(U){if(U._status===-1){var nt=U._result;nt=nt(),nt.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=nt)}if(U._status===1)return U._result.default;throw U._result}var It=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:ot,forEach:function(U,nt,ut){ot(U,function(){nt.apply(this,arguments)},ut)},count:function(U){var nt=0;return ot(U,function(){nt++}),nt},toArray:function(U){return ot(U,function(nt){return nt})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return At.Activity=v,At.Children=Vt,At.Component=j,At.Fragment=e,At.Profiler=a,At.PureComponent=q,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},At.cache=function(U){return function(){return U.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(U,nt,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ft=O({},U.props),St=U.key;if(nt!=null)for(xt in nt.key!==void 0&&(St=""+nt.key),nt)!R.call(nt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&nt.ref===void 0||(ft[xt]=nt[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ut;else if(1<xt){for(var jt=Array(xt),ke=0;ke<xt;ke++)jt[ke]=arguments[ke+2];ft.children=jt}return x(U.type,St,ft)},At.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},At.createElement=function(U,nt,ut){var ft,St={},xt=null;if(nt!=null)for(ft in nt.key!==void 0&&(xt=""+nt.key),nt)R.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=nt[ft]);var jt=arguments.length-2;if(jt===1)St.children=ut;else if(1<jt){for(var ke=Array(jt),ae=0;ae<jt;ae++)ke[ae]=arguments[ae+2];St.children=ke}if(U&&U.defaultProps)for(ft in jt=U.defaultProps,jt)St[ft]===void 0&&(St[ft]=jt[ft]);return x(U,xt,St)},At.createRef=function(){return{current:null}},At.forwardRef=function(U){return{$$typeof:f,render:U}},At.isValidElement=N,At.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:dt}},At.memo=function(U,nt){return{$$typeof:m,type:U,compare:nt===void 0?null:nt}},At.startTransition=function(U){var nt=C.T,ut={};C.T=ut;try{var ft=U(),St=C.S;St!==null&&St(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(at,It)}catch(xt){It(xt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),C.T=nt}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(U){return C.H.use(U)},At.useActionState=function(U,nt,ut){return C.H.useActionState(U,nt,ut)},At.useCallback=function(U,nt){return C.H.useCallback(U,nt)},At.useContext=function(U){return C.H.useContext(U)},At.useDebugValue=function(){},At.useDeferredValue=function(U,nt){return C.H.useDeferredValue(U,nt)},At.useEffect=function(U,nt){return C.H.useEffect(U,nt)},At.useEffectEvent=function(U){return C.H.useEffectEvent(U)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(U,nt,ut){return C.H.useImperativeHandle(U,nt,ut)},At.useInsertionEffect=function(U,nt){return C.H.useInsertionEffect(U,nt)},At.useLayoutEffect=function(U,nt){return C.H.useLayoutEffect(U,nt)},At.useMemo=function(U,nt){return C.H.useMemo(U,nt)},At.useOptimistic=function(U,nt){return C.H.useOptimistic(U,nt)},At.useReducer=function(U,nt,ut){return C.H.useReducer(U,nt,ut)},At.useRef=function(U){return C.H.useRef(U)},At.useState=function(U){return C.H.useState(U)},At.useSyncExternalStore=function(U,nt,ut){return C.H.useSyncExternalStore(U,nt,ut)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var NE;function xy(){return NE||(NE=1,Fm.exports=aD()),Fm.exports}var M=xy();const oD=Iy(M);var Hm={exports:{}},Iu={},qm={exports:{}},Gm={};var kE;function lD(){return kE||(kE=1,(function(n){function t(Z,ot){var dt=Z.length;Z.push(ot);t:for(;0<dt;){var It=dt-1>>>1,Vt=Z[It];if(0<a(Vt,ot))Z[It]=ot,Z[dt]=Vt,dt=It;else break t}}function e(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ot=Z[0],dt=Z.pop();if(dt!==ot){Z[0]=dt;t:for(var It=0,Vt=Z.length,U=Vt>>>1;It<U;){var nt=2*(It+1)-1,ut=Z[nt],ft=nt+1,St=Z[ft];if(0>a(ut,dt))ft<Vt&&0>a(St,ut)?(Z[It]=St,Z[ft]=dt,It=ft):(Z[It]=ut,Z[nt]=dt,It=nt);else if(ft<Vt&&0>a(St,dt))Z[It]=St,Z[ft]=dt,It=ft;else break t}}return ot}function a(Z,ot){var dt=Z.sortIndex-ot.sortIndex;return dt!==0?dt:Z.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,v=null,E=3,A=!1,D=!1,O=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function it(Z){for(var ot=e(m);ot!==null;){if(ot.callback===null)r(m);else if(ot.startTime<=Z)r(m),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=e(m)}}function st(Z){if(O=!1,it(Z),!D)if(e(p)!==null)D=!0,at||(at=!0,F());else{var ot=e(m);ot!==null&&de(st,ot.startTime-Z)}}var at=!1,C=-1,R=5,x=-1;function k(){return I?!0:!(n.unstable_now()-x<R)}function N(){if(I=!1,at){var Z=n.unstable_now();x=Z;var ot=!0;try{t:{D=!1,O&&(O=!1,B(C),C=-1),A=!0;var dt=E;try{e:{for(it(Z),v=e(p);v!==null&&!(v.expirationTime>Z&&k());){var It=v.callback;if(typeof It=="function"){v.callback=null,E=v.priorityLevel;var Vt=It(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof Vt=="function"){v.callback=Vt,it(Z),ot=!0;break e}v===e(p)&&r(p),it(Z)}else r(p);v=e(p)}if(v!==null)ot=!0;else{var U=e(m);U!==null&&de(st,U.startTime-Z),ot=!1}}break t}finally{v=null,E=dt,A=!1}ot=void 0}}finally{ot?F():at=!1}}}var F;if(typeof q=="function")F=function(){q(N)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,te=P.port2;P.port1.onmessage=N,F=function(){te.postMessage(null)}}else F=function(){j(N,0)};function de(Z,ot){C=j(function(){Z(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var dt=E;E=ot;try{return Z()}finally{E=dt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=E;E=Z;try{return ot()}finally{E=dt}},n.unstable_scheduleCallback=function(Z,ot,dt){var It=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,Z){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=dt+Vt,Z={id:y++,callback:ot,priorityLevel:Z,startTime:dt,expirationTime:Vt,sortIndex:-1},dt>It?(Z.sortIndex=dt,t(m,Z),e(p)===null&&Z===e(m)&&(O?(B(C),C=-1):O=!0,de(st,dt-It))):(Z.sortIndex=Vt,t(p,Z),D||A||(D=!0,at||(at=!0,F()))),Z},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Z){var ot=E;return function(){var dt=E;E=ot;try{return Z.apply(this,arguments)}finally{E=dt}}}})(Gm)),Gm}var LE;function uD(){return LE||(LE=1,qm.exports=lD()),qm.exports}var Km={exports:{}},rn={};var UE;function cD(){if(UE)return rn;UE=1;var n=xy();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,y)},rn.flushSync=function(p){var m=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=y,r.d.f()}},rn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},rn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},rn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&r.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},rn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=f(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},rn.requestFormReset=function(p){r.d.r(p)},rn.unstable_batchedUpdates=function(p,m){return p(m)},rn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var zE;function hD(){if(zE)return Km.exports;zE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Km.exports=cD(),Km.exports}var jE;function fD(){if(jE)return Iu;jE=1;var n=uD(),t=xy(),e=hD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return p(d),i;if(g===u)return p(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,b=d.child;b;){if(b===o){T=!0,o=d,u=g;break}if(b===u){T=!0,u=d,o=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===o){T=!0,o=g,u=d;break}if(b===u){T=!0,u=g,o=d;break}b=b.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case j:return"Profiler";case I:return"StrictMode";case st:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case q:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case it:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:te(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return te(i(s))}catch{}}return null}var de=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Vt=-1;function U(i){return{current:i}}function nt(i){0>Vt||(i.current=It[Vt],It[Vt]=null,Vt--)}function ut(i,s){Vt++,It[Vt]=i.current,i.current=s}var ft=U(null),St=U(null),xt=U(null),jt=U(null);function ke(i,s){switch(ut(xt,s),ut(St,i),ut(ft,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?eE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=eE(s),i=nE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),ut(ft,i)}function ae(){nt(ft),nt(St),nt(xt)}function Ys(i){i.memoizedState!==null&&ut(jt,i);var s=ft.current,o=nE(s,i.type);s!==o&&(ut(St,i),ut(ft,o))}function Wa(i){St.current===i&&(nt(ft),nt(St)),jt.current===i&&(nt(jt),bu._currentValue=dt)}var Xa,Qa;function Si(i){if(Xa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Xa=s&&s[1]||"",Qa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+i+Qa}var bl=!1;function Ws(i,s){if(!i||bl)return"";bl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var W=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){W=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){W=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var V=T.split(`
`),Y=b.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===Y.length)for(u=V.length-1,d=Y.length-1;1<=u&&0<=d&&V[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==Y[d]){var $=`
`+V[u].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=u&&0<=d);break}}}finally{bl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Si(o):""}function Al(i,s){switch(i.tag){case 26:case 27:case 5:return Si(i.type);case 16:return Si("Lazy");case 13:return i.child!==s&&s!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Ws(i.type,!1);case 11:return Ws(i.type.render,!1);case 1:return Ws(i.type,!0);case 31:return Si("Activity");default:return""}}function wl(i){try{var s="",o=null;do s+=Al(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,Fr=n.unstable_cancelCallback,Hd=n.unstable_shouldYield,Pc=n.unstable_requestPaint,cn=n.unstable_now,Xs=n.unstable_getCurrentPriorityLevel,Rl=n.unstable_ImmediatePriority,Cl=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,qd=n.unstable_LowPriority,Vc=n.unstable_IdlePriority,Oc=n.log,Nc=n.unstable_setDisableYieldValue,ni=null,Ye=null;function Ln(i){if(typeof Oc=="function"&&Nc(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ni,i)}catch{}}var ye=Math.clz32?Math.clz32:Lc,kc=Math.log,$a=Math.LN2;function Lc(i){return i>>>=0,i===0?32:31-(kc(i)/$a|0)|0}var bi=256,Qs=262144,Ae=4194304;function Ai(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?d=Ai(u):(T&=b,T!==0?d=Ai(T):o||(o=b&~i,o!==0&&(d=Ai(o))))):(b=u&~g,b!==0?d=Ai(b):T!==0?d=Ai(T):o||(o=u&~i,o!==0&&(d=Ai(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function ii(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Gd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ri(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function $s(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kd(i,s,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,V=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var $=31-ye(o),et=1<<$;b[$]=0,V[$]=-1;var W=Y[$];if(W!==null)for(Y[$]=null,$=0;$<W.length;$++){var Q=W[$];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&Zs(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function Zs(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-ye(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Il(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-ye(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function xl(i,s){var o=s&-s;return o=(o&42)!==0?1:Js(o),(o&(i.suspendedLanes|s))!==0?0:o}function Js(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ur(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:wE(i.type))}function ri(i,s){var o=ot.p;try{return ot.p=i,s()}finally{ot.p=o}}var si=Math.random().toString(36).slice(2),we="__reactFiber$"+si,Fe="__reactProps$"+si,Ci="__reactContainer$"+si,Za="__reactEvents$"+si,Yd="__reactListeners$"+si,jc="__reactHandles$"+si,Bc="__reactResources$"+si,Ii="__reactMarker$"+si;function Ja(i){delete i[we],delete i[Fe],delete i[Za],delete i[Yd],delete i[jc]}function xi(i){var s=i[we];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ci]||o[we]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=uE(i);i!==null;){if(o=i[we])return o;i=uE(i)}return s}i=o,o=i.parentNode}return null}function Un(i){if(i=i[we]||i[Ci]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function An(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Di(i){var s=i[Bc];return s||(s=i[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Re(i){i[Ii]=!0}var Dl=new Set,Ml={};function Mi(i,s){Pi(i,s),Pi(i+"Capture",s)}function Pi(i,s){for(Ml[i]=s,i=0;i<s.length;i++)Dl.add(s[i])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ol={};function Fc(i){return be.call(Ol,i)?!0:be.call(Vl,i)?!1:Pl.test(i)?Ol[i]=!0:(Vl[i]=!0,!1)}function to(i,s,o){if(Fc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function wn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ce(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function He(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nl(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yt(i){if(!i._valueTracker){var s=qr(i)?"checked":"value";i._valueTracker=Nl(i,s,""+i[s])}}function ta(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=qr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ea=/[\n"\\]/g;function pn(i){return i.replace(ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eo(i,s,o,u,d,g,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+He(s)):i.value!==""+He(s)&&(i.value=""+He(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?kl(i,T,He(s)):o!=null?kl(i,T,He(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+He(b):i.removeAttribute("name")}function Hc(i,s,o,u,d,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Yt(i);return}o=o!=null?""+He(o):"",s=s!=null?""+He(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Yt(i)}function kl(i,s,o){s==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gr(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+He(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function qc(i,s,o){if(s!=null&&(s=""+He(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+He(o):""}function Kr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=He(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Yt(i)}function mn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Gc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ul(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Ll(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Ll(i,g,s[g])}function no(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(i){return Yr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var zl=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wr=null,Oi=null;function na(i){var s=Un(i);if(s&&(i=s.stateNode)){var o=i[Fe]||null;t:switch(i=s.stateNode,s.type){case"input":if(eo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Fe]||null;if(!d)throw Error(r(90));eo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&ta(u)}break t;case"textarea":qc(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Gr(i,!!o.multiple,s,!1)}}}var ro=!1;function Xr(i,s,o){if(ro)return i(s,o);ro=!0;try{var u=i(s);return u}finally{if(ro=!1,(Wr!==null||Oi!==null)&&(zh(),Wr&&(s=Wr,i=Oi,Oi=Wr=null,na(s),i)))for(s=0;s<i.length;s++)na(i[s])}}function oi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Fe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(jn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){ia=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{ia=!1}var Ni=null,jl=null,ra=null;function Bl(){if(ra)return ra;var i,s=jl,o=s.length,u,d="value"in Ni?Ni.value:Ni.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return ra=d.slice(i,1<u?1-u:void 0)}function sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cr(){return!0}function li(){return!1}function We(i){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:li,this.isPropagationStopped=li,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=We(hr),Qr=v({},hr,{view:0,detail:0}),Fl=We(Qr),$r,so,Li,ao=v({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?($r=i.screenX-Li.screenX,so=i.screenY-Li.screenY):so=$r=0,Li=i),$r)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Hl=We(ao),aa=v({},ao,{dataTransfer:0}),Yc=We(aa),Wc=v({},Qr,{relatedTarget:0}),oa=We(Wc),ql=v({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=We(ql),oo=v({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qc=We(oo),$c=v({},hr,{data:0}),Ui=We($c),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=th[i])?!!s[i]:!1}function Zr(){return eh}var hn=v({},Qr,{key:function(i){if(i.key){var s=Zc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nh=We(hn),ih=v({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=We(ih),h=v({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),_=We(h),S=v({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=We(S),G=v({},ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=We(G),lt=v({},hr,{newState:0,oldState:0}),Rt=We(lt),ve=[9,13,27,32],qt=jn&&"CompositionEvent"in window,oe=null;jn&&"documentMode"in document&&(oe=document.documentMode);var Bn=jn&&"TextEvent"in window&&!oe,zi=jn&&(!qt||oe&&8<oe&&11>=oe),ui=" ",ci=!1;function la(i,s){switch(i){case"keyup":return ve.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function II(i,s){switch(i){case"compositionend":return lo(s);case"keypress":return s.which!==32?null:(ci=!0,ui);case"textInput":return i=s.data,i===ui&&ci?null:i;default:return null}}function xI(i,s){if(uo)return i==="compositionend"||!qt&&la(i,s)?(i=Bl(),ra=jl=Ni=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zi&&s.locale!=="ko"?null:s.data;default:return null}}var DI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!DI[i.type]:s==="textarea"}function d_(i,s,o,u){Wr?Oi?Oi.push(u):Oi=[u]:Wr=u,s=Kh(s,"onChange"),0<s.length&&(o=new ki("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Gl=null,Kl=null;function MI(i){XT(i,0)}function rh(i){var s=An(i);if(ta(s))return i}function p_(i,s){if(i==="change")return s}var m_=!1;if(jn){var Wd;if(jn){var Xd="oninput"in document;if(!Xd){var g_=document.createElement("div");g_.setAttribute("oninput","return;"),Xd=typeof g_.oninput=="function"}Wd=Xd}else Wd=!1;m_=Wd&&(!document.documentMode||9<document.documentMode)}function y_(){Gl&&(Gl.detachEvent("onpropertychange",v_),Kl=Gl=null)}function v_(i){if(i.propertyName==="value"&&rh(Kl)){var s=[];d_(s,Kl,i,zn(i)),Xr(MI,s)}}function PI(i,s,o){i==="focusin"?(y_(),Gl=s,Kl=o,Gl.attachEvent("onpropertychange",v_)):i==="focusout"&&y_()}function VI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rh(Kl)}function OI(i,s){if(i==="click")return rh(s)}function NI(i,s){if(i==="input"||i==="change")return rh(s)}function kI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Rn=typeof Object.is=="function"?Object.is:kI;function Yl(i,s){if(Rn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!be.call(s,d)||!Rn(i[d],s[d]))return!1}return!0}function __(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function T_(i,s){var o=__(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=__(o)}}function E_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?E_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function S_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Vi(i.document)}return s}function Qd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var LI=jn&&"documentMode"in document&&11>=document.documentMode,co=null,$d=null,Wl=null,Zd=!1;function b_(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||co==null||co!==Vi(u)||(u=co,"selectionStart"in u&&Qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wl&&Yl(Wl,u)||(Wl=u,u=Kh($d,"onSelect"),0<u.length&&(s=new ki("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=co)))}function ua(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ho={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Jd={},A_={};jn&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ca(i){if(Jd[i])return Jd[i];if(!ho[i])return i;var s=ho[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in A_)return Jd[i]=s[o];return i}var w_=ca("animationend"),R_=ca("animationiteration"),C_=ca("animationstart"),UI=ca("transitionrun"),zI=ca("transitionstart"),jI=ca("transitioncancel"),I_=ca("transitionend"),x_=new Map,tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tp.push("scrollEnd");function hi(i,s){x_.set(i,s),Mi(s,[i])}var sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Fn=[],fo=0,ep=0;function ah(){for(var i=fo,s=ep=fo=0;s<i;){var o=Fn[s];Fn[s++]=null;var u=Fn[s];Fn[s++]=null;var d=Fn[s];Fn[s++]=null;var g=Fn[s];if(Fn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&D_(o,d,g)}}function oh(i,s,o,u){Fn[fo++]=i,Fn[fo++]=s,Fn[fo++]=o,Fn[fo++]=u,ep|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function np(i,s,o,u){return oh(i,s,o,u),lh(i)}function ha(i,s){return oh(i,null,null,s),lh(i)}function D_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-ye(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function lh(i){if(50<gu)throw gu=0,hm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var po={};function BI(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,s,o,u){return new BI(i,s,o,u)}function ip(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dr(i,s){var o=i.alternate;return o===null?(o=Cn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function M_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function uh(i,s,o,u,d,g){var T=0;if(u=i,typeof i=="function")ip(i)&&(T=1);else if(typeof i=="string")T=Kx(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Cn(31,o,s,d),i.elementType=x,i.lanes=g,i;case O:return fa(o.children,d,g,s);case I:T=8,d|=24;break;case j:return i=Cn(12,o,s,d|2),i.elementType=j,i.lanes=g,i;case st:return i=Cn(13,o,s,d),i.elementType=st,i.lanes=g,i;case at:return i=Cn(19,o,s,d),i.elementType=at,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:T=10;break t;case B:T=9;break t;case it:T=11;break t;case C:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Cn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function fa(i,s,o,u){return i=Cn(7,i,u,s),i.lanes=o,i}function rp(i,s,o){return i=Cn(6,i,null,s),i.lanes=o,i}function P_(i){var s=Cn(18,null,null,0);return s.stateNode=i,s}function sp(i,s,o){return s=Cn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var V_=new WeakMap;function Hn(i,s){if(typeof i=="object"&&i!==null){var o=V_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:wl(s)},V_.set(i,s),s)}return{value:i,source:s,stack:wl(s)}}var mo=[],go=0,ch=null,Xl=0,qn=[],Gn=0,Jr=null,ji=1,Bi="";function pr(i,s){mo[go++]=Xl,mo[go++]=ch,ch=i,Xl=s}function O_(i,s,o){qn[Gn++]=ji,qn[Gn++]=Bi,qn[Gn++]=Jr,Jr=i;var u=ji;i=Bi;var d=32-ye(u)-1;u&=~(1<<d),o+=1;var g=32-ye(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,ji=1<<32-ye(s)+d|o<<d|u,Bi=g+i}else ji=1<<g|o<<d|u,Bi=i}function ap(i){i.return!==null&&(pr(i,1),O_(i,1,0))}function op(i){for(;i===ch;)ch=mo[--go],mo[go]=null,Xl=mo[--go],mo[go]=null;for(;i===Jr;)Jr=qn[--Gn],qn[Gn]=null,Bi=qn[--Gn],qn[Gn]=null,ji=qn[--Gn],qn[Gn]=null}function N_(i,s){qn[Gn++]=ji,qn[Gn++]=Bi,qn[Gn++]=Jr,ji=s.id,Bi=s.overflow,Jr=i}var Xe=null,ie=null,zt=!1,ts=null,Kn=!1,lp=Error(r(519));function es(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Hn(s,i)),lp}function k_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[we]=i,s[Fe]=u,o){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(o=0;o<vu.length;o++)Pt(vu[o],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),Hc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Kr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||JT(s.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),u.onScroll!=null&&Pt("scroll",s),u.onScrollEnd!=null&&Pt("scrollend",s),u.onClick!=null&&(s.onclick=ai),s=!0):s=!1,s||es(i,!0)}function L_(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function yo(i){if(i!==Xe)return!1;if(!zt)return L_(i),zt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Rm(i.type,i.memoizedProps)),o=!o),o&&ie&&es(i),L_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=lE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=lE(i)}else s===27?(s=ie,ms(i.type)?(i=Mm,Mm=null,ie=i):ie=s):ie=Xe?Wn(i.stateNode.nextSibling):null;return!0}function da(){ie=Xe=null,zt=!1}function up(){var i=ts;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),ts=null),i}function Ql(i){ts===null?ts=[i]:ts.push(i)}var cp=U(null),pa=null,mr=null;function ns(i,s,o){ut(cp,s._currentValue),s._currentValue=o}function gr(i){i._currentValue=cp.current,nt(cp)}function hp(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function fp(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=d;for(var V=0;V<s.length;V++)if(b.context===s[V]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),hp(g.return,o,i),u||(T=null);break t}g=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),hp(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function vo(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=d.type;Rn(d.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(d===jt.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(bu):i=[bu])}d=d.return}i!==null&&fp(s,i,o,u),s.flags|=262144}function hh(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ma(i){pa=i,mr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return U_(pa,i)}function fh(i,s){return pa===null&&ma(i),U_(i,s)}function U_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mr===null){if(i===null)throw Error(r(308));mr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else mr=mr.next=s;return o}var FI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},HI=n.unstable_scheduleCallback,qI=n.unstable_NormalPriority,Ie={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new FI,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&HI(qI,function(){i.controller.abort()})}var Zl=null,pp=0,_o=0,To=null;function GI(i,s){if(Zl===null){var o=Zl=[];pp=0,_o=ym(),To={status:"pending",value:void 0,then:function(u){o.push(u)}}}return pp++,s.then(z_,z_),s}function z_(){if(--pp===0&&Zl!==null){To!==null&&(To.status="fulfilled");var i=Zl;Zl=null,_o=0,To=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function KI(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var j_=Z.S;Z.S=function(i,s){bT=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&GI(i,s),j_!==null&&j_(i,s)};var ga=U(null);function mp(){var i=ga.current;return i!==null?i:ee.pooledCache}function dh(i,s){s===null?ut(ga,ga.current):ut(ga,s.pool)}function B_(){var i=mp();return i===null?null:{parent:Ie._currentValue,pool:i}}var Eo=Error(r(460)),gp=Error(r(474)),ph=Error(r(542)),mh={then:function(){}};function F_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function H_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ai,ai),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,G_(i),i;default:if(typeof s.status=="string")s.then(ai,ai);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,G_(i),i}throw va=s,Eo}}function ya(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,Eo):o}}var va=null;function q_(){if(va===null)throw Error(r(459));var i=va;return va=null,i}function G_(i){if(i===Eo||i===ph)throw Error(r(483))}var So=null,Jl=0;function gh(i){var s=Jl;return Jl+=1,So===null&&(So=[]),H_(So,i,s)}function tu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yh(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function K_(i){function s(H,L){if(i){var K=H.deletions;K===null?(H.deletions=[L],H.flags|=16):K.push(L)}}function o(H,L){if(!i)return null;for(;L!==null;)s(H,L),L=L.sibling;return null}function u(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function d(H,L){return H=dr(H,L),H.index=0,H.sibling=null,H}function g(H,L,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<L?(H.flags|=67108866,L):K):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function b(H,L,K,J){return L===null||L.tag!==6?(L=rp(K,H.mode,J),L.return=H,L):(L=d(L,K),L.return=H,L)}function V(H,L,K,J){var gt=K.type;return gt===O?$(H,L,K.props.children,J,K.key):L!==null&&(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&ya(gt)===L.type)?(L=d(L,K.props),tu(L,K),L.return=H,L):(L=uh(K.type,K.key,K.props,null,H.mode,J),tu(L,K),L.return=H,L)}function Y(H,L,K,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=sp(K,H.mode,J),L.return=H,L):(L=d(L,K.children||[]),L.return=H,L)}function $(H,L,K,J,gt){return L===null||L.tag!==7?(L=fa(K,H.mode,J,gt),L.return=H,L):(L=d(L,K),L.return=H,L)}function et(H,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=rp(""+L,H.mode,K),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return K=uh(L.type,L.key,L.props,null,H.mode,K),tu(K,L),K.return=H,K;case D:return L=sp(L,H.mode,K),L.return=H,L;case R:return L=ya(L),et(H,L,K)}if(de(L)||F(L))return L=fa(L,H.mode,K,null),L.return=H,L;if(typeof L.then=="function")return et(H,gh(L),K);if(L.$$typeof===q)return et(H,fh(H,L),K);yh(H,L)}return null}function W(H,L,K,J){var gt=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return gt!==null?null:b(H,L,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===gt?V(H,L,K,J):null;case D:return K.key===gt?Y(H,L,K,J):null;case R:return K=ya(K),W(H,L,K,J)}if(de(K)||F(K))return gt!==null?null:$(H,L,K,J,null);if(typeof K.then=="function")return W(H,L,gh(K),J);if(K.$$typeof===q)return W(H,L,fh(H,K),J);yh(H,K)}return null}function Q(H,L,K,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(K)||null,b(L,H,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return H=H.get(J.key===null?K:J.key)||null,V(L,H,J,gt);case D:return H=H.get(J.key===null?K:J.key)||null,Y(L,H,J,gt);case R:return J=ya(J),Q(H,L,K,J,gt)}if(de(J)||F(J))return H=H.get(K)||null,$(L,H,J,gt,null);if(typeof J.then=="function")return Q(H,L,K,gh(J),gt);if(J.$$typeof===q)return Q(H,L,K,fh(L,J),gt);yh(L,J)}return null}function pt(H,L,K,J){for(var gt=null,Ft=null,mt=L,Dt=L=0,Nt=null;mt!==null&&Dt<K.length;Dt++){mt.index>Dt?(Nt=mt,mt=null):Nt=mt.sibling;var Ht=W(H,mt,K[Dt],J);if(Ht===null){mt===null&&(mt=Nt);break}i&&mt&&Ht.alternate===null&&s(H,mt),L=g(Ht,L,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht,mt=Nt}if(Dt===K.length)return o(H,mt),zt&&pr(H,Dt),gt;if(mt===null){for(;Dt<K.length;Dt++)mt=et(H,K[Dt],J),mt!==null&&(L=g(mt,L,Dt),Ft===null?gt=mt:Ft.sibling=mt,Ft=mt);return zt&&pr(H,Dt),gt}for(mt=u(mt);Dt<K.length;Dt++)Nt=Q(mt,H,Dt,K[Dt],J),Nt!==null&&(i&&Nt.alternate!==null&&mt.delete(Nt.key===null?Dt:Nt.key),L=g(Nt,L,Dt),Ft===null?gt=Nt:Ft.sibling=Nt,Ft=Nt);return i&&mt.forEach(function(Ts){return s(H,Ts)}),zt&&pr(H,Dt),gt}function vt(H,L,K,J){if(K==null)throw Error(r(151));for(var gt=null,Ft=null,mt=L,Dt=L=0,Nt=null,Ht=K.next();mt!==null&&!Ht.done;Dt++,Ht=K.next()){mt.index>Dt?(Nt=mt,mt=null):Nt=mt.sibling;var Ts=W(H,mt,Ht.value,J);if(Ts===null){mt===null&&(mt=Nt);break}i&&mt&&Ts.alternate===null&&s(H,mt),L=g(Ts,L,Dt),Ft===null?gt=Ts:Ft.sibling=Ts,Ft=Ts,mt=Nt}if(Ht.done)return o(H,mt),zt&&pr(H,Dt),gt;if(mt===null){for(;!Ht.done;Dt++,Ht=K.next())Ht=et(H,Ht.value,J),Ht!==null&&(L=g(Ht,L,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return zt&&pr(H,Dt),gt}for(mt=u(mt);!Ht.done;Dt++,Ht=K.next())Ht=Q(mt,H,Dt,Ht.value,J),Ht!==null&&(i&&Ht.alternate!==null&&mt.delete(Ht.key===null?Dt:Ht.key),L=g(Ht,L,Dt),Ft===null?gt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&mt.forEach(function(iD){return s(H,iD)}),zt&&pr(H,Dt),gt}function Jt(H,L,K,J){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:t:{for(var gt=K.key;L!==null;){if(L.key===gt){if(gt=K.type,gt===O){if(L.tag===7){o(H,L.sibling),J=d(L,K.props.children),J.return=H,H=J;break t}}else if(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&ya(gt)===L.type){o(H,L.sibling),J=d(L,K.props),tu(J,K),J.return=H,H=J;break t}o(H,L);break}else s(H,L);L=L.sibling}K.type===O?(J=fa(K.props.children,H.mode,J,K.key),J.return=H,H=J):(J=uh(K.type,K.key,K.props,null,H.mode,J),tu(J,K),J.return=H,H=J)}return T(H);case D:t:{for(gt=K.key;L!==null;){if(L.key===gt)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){o(H,L.sibling),J=d(L,K.children||[]),J.return=H,H=J;break t}else{o(H,L);break}else s(H,L);L=L.sibling}J=sp(K,H.mode,J),J.return=H,H=J}return T(H);case R:return K=ya(K),Jt(H,L,K,J)}if(de(K))return pt(H,L,K,J);if(F(K)){if(gt=F(K),typeof gt!="function")throw Error(r(150));return K=gt.call(K),vt(H,L,K,J)}if(typeof K.then=="function")return Jt(H,L,gh(K),J);if(K.$$typeof===q)return Jt(H,L,fh(H,K),J);yh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(o(H,L.sibling),J=d(L,K),J.return=H,H=J):(o(H,L),J=rp(K,H.mode,J),J.return=H,H=J),T(H)):o(H,L)}return function(H,L,K,J){try{Jl=0;var gt=Jt(H,L,K,J);return So=null,gt}catch(mt){if(mt===Eo||mt===ph)throw mt;var Ft=Cn(29,mt,null,H.mode);return Ft.lanes=J,Ft.return=H,Ft}}}var _a=K_(!0),Y_=K_(!1),is=!1;function yp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ss(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=lh(i),D_(i,null,o),s}return oh(i,u,s,o),lh(i)}function eu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Il(i,o)}}function _p(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Tp=!1;function nu(){if(Tp){var i=To;if(i!==null)throw i}}function iu(i,s,o,u){Tp=!1;var d=i.updateQueue;is=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var V=b,Y=V.next;V.next=null,T===null?g=Y:T.next=Y,T=V;var $=i.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==T&&(b===null?$.firstBaseUpdate=Y:b.next=Y,$.lastBaseUpdate=V))}if(g!==null){var et=d.baseState;T=0,$=Y=V=null,b=g;do{var W=b.lane&-536870913,Q=W!==b.lane;if(Q?(Ot&W)===W:(u&W)===W){W!==0&&W===_o&&(Tp=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var pt=i,vt=b;W=s;var Jt=o;switch(vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){et=pt.call(Jt,et,W);break t}et=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,W=typeof pt=="function"?pt.call(Jt,et,W):pt,W==null)break t;et=v({},et,W);break t;case 2:is=!0}}W=b.callback,W!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(Y=$=Q,V=et):$=$.next=Q,T|=W;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);$===null&&(V=et),d.baseState=V,d.firstBaseUpdate=Y,d.lastBaseUpdate=$,g===null&&(d.shared.lanes=0),cs|=T,i.lanes=T,i.memoizedState=et}}function W_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function X_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)W_(o[i],s)}var bo=U(null),vh=U(0);function Q_(i,s){i=wr,ut(vh,i),ut(bo,s),wr=i|s.baseLanes}function Ep(){ut(vh,wr),ut(bo,bo.current)}function Sp(){wr=vh.current,nt(bo),nt(vh)}var In=U(null),Yn=null;function as(i){var s=i.alternate;ut(_e,_e.current&1),ut(In,i),Yn===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(Yn=i)}function bp(i){ut(_e,_e.current),ut(In,i),Yn===null&&(Yn=i)}function $_(i){i.tag===22?(ut(_e,_e.current),ut(In,i),Yn===null&&(Yn=i)):os()}function os(){ut(_e,_e.current),ut(In,In.current)}function xn(i){nt(In),Yn===i&&(Yn=null),nt(_e)}var _e=U(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xm(o)||Dm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yr=0,Ct=null,$t=null,xe=null,Th=!1,Ao=!1,Ta=!1,Eh=0,ru=0,wo=null,YI=0;function pe(){throw Error(r(321))}function Ap(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Rn(i[o],s[o]))return!1;return!0}function wp(i,s,o,u,d,g){return yr=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?O0:jp,Ta=!1,g=o(u,d),Ta=!1,Ao&&(g=J_(s,o,u,d)),Z_(i),g}function Z_(i){Z.H=ou;var s=$t!==null&&$t.next!==null;if(yr=0,xe=$t=Ct=null,Th=!1,ru=0,wo=null,s)throw Error(r(300));i===null||De||(i=i.dependencies,i!==null&&hh(i)&&(De=!0))}function J_(i,s,o,u){Ct=i;var d=0;do{if(Ao&&(wo=null),ru=0,Ao=!1,25<=d)throw Error(r(301));if(d+=1,xe=$t=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=N0,g=s(o,u)}while(Ao);return g}function WI(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?su(s):s,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(Ct.flags|=1024),s}function Rp(){var i=Eh!==0;return Eh=0,i}function Cp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Ip(i){if(Th){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Th=!1}yr=0,xe=$t=Ct=null,Ao=!1,ru=Eh=0,wo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ct.memoizedState=xe=i:xe=xe.next=i,xe}function Te(){if($t===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var s=xe===null?Ct.memoizedState:xe.next;if(s!==null)xe=s,$t=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},xe===null?Ct.memoizedState=xe=i:xe=xe.next=i}return xe}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(i){var s=ru;return ru+=1,wo===null&&(wo=[]),i=H_(wo,i,s),s=Ct,(xe===null?s.memoizedState:xe.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?O0:jp),i}function bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return su(i);if(i.$$typeof===q)return Qe(i)}throw Error(r(438,String(i)))}function xp(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Sh(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=k;return s.index++,o}function vr(i,s){return typeof s=="function"?s(i):s}function Ah(i){var s=Te();return Dp(s,$t,i)}function Dp(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var b=T=null,V=null,Y=s,$=!1;do{var et=Y.lane&-536870913;if(et!==Y.lane?(Ot&et)===et:(yr&et)===et){var W=Y.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),et===_o&&($=!0);else if((yr&W)===W){Y=Y.next,W===_o&&($=!0);continue}else et={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(b=V=et,T=g):V=V.next=et,Ct.lanes|=W,cs|=W;et=Y.action,Ta&&o(g,et),g=Y.hasEagerState?Y.eagerState:o(g,et)}else W={lane:et,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(b=V=W,T=g):V=V.next=W,Ct.lanes|=et,cs|=et;Y=Y.next}while(Y!==null&&Y!==s);if(V===null?T=g:V.next=b,!Rn(g,i.memoizedState)&&(De=!0,$&&(o=To,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mp(i){var s=Te(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Rn(g,s.memoizedState)||(De=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function t0(i,s,o){var u=Ct,d=Te(),g=zt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Rn(($t||d).memoizedState,o);if(T&&(d.memoizedState=o,De=!0),d=d.queue,Op(i0.bind(null,u,d,i),[i]),d.getSnapshot!==s||T||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,Ro(9,{destroy:void 0},n0.bind(null,u,d,o,s),null),ee===null)throw Error(r(349));g||(yr&127)!==0||e0(u,s,o)}return o}function e0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=Sh(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function n0(i,s,o,u){s.value=o,s.getSnapshot=u,r0(s)&&s0(i)}function i0(i,s,o){return o(function(){r0(s)&&s0(i)})}function r0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Rn(i,o)}catch{return!0}}function s0(i){var s=ha(i,2);s!==null&&Tn(s,i,2)}function Pp(i){var s=fn();if(typeof i=="function"){var o=i;if(i=o(),Ta){Ln(!0);try{o()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:i},s}function a0(i,s,o,u){return i.baseState=o,Dp(i,$t,typeof u=="function"?u:vr)}function XI(i,s,o,u,d){if(Ch(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,o0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function o0(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=Z.T,T={};Z.T=T;try{var b=o(d,u),V=Z.S;V!==null&&V(T,b),l0(i,s,b)}catch(Y){Vp(i,s,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=o(d,u),l0(i,s,g)}catch(Y){Vp(i,s,Y)}}function l0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){u0(i,s,u)},function(u){return Vp(i,s,u)}):u0(i,s,o)}function u0(i,s,o){s.status="fulfilled",s.value=o,c0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,o0(i,o)))}function Vp(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,c0(s),s=s.next;while(s!==u)}i.action=null}function c0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function h0(i,s){return s}function f0(i,s){if(zt){var o=ee.formState;if(o!==null){t:{var u=Ct;if(zt){if(ie){e:{for(var d=ie,g=Kn;d.nodeType!==8;){if(!g){d=null;break e}if(d=Wn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ie=Wn(d.nextSibling),u=d.data==="F!";break t}}es(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:s},o.queue=u,o=M0.bind(null,Ct,u),u.dispatch=o,u=Pp(!1),g=zp.bind(null,Ct,!1,u.queue),u=fn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=XI.bind(null,Ct,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function d0(i){var s=Te();return p0(s,$t,i)}function p0(i,s,o){if(s=Dp(i,s,h0)[0],i=Ah(vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=su(s)}catch(T){throw T===Eo?ph:T}else u=s;s=Te();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,Ro(9,{destroy:void 0},QI.bind(null,d,o),null)),[u,g,i]}function QI(i,s){i.action=s}function m0(i){var s=Te(),o=$t;if(o!==null)return p0(s,o,i);Te(),s=s.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Ro(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Sh(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function g0(){return Te().memoizedState}function wh(i,s,o,u){var d=fn();Ct.flags|=i,d.memoizedState=Ro(1|s,{destroy:void 0},o,u===void 0?null:u)}function Rh(i,s,o,u){var d=Te();u=u===void 0?null:u;var g=d.memoizedState.inst;$t!==null&&u!==null&&Ap(u,$t.memoizedState.deps)?d.memoizedState=Ro(s,g,o,u):(Ct.flags|=i,d.memoizedState=Ro(1|s,g,o,u))}function y0(i,s){wh(8390656,8,i,s)}function Op(i,s){Rh(2048,8,i,s)}function $I(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Sh(),Ct.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function v0(i){var s=Te().memoizedState;return $I({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function _0(i,s){return Rh(4,2,i,s)}function T0(i,s){return Rh(4,4,i,s)}function E0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function S0(i,s,o){o=o!=null?o.concat([i]):null,Rh(4,4,E0.bind(null,s,i),o)}function Np(){}function b0(i,s){var o=Te();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ap(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function A0(i,s){var o=Te();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ap(s,u[1]))return u[0];if(u=i(),Ta){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,s],u}function kp(i,s,o){return o===void 0||(yr&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=wT(),Ct.lanes|=i,cs|=i,o)}function w0(i,s,o,u){return Rn(o,s)?o:bo.current!==null?(i=kp(i,o,u),Rn(i,s)||(De=!0),i):(yr&42)===0||(yr&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=o):(i=wT(),Ct.lanes|=i,cs|=i,s)}function R0(i,s,o,u,d){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=Z.T,b={};Z.T=b,zp(i,!1,s,o);try{var V=d(),Y=Z.S;if(Y!==null&&Y(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var $=KI(V,u);au(i,s,$,Pn(i))}else au(i,s,u,Pn(i))}catch(et){au(i,s,{then:function(){},status:"rejected",reason:et},Pn())}finally{ot.p=g,T!==null&&b.types!==null&&(T.types=b.types),Z.T=T}}function ZI(){}function Lp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=C0(i).queue;R0(i,d,s,dt,o===null?ZI:function(){return I0(i),o(u)})}function C0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function I0(i){var s=C0(i);s.next===null&&(s=i.alternate.memoizedState),au(i,s.next.queue,{},Pn())}function Up(){return Qe(bu)}function x0(){return Te().memoizedState}function D0(){return Te().memoizedState}function JI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Pn();i=rs(o);var u=ss(s,i,o);u!==null&&(Tn(u,s,o),eu(u,s,o)),s={cache:dp()},i.payload=s;return}s=s.return}}function tx(i,s,o){var u=Pn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ch(i)?P0(s,o):(o=np(i,s,o,u),o!==null&&(Tn(o,i,u),V0(o,s,u)))}function M0(i,s,o){var u=Pn();au(i,s,o,u)}function au(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ch(i))P0(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,b=g(T,o);if(d.hasEagerState=!0,d.eagerState=b,Rn(b,T))return oh(i,s,d,0),ee===null&&ah(),!1}catch{}if(o=np(i,s,d,u),o!==null)return Tn(o,i,u),V0(o,s,u),!0}return!1}function zp(i,s,o,u){if(u={lane:2,revertLane:ym(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ch(i)){if(s)throw Error(r(479))}else s=np(i,o,u,2),s!==null&&Tn(s,i,2)}function Ch(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function P0(i,s){Ao=Th=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function V0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Il(i,o)}}var ou={readContext:Qe,use:bh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};ou.useEffectEvent=pe;var O0={readContext:Qe,use:bh,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:Qe,useEffect:y0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,wh(4194308,4,E0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return wh(4194308,4,i,s)},useInsertionEffect:function(i,s){wh(4,2,i,s)},useMemo:function(i,s){var o=fn();s=s===void 0?null:s;var u=i();if(Ta){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=fn();if(o!==void 0){var d=o(s);if(Ta){Ln(!0);try{o(s)}finally{Ln(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=tx.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=Pp(i);var s=i.queue,o=M0.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Np,useDeferredValue:function(i,s){var o=fn();return kp(o,i,s)},useTransition:function(){var i=Pp(!1);return i=R0.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,d=fn();if(zt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ee===null)throw Error(r(349));(Ot&127)!==0||e0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,y0(i0.bind(null,u,g,i),[i]),u.flags|=2048,Ro(9,{destroy:void 0},n0.bind(null,u,g,o,s),null),o},useId:function(){var i=fn(),s=ee.identifierPrefix;if(zt){var o=Bi,u=ji;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=YI++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Up,useFormState:f0,useActionState:f0,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zp.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:xp,useCacheRefresh:function(){return fn().memoizedState=JI.bind(null,Ct)},useEffectEvent:function(i){var s=fn(),o={impl:i};return s.memoizedState=o,function(){if((Gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},jp={readContext:Qe,use:bh,useCallback:b0,useContext:Qe,useEffect:Op,useImperativeHandle:S0,useInsertionEffect:_0,useLayoutEffect:T0,useMemo:A0,useReducer:Ah,useRef:g0,useState:function(){return Ah(vr)},useDebugValue:Np,useDeferredValue:function(i,s){var o=Te();return w0(o,$t.memoizedState,i,s)},useTransition:function(){var i=Ah(vr)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:su(i),s]},useSyncExternalStore:t0,useId:x0,useHostTransitionStatus:Up,useFormState:d0,useActionState:d0,useOptimistic:function(i,s){var o=Te();return a0(o,$t,i,s)},useMemoCache:xp,useCacheRefresh:D0};jp.useEffectEvent=v0;var N0={readContext:Qe,use:bh,useCallback:b0,useContext:Qe,useEffect:Op,useImperativeHandle:S0,useInsertionEffect:_0,useLayoutEffect:T0,useMemo:A0,useReducer:Mp,useRef:g0,useState:function(){return Mp(vr)},useDebugValue:Np,useDeferredValue:function(i,s){var o=Te();return $t===null?kp(o,i,s):w0(o,$t.memoizedState,i,s)},useTransition:function(){var i=Mp(vr)[0],s=Te().memoizedState;return[typeof i=="boolean"?i:su(i),s]},useSyncExternalStore:t0,useId:x0,useHostTransitionStatus:Up,useFormState:m0,useActionState:m0,useOptimistic:function(i,s){var o=Te();return $t!==null?a0(o,$t,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xp,useCacheRefresh:D0};N0.useEffectEvent=v0;function Bp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Fp={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Pn(),d=rs(u);d.payload=s,o!=null&&(d.callback=o),s=ss(i,d,u),s!==null&&(Tn(s,i,u),eu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Pn(),d=rs(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ss(i,d,u),s!==null&&(Tn(s,i,u),eu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Pn(),u=rs(o);u.tag=2,s!=null&&(u.callback=s),s=ss(i,u,o),s!==null&&(Tn(s,i,o),eu(s,i,o))}};function k0(i,s,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,u)||!Yl(d,g):!0}function L0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Fp.enqueueReplaceState(s,s.state,null)}function Ea(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function U0(i){sh(i)}function z0(i){console.error(i)}function j0(i){sh(i)}function Ih(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function B0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hp(i,s,o){return o=rs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ih(i,s)},o}function F0(i){return i=rs(i),i.tag=3,i}function H0(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){B0(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){B0(s,o,u),typeof d!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function ex(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&vo(s,o,d,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Yn===null?jh():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===mh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),pm(i,u,d)),!1;case 22:return o.flags|=65536,u===mh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),pm(i,u,d)),!1}throw Error(r(435,o.tag))}return pm(i,u,d),jh(),!1}if(zt)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==lp&&(i=Error(r(422),{cause:u}),Ql(Hn(i,o)))):(u!==lp&&(s=Error(r(423),{cause:u}),Ql(Hn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Hn(u,o),d=Hp(i.stateNode,u,d),_p(i,d),me!==4&&(me=2)),!1;var g=Error(r(520),{cause:u});if(g=Hn(g,o),mu===null?mu=[g]:mu.push(g),me!==4&&(me=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Hp(o.stateNode,u,i),_p(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=F0(d),H0(d,i,o,u),_p(o,d),!1}o=o.return}while(o!==null);return!1}var qp=Error(r(461)),De=!1;function $e(i,s,o,u){s.child=i===null?Y_(s,null,o,u):_a(s,i.child,o,u)}function q0(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return ma(s),u=wp(i,s,o,T,g,d),b=Rp(),i!==null&&!De?(Cp(i,s,d),_r(i,s,d)):(zt&&b&&ap(s),s.flags|=1,$e(i,s,u,d),s.child)}function G0(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!ip(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,K0(i,s,g,u,d)):(i=uh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Zp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(T,u)&&i.ref===s.ref)return _r(i,s,d)}return s.flags|=1,i=dr(g,u),i.ref=s.ref,i.return=s,s.child=i}function K0(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Yl(g,u)&&i.ref===s.ref)if(De=!1,s.pendingProps=u=g,Zp(i,d))(i.flags&131072)!==0&&(De=!0);else return s.lanes=i.lanes,_r(i,s,d)}return Gp(i,s,o,u,d)}function Y0(i,s,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return W0(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&dh(s,g!==null?g.cachePool:null),g!==null?Q_(s,g):Ep(),$_(s);else return u=s.lanes=536870912,W0(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(dh(s,g.cachePool),Q_(s,g),os(),s.memoizedState=null):(i!==null&&dh(s,null),Ep(),os());return $e(i,s,d,o),s.child}function lu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function W0(i,s,o,u,d){var g=mp();return g=g===null?null:{parent:Ie._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&dh(s,null),Ep(),$_(s),i!==null&&vo(i,s,u,!0),s.childLanes=d,null}function xh(i,s){return s=Mh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function X0(i,s,o){return _a(s,i.child,null,o),i=xh(s,s.pendingProps),i.flags|=2,xn(s),s.memoizedState=null,i}function nx(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=xh(s,u),s.lanes=536870912,lu(null,i);if(bp(s),(i=ie)?(i=oE(i,Kn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Jr!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=P_(i),o.return=s,s.child=o,Xe=s,ie=null)):i=null,i===null)throw es(s);return s.lanes=536870912,null}return xh(s,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(bp(s),d)if(s.flags&256)s.flags&=-257,s=X0(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(De||vo(i,s,o,!1),d=(o&i.childLanes)!==0,De||d){if(u=ee,u!==null&&(T=xl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ha(i,T),Tn(u,i,T),qp;jh(),s=X0(i,s,o)}else i=g.treeContext,ie=Wn(T.nextSibling),Xe=s,zt=!0,ts=null,Kn=!1,i!==null&&N_(s,i),s=xh(s,u),s.flags|=4096;return s}return i=dr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Dh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Gp(i,s,o,u,d){return ma(s),o=wp(i,s,o,u,void 0,d),u=Rp(),i!==null&&!De?(Cp(i,s,d),_r(i,s,d)):(zt&&u&&ap(s),s.flags|=1,$e(i,s,o,d),s.child)}function Q0(i,s,o,u,d,g){return ma(s),s.updateQueue=null,o=J_(s,u,o,d),Z_(i),u=Rp(),i!==null&&!De?(Cp(i,s,g),_r(i,s,g)):(zt&&u&&ap(s),s.flags|=1,$e(i,s,o,g),s.child)}function $0(i,s,o,u,d){if(ma(s),s.stateNode===null){var g=po,T=o.contextType;typeof T=="object"&&T!==null&&(g=Qe(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},yp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?Qe(T):po,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Bp(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Fp.enqueueReplaceState(g,g.state,null),iu(s,u,g,d),nu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var b=s.memoizedProps,V=Ea(o,b);g.props=V;var Y=g.context,$=o.contextType;T=po,typeof $=="object"&&$!==null&&(T=Qe($));var et=o.getDerivedStateFromProps;$=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||Y!==T)&&L0(s,g,u,T),is=!1;var W=s.memoizedState;g.state=W,iu(s,u,g,d),nu(),Y=s.memoizedState,b||W!==Y||is?(typeof et=="function"&&(Bp(s,o,et,u),Y=s.memoizedState),(V=is||k0(s,o,V,u,W,Y,T))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,vp(i,s),T=s.memoizedProps,$=Ea(o,T),g.props=$,et=s.pendingProps,W=g.context,Y=o.contextType,V=po,typeof Y=="object"&&Y!==null&&(V=Qe(Y)),b=o.getDerivedStateFromProps,(Y=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==et||W!==V)&&L0(s,g,u,V),is=!1,W=s.memoizedState,g.state=W,iu(s,u,g,d),nu();var Q=s.memoizedState;T!==et||W!==Q||is||i!==null&&i.dependencies!==null&&hh(i.dependencies)?(typeof b=="function"&&(Bp(s,o,b,u),Q=s.memoizedState),($=is||k0(s,o,$,u,W,Q,V)||i!==null&&i.dependencies!==null&&hh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=V,u=$):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Dh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=_a(s,i.child,null,d),s.child=_a(s,null,o,d)):$e(i,s,o,d),s.memoizedState=g.state,i=s.child):i=_r(i,s,d),i}function Z0(i,s,o,u){return da(),s.flags|=256,$e(i,s,o,u),s.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(i){return{baseLanes:i,cachePool:B_()}}function Wp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Mn),i}function J0(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(_e.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(d?as(s):os(),(i=ie)?(i=oE(i,Kn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Jr!==null?{id:ji,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=P_(i),o.return=s,s.child=o,Xe=s,ie=null)):i=null,i===null)throw es(s);return Dm(i)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,d?(os(),d=s.mode,b=Mh({mode:"hidden",children:b},d),u=fa(u,d,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=Yp(o),u.childLanes=Wp(i,T,o),s.memoizedState=Kp,lu(null,u)):(as(s),Xp(s,b))}var V=i.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=Qp(i,s,o)):s.memoizedState!==null?(os(),s.child=i.child,s.flags|=128,s=null):(os(),b=u.fallback,d=s.mode,u=Mh({mode:"visible",children:u.children},d),b=fa(b,d,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,_a(s,i.child,null,o),u=s.child,u.memoizedState=Yp(o),u.childLanes=Wp(i,T,o),s.memoizedState=Kp,s=lu(null,u));else if(as(s),Dm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(r(419)),u.stack="",u.digest=T,Ql({value:u,source:null,stack:null}),s=Qp(i,s,o)}else if(De||vo(i,s,o,!1),T=(o&i.childLanes)!==0,De||T){if(T=ee,T!==null&&(u=xl(T,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ha(i,u),Tn(T,i,u),qp;xm(b)||jh(),s=Qp(i,s,o)}else xm(b)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,ie=Wn(b.nextSibling),Xe=s,zt=!0,ts=null,Kn=!1,i!==null&&N_(s,i),s=Xp(s,u.children),s.flags|=4096);return s}return d?(os(),b=u.fallback,d=s.mode,V=i.child,Y=V.sibling,u=dr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?b=dr(Y,b):(b=fa(b,d,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,lu(null,u),u=s.child,b=i.child.memoizedState,b===null?b=Yp(o):(d=b.cachePool,d!==null?(V=Ie._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=B_(),b={baseLanes:b.baseLanes|o,cachePool:d}),u.memoizedState=b,u.childLanes=Wp(i,T,o),s.memoizedState=Kp,lu(i.child,u)):(as(s),o=i.child,i=o.sibling,o=dr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Xp(i,s){return s=Mh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Mh(i,s){return i=Cn(22,i,null,s),i.lanes=0,i}function Qp(i,s,o){return _a(s,i.child,null,o),i=Xp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tT(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),hp(i.return,s,o)}function $p(i,s,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function eT(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=_e.current,b=(T&2)!==0;if(b?(T=T&1|2,s.flags|=128):T&=1,ut(_e,T),$e(i,s,u,o),u=zt?Xl:0,!b&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tT(i,o,s);else if(i.tag===19)tT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),$p(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&_h(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}$p(s,!0,o,null,g,u);break;case"together":$p(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _r(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(vo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=dr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=dr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Zp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hh(i)))}function ix(i,s,o){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),ns(s,Ie,i.memoizedState.cache),da();break;case 27:case 5:Ys(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?J0(i,s,o):(as(s),i=_r(i,s,o),i!==null?i.sibling:null);as(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(vo(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return eT(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ut(_e,_e.current),u)break;return null;case 22:return s.lanes=0,Y0(i,s,o,s.pendingProps);case 24:ns(s,Ie,i.memoizedState.cache)}return _r(i,s,o)}function nT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)De=!0;else{if(!Zp(i,o)&&(s.flags&128)===0)return De=!1,ix(i,s,o);De=(i.flags&131072)!==0}else De=!1,zt&&(s.flags&1048576)!==0&&O_(s,Xl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=ya(s.elementType),s.type=i,typeof i=="function")ip(i)?(u=Ea(i,u),s.tag=1,s=$0(null,s,i,u,o)):(s.tag=0,s=Gp(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===it){s.tag=11,s=q0(null,s,i,u,o);break t}else if(d===C){s.tag=14,s=G0(null,s,i,u,o);break t}}throw s=te(i)||i,Error(r(306,s,""))}}return s;case 0:return Gp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Ea(u,s.pendingProps),$0(i,s,u,d,o);case 3:t:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,vp(i,s),iu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,ns(s,Ie,u),u!==g.cache&&fp(s,[Ie],o,!0),nu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Z0(i,s,u,o);break t}else if(u!==d){d=Hn(Error(r(424)),s),Ql(d),s=Z0(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=Wn(i.firstChild),Xe=s,zt=!0,ts=null,Kn=!0,o=Y_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(da(),u===d){s=_r(i,s,o);break t}$e(i,s,u,o)}s=s.child}return s;case 26:return Dh(i,s),i===null?(o=dE(s.type,null,s.pendingProps,null))?s.memoizedState=o:zt||(o=s.type,i=s.pendingProps,u=Yh(xt.current).createElement(o),u[we]=s,u[Fe]=i,Ze(u,o,i),Re(u),s.stateNode=u):s.memoizedState=dE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ys(s),i===null&&zt&&(u=s.stateNode=cE(s.type,s.pendingProps,xt.current),Xe=s,Kn=!0,d=ie,ms(s.type)?(Mm=d,ie=Wn(u.firstChild)):ie=d),$e(i,s,s.pendingProps.children,o),Dh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((d=u=ie)&&(u=Vx(u,s.type,s.pendingProps,Kn),u!==null?(s.stateNode=u,Xe=s,ie=Wn(u.firstChild),Kn=!1,d=!0):d=!1),d||es(s)),Ys(s),d=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Rm(d,g)?u=null:T!==null&&Rm(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=wp(i,s,WI,null,null,o),bu._currentValue=d),Dh(i,s),$e(i,s,u,o),s.child;case 6:return i===null&&zt&&((i=o=ie)&&(o=Ox(o,s.pendingProps,Kn),o!==null?(s.stateNode=o,Xe=s,ie=null,i=!0):i=!1),i||es(s)),null;case 13:return J0(i,s,o);case 4:return ke(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=_a(s,null,u,o):$e(i,s,u,o),s.child;case 11:return q0(i,s,s.type,s.pendingProps,o);case 7:return $e(i,s,s.pendingProps,o),s.child;case 8:return $e(i,s,s.pendingProps.children,o),s.child;case 12:return $e(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ns(s,s.type,u.value),$e(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ma(s),d=Qe(d),u=u(d),s.flags|=1,$e(i,s,u,o),s.child;case 14:return G0(i,s,s.type,s.pendingProps,o);case 15:return K0(i,s,s.type,s.pendingProps,o);case 19:return eT(i,s,o);case 31:return nx(i,s,o);case 22:return Y0(i,s,o,s.pendingProps);case 24:return ma(s),u=Qe(Ie),i===null?(d=mp(),d===null&&(d=ee,g=dp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},yp(s),ns(s,Ie,d)):((i.lanes&o)!==0&&(vp(i,s),iu(s,null,null,o),nu()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ns(s,Ie,u)):(u=g.cache,ns(s,Ie,u),u!==d.cache&&fp(s,[Ie],o,!0))),$e(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Tr(i){i.flags|=4}function Jp(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(xT())i.flags|=8192;else throw va=mh,gp}else i.flags&=-16777217}function iT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vE(s))if(xT())i.flags|=8192;else throw va=mh,gp}function Ph(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Uc():536870912,i.lanes|=s,Do|=s)}function uu(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function re(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function rx(i,s,o){var u=s.pendingProps;switch(op(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gr(Ie),ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(yo(s)?Tr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,up())),re(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(Tr(s),g!==null?(re(s),iT(s,g)):(re(s),Jp(s,d,null,u,o))):g?g!==i.memoizedState?(Tr(s),re(s),iT(s,g)):(re(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Tr(s),re(s),Jp(s,d,i,u,o)),null;case 27:if(Wa(s),o=xt.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Tr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}i=ft.current,yo(s)?k_(s):(i=cE(d,u,o),s.stateNode=i,Tr(s))}return re(s),null;case 5:if(Wa(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Tr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(g=ft.current,yo(s))k_(s);else{var T=Yh(xt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[we]=s,g[Fe]=u;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;t:switch(Ze(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Tr(s)}}return re(s),Jp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Tr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=xt.current,yo(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=Xe,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[we]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||JT(i.nodeValue,o)),i||es(s,!0)}else i=Yh(i).createTextNode(u),i[we]=s,s.stateNode=i}return re(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=yo(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[we]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),i=!1}else o=up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=yo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[we]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),d=!1}else d=up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Ph(s,s.updateQueue),re(s),null);case 4:return ae(),i===null&&Em(s.stateNode.containerInfo),re(s),null;case 10:return gr(s.type),re(s),null;case 19:if(nt(_e),u=s.memoizedState,u===null)return re(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)uu(u,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=_h(i),g!==null){for(s.flags|=128,uu(u,!1),i=g.updateQueue,s.updateQueue=i,Ph(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)M_(o,i),o=o.sibling;return ut(_e,_e.current&1|2),zt&&pr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&cn()>Lh&&(s.flags|=128,d=!0,uu(u,!1),s.lanes=4194304)}else{if(!d)if(i=_h(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Ph(s,i),uu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!zt)return re(s),null}else 2*cn()-u.renderingStartTime>Lh&&o!==536870912&&(s.flags|=128,d=!0,uu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=_e.current,ut(_e,d?o&1|2:o&1),zt&&pr(s,u.treeForkCount),i):(re(s),null);case 22:case 23:return xn(s),Sp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),o=s.updateQueue,o!==null&&Ph(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&nt(ga),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gr(Ie),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function sx(i,s){switch(op(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gr(Ie),ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Wa(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(xn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return nt(_e),null;case 4:return ae(),null;case 10:return gr(s.type),null;case 22:case 23:return xn(s),Sp(),i!==null&&nt(ga),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gr(Ie),null;case 25:return null;default:return null}}function rT(i,s){switch(op(s),s.tag){case 3:gr(Ie),ae();break;case 26:case 27:case 5:Wa(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:nt(_e);break;case 10:gr(s.type);break;case 22:case 23:xn(s),Sp(),i!==null&&nt(ga);break;case 24:gr(Ie)}}function cu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(b){Xt(s,s.return,b)}}function ls(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=s;var V=o,Y=b;try{Y()}catch($){Xt(d,V,$)}}}u=u.next}while(u!==g)}}catch($){Xt(s,s.return,$)}}function sT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{X_(s,o)}catch(u){Xt(i,i.return,u)}}}function aT(i,s,o){o.props=Ea(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xt(i,s,u)}}function hu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Xt(i,s,d)}}function Fi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xt(i,s,d)}else o.current=null}function oT(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xt(i,i.return,d)}}function tm(i,s,o){try{var u=i.stateNode;Cx(u,i.type,o,s),u[Fe]=s}catch(d){Xt(i,i.return,d)}}function lT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ms(i.type)||i.tag===4}function em(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||lT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ai));else if(u!==4&&(u===27&&ms(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(nm(i,s,o),i=i.sibling;i!==null;)nm(i,s,o),i=i.sibling}function Vh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ms(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,s,o),i=i.sibling;i!==null;)Vh(i,s,o),i=i.sibling}function uT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ze(s,u,o),s[we]=i,s[Fe]=o}catch(g){Xt(i,i.return,g)}}var Er=!1,Me=!1,im=!1,cT=typeof WeakSet=="function"?WeakSet:Set,qe=null;function ax(i,s){if(i=i.containerInfo,Am=tf,i=S_(i),Qd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,b=-1,V=-1,Y=0,$=0,et=i,W=null;e:for(;;){for(var Q;et!==o||d!==0&&et.nodeType!==3||(b=T+d),et!==g||u!==0&&et.nodeType!==3||(V=T+u),et.nodeType===3&&(T+=et.nodeValue.length),(Q=et.firstChild)!==null;)W=et,et=Q;for(;;){if(et===i)break e;if(W===o&&++Y===d&&(b=T),W===g&&++$===u&&(V=T),(Q=et.nextSibling)!==null)break;et=W,W=et.parentNode}et=Q}o=b===-1||V===-1?null:{start:b,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(wm={focusedElem:i,selectionRange:o},tf=!1,qe=s;qe!==null;)if(s=qe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qe=i;else for(;qe!==null;){switch(s=qe,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pt=Ea(o.type,d);i=u.getSnapshotBeforeUpdate(pt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Im(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Im(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qe=i;break}qe=s.return}}function hT(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:br(i,o),u&4&&cu(5,o);break;case 1:if(br(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var d=Ea(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}u&64&&sT(o),u&512&&hu(o,o.return);break;case 3:if(br(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{X_(i,s)}catch(T){Xt(o,o.return,T)}}break;case 27:s===null&&u&4&&uT(o);case 26:case 5:br(i,o),s===null&&u&4&&oT(o),u&512&&hu(o,o.return);break;case 12:br(i,o);break;case 31:br(i,o),u&4&&pT(i,o);break;case 13:br(i,o),u&4&&mT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=mx.bind(null,o),Nx(i,o))));break;case 22:if(u=o.memoizedState!==null||Er,!u){s=s!==null&&s.memoizedState!==null||Me,d=Er;var g=Me;Er=u,(Me=s)&&!g?Ar(i,o,(o.subtreeFlags&8772)!==0):br(i,o),Er=d,Me=g}break;case 30:break;default:br(i,o)}}function fT(i){var s=i.alternate;s!==null&&(i.alternate=null,fT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ja(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,gn=!1;function Sr(i,s,o){for(o=o.child;o!==null;)dT(i,s,o),o=o.sibling}function dT(i,s,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:Me||Fi(o,s),Sr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||Fi(o,s);var u=le,d=gn;ms(o.type)&&(le=o.stateNode,gn=!1),Sr(i,s,o),Tu(o.stateNode),le=u,gn=d;break;case 5:Me||Fi(o,s);case 6:if(u=le,d=gn,le=null,Sr(i,s,o),le=u,gn=d,le!==null)if(gn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(o.stateNode)}catch(g){Xt(o,s,g)}else try{le.removeChild(o.stateNode)}catch(g){Xt(o,s,g)}break;case 18:le!==null&&(gn?(i=le,sE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Uo(i)):sE(le,o.stateNode));break;case 4:u=le,d=gn,le=o.stateNode.containerInfo,gn=!0,Sr(i,s,o),le=u,gn=d;break;case 0:case 11:case 14:case 15:ls(2,o,s),Me||ls(4,o,s),Sr(i,s,o);break;case 1:Me||(Fi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&aT(o,s,u)),Sr(i,s,o);break;case 21:Sr(i,s,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,Sr(i,s,o),Me=u;break;default:Sr(i,s,o)}}function pT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Uo(i)}catch(o){Xt(s,s.return,o)}}}function mT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Uo(i)}catch(o){Xt(s,s.return,o)}}function ox(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new cT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new cT),s;default:throw Error(r(435,i.tag))}}function Oh(i,s){var o=ox(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=gx.bind(null,i,u);u.then(d,d)}})}function yn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=s,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(ms(b.type)){le=b.stateNode,gn=!1;break t}break;case 5:le=b.stateNode,gn=!1;break t;case 3:case 4:le=b.stateNode.containerInfo,gn=!0;break t}b=b.return}if(le===null)throw Error(r(160));dT(g,T,d),le=null,gn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gT(s,i),s=s.sibling}var fi=null;function gT(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(s,i),vn(i),u&4&&(ls(3,i,i.return),cu(3,i),ls(5,i,i.return));break;case 1:yn(s,i),vn(i),u&512&&(Me||o===null||Fi(o,o.return)),u&64&&Er&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=fi;if(yn(s,i),vn(i),u&512&&(Me||o===null||Fi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ii]||g[we]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ze(g,u,o),g[we]=i,Re(g),u=g;break t;case"link":var T=gE("link","href",d).get(u+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break e}}g=d.createElement(u),Ze(g,u,o),d.head.appendChild(g);break;case"meta":if(T=gE("meta","content",d).get(u+(o.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break e}}g=d.createElement(u),Ze(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[we]=i,Re(g),u=g}i.stateNode=u}else yE(d,i.type,i.stateNode);else i.stateNode=mE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?yE(d,i.type,i.stateNode):mE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&tm(i,i.memoizedProps,o.memoizedProps)}break;case 27:yn(s,i),vn(i),u&512&&(Me||o===null||Fi(o,o.return)),o!==null&&u&4&&tm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(yn(s,i),vn(i),u&512&&(Me||o===null||Fi(o,o.return)),i.flags&32){d=i.stateNode;try{mn(d,"")}catch(pt){Xt(i,i.return,pt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,tm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(im=!0);break;case 6:if(yn(s,i),vn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pt){Xt(i,i.return,pt)}}break;case 3:if(Qh=null,d=fi,fi=Wh(s.containerInfo),yn(s,i),fi=d,vn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Uo(s.containerInfo)}catch(pt){Xt(i,i.return,pt)}im&&(im=!1,yT(i));break;case 4:u=fi,fi=Wh(i.stateNode.containerInfo),yn(s,i),vn(i),fi=u;break;case 12:yn(s,i),vn(i);break;case 31:yn(s,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 13:yn(s,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Y=Er,$=Me;if(Er=Y||d,Me=$||V,yn(s,i),Me=$,Er=Y,vn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Er||Me||Sa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=V.stateNode;var et=V.memoizedProps.style,W=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pt){Xt(V,V.return,pt)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(pt){Xt(V,V.return,pt)}}}else if(s.tag===18){if(o===null){V=s;try{var Q=V.stateNode;d?aE(Q,!0):aE(V.stateNode,!1)}catch(pt){Xt(V,V.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Oh(i,o))));break;case 19:yn(s,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 30:break;case 21:break;default:yn(s,i),vn(i)}}function vn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(lT(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=em(i);Vh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(mn(T,""),o.flags&=-33);var b=em(i);Vh(i,b,T);break;case 3:case 4:var V=o.stateNode.containerInfo,Y=em(i);nm(i,Y,V);break;default:throw Error(r(161))}}catch($){Xt(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function yT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;yT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function br(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hT(i,s.alternate,s),s=s.sibling}function Sa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),Sa(s);break;case 1:Fi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&aT(s,s.return,o),Sa(s);break;case 27:Tu(s.stateNode);case 26:case 5:Fi(s,s.return),Sa(s);break;case 22:s.memoizedState===null&&Sa(s);break;case 30:Sa(s);break;default:Sa(s)}i=i.sibling}}function Ar(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ar(d,g,o),cu(4,g);break;case 1:if(Ar(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Xt(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var b=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)W_(V[d],b)}catch(Y){Xt(u,u.return,Y)}}o&&T&64&&sT(g),hu(g,g.return);break;case 27:uT(g);case 26:case 5:Ar(d,g,o),o&&u===null&&T&4&&oT(g),hu(g,g.return);break;case 12:Ar(d,g,o);break;case 31:Ar(d,g,o),o&&T&4&&pT(d,g);break;case 13:Ar(d,g,o),o&&T&4&&mT(d,g);break;case 22:g.memoizedState===null&&Ar(d,g,o),hu(g,g.return);break;case 30:break;default:Ar(d,g,o)}s=s.sibling}}function rm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$l(o))}function sm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i))}function di(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vT(i,s,o,u),s=s.sibling}function vT(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:di(i,s,o,u),d&2048&&cu(9,s);break;case 1:di(i,s,o,u);break;case 3:di(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i)));break;case 12:if(d&2048){di(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Xt(s,s.return,V)}}else di(i,s,o,u);break;case 31:di(i,s,o,u);break;case 13:di(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?di(i,s,o,u):fu(i,s):g._visibility&2?di(i,s,o,u):(g._visibility|=2,Co(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&rm(T,s);break;case 24:di(i,s,o,u),d&2048&&sm(s.alternate,s);break;default:di(i,s,o,u)}}function Co(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,b=o,V=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Co(g,T,b,V,d),cu(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Co(g,T,b,V,d):fu(g,T):($._visibility|=2,Co(g,T,b,V,d)),d&&Y&2048&&rm(T.alternate,T);break;case 24:Co(g,T,b,V,d),d&&Y&2048&&sm(T.alternate,T);break;default:Co(g,T,b,V,d)}s=s.sibling}}function fu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:fu(o,u),d&2048&&rm(u.alternate,u);break;case 24:fu(o,u),d&2048&&sm(u.alternate,u);break;default:fu(o,u)}s=s.sibling}}var du=8192;function Io(i,s,o){if(i.subtreeFlags&du)for(i=i.child;i!==null;)_T(i,s,o),i=i.sibling}function _T(i,s,o){switch(i.tag){case 26:Io(i,s,o),i.flags&du&&i.memoizedState!==null&&Yx(o,fi,i.memoizedState,i.memoizedProps);break;case 5:Io(i,s,o);break;case 3:case 4:var u=fi;fi=Wh(i.stateNode.containerInfo),Io(i,s,o),fi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=du,du=16777216,Io(i,s,o),du=u):Io(i,s,o));break;default:Io(i,s,o)}}function TT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qe=u,ST(u,i)}TT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ET(i),i=i.sibling}function ET(i){switch(i.tag){case 0:case 11:case 15:pu(i),i.flags&2048&&ls(9,i,i.return);break;case 3:pu(i);break;case 12:pu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Nh(i)):pu(i);break;default:pu(i)}}function Nh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qe=u,ST(u,i)}TT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ls(8,s,s.return),Nh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(s));break;default:Nh(s)}i=i.sibling}}function ST(i,s){for(;qe!==null;){var o=qe;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qe=u;else t:for(o=i;qe!==null;){u=qe;var d=u.sibling,g=u.return;if(fT(u),u===o){qe=null;break t}if(d!==null){d.return=g,qe=d;break t}qe=g}}}var lx={getCacheForType:function(i){var s=Qe(Ie),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Qe(Ie).controller.signal}},ux=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Mt=null,Ot=0,Wt=0,Dn=null,us=!1,xo=!1,am=!1,wr=0,me=0,cs=0,ba=0,om=0,Mn=0,Do=0,mu=null,_n=null,lm=!1,kh=0,bT=0,Lh=1/0,Uh=null,hs=null,Ue=0,fs=null,Mo=null,Rr=0,um=0,cm=null,AT=null,gu=0,hm=null;function Pn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?ym():zc()}function wT(){if(Mn===0)if((Ot&536870912)===0||zt){var i=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),Mn=i}else Mn=536870912;return i=In.current,i!==null&&(i.flags|=32),Mn}function Tn(i,s,o){(i===ee&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(Po(i,0),ds(i,Ot,Mn,!1)),$s(i,o),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(ba|=o),me===4&&ds(i,Ot,Mn,!1)),Hi(i))}function RT(i,s,o){if((Gt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||ii(i,s),d=u?fx(i,s):dm(i,s,!0),g=u;do{if(d===0){xo&&!u&&ds(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!cx(o)){d=dm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var b=i;d=mu;var V=b.current.memoizedState.isDehydrated;if(V&&(Po(b,T).flags|=256),T=dm(b,T,!1),T!==2){if(am&&!V){b.errorRecoveryDisabledLanes|=g,ba|=g,d=4;break t}g=_n,_n=d,g!==null&&(_n===null?_n=g:_n.push.apply(_n,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Po(i,0),ds(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ds(u,s,Mn,!us);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=kh+300-cn(),10<d)){if(ds(u,s,Mn,!us),wi(u,0,!0)!==0)break t;Rr=s,u.timeoutHandle=iE(CT.bind(null,u,o,_n,Uh,lm,s,Mn,ba,Do,us,g,"Throttled",-0,0),d);break t}CT(u,o,_n,Uh,lm,s,Mn,ba,Do,us,g,null,-0,0)}}break}while(!0);Hi(i)}function CT(i,s,o,u,d,g,T,b,V,Y,$,et,W,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},_T(s,g,et);var pt=(g&62914560)===g?kh-cn():(g&4194048)===g?bT-cn():0;if(pt=Wx(et,pt),pt!==null){Rr=g,i.cancelPendingCommit=pt(NT.bind(null,i,s,g,o,u,d,T,b,V,$,et,null,W,Q)),ds(i,g,T,!Y);return}}NT(i,s,g,o,u,d,T,b,V)}function cx(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Rn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(i,s,o,u){s&=~om,s&=~ba,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-ye(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Zs(i,o,s)}function zh(){return(Gt&6)===0?(yu(0),!1):!0}function fm(){if(Mt!==null){if(Wt===0)var i=Mt.return;else i=Mt,mr=pa=null,Ip(i),So=null,Jl=0,i=Mt;for(;i!==null;)rT(i.alternate,i),i=i.return;Mt=null}}function Po(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Dx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rr=0,fm(),ee=i,Mt=o=dr(i.current,null),Ot=s,Wt=0,Dn=null,us=!1,xo=ii(i,s),am=!1,Do=Mn=om=ba=cs=me=0,_n=mu=null,lm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-ye(u),g=1<<d;s|=i[d],u&=~g}return wr=s,ah(),o}function IT(i,s){Ct=null,Z.H=ou,s===Eo||s===ph?(s=q_(),Wt=3):s===gp?(s=q_(),Wt=4):Wt=s===qp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Mt===null&&(me=1,Ih(i,Hn(s,i.current)))}function xT(){var i=In.current;return i===null?!0:(Ot&4194048)===Ot?Yn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Yn:!1}function DT(){var i=Z.H;return Z.H=ou,i===null?ou:i}function MT(){var i=Z.A;return Z.A=lx,i}function jh(){me=4,us||(Ot&4194048)!==Ot&&In.current!==null||(xo=!0),(cs&134217727)===0&&(ba&134217727)===0||ee===null||ds(ee,Ot,Mn,!1)}function dm(i,s,o){var u=Gt;Gt|=2;var d=DT(),g=MT();(ee!==i||Ot!==s)&&(Uh=null,Po(i,s)),s=!1;var T=me;t:do try{if(Wt!==0&&Mt!==null){var b=Mt,V=Dn;switch(Wt){case 8:fm(),T=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var Y=Wt;if(Wt=0,Dn=null,Vo(i,b,V,Y),o&&xo){T=0;break t}break;default:Y=Wt,Wt=0,Dn=null,Vo(i,b,V,Y)}}hx(),T=me;break}catch($){IT(i,$)}while(!0);return s&&i.shellSuspendCounter++,mr=pa=null,Gt=u,Z.H=d,Z.A=g,Mt===null&&(ee=null,Ot=0,ah()),T}function hx(){for(;Mt!==null;)PT(Mt)}function fx(i,s){var o=Gt;Gt|=2;var u=DT(),d=MT();ee!==i||Ot!==s?(Uh=null,Lh=cn()+500,Po(i,s)):xo=ii(i,s);t:do try{if(Wt!==0&&Mt!==null){s=Mt;var g=Dn;e:switch(Wt){case 1:Wt=0,Dn=null,Vo(i,s,g,1);break;case 2:case 9:if(F_(g)){Wt=0,Dn=null,VT(s);break}s=function(){Wt!==2&&Wt!==9||ee!==i||(Wt=7),Hi(i)},g.then(s,s);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:F_(g)?(Wt=0,Dn=null,VT(s)):(Wt=0,Dn=null,Vo(i,s,g,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var b=Mt;if(T?vE(T):b.stateNode.complete){Wt=0,Dn=null;var V=b.sibling;if(V!==null)Mt=V;else{var Y=b.return;Y!==null?(Mt=Y,Bh(Y)):Mt=null}break e}}Wt=0,Dn=null,Vo(i,s,g,5);break;case 6:Wt=0,Dn=null,Vo(i,s,g,6);break;case 8:fm(),me=6;break t;default:throw Error(r(462))}}dx();break}catch($){IT(i,$)}while(!0);return mr=pa=null,Z.H=u,Z.A=d,Gt=o,Mt!==null?0:(ee=null,Ot=0,ah(),me)}function dx(){for(;Mt!==null&&!Hd();)PT(Mt)}function PT(i){var s=nT(i.alternate,i,wr);i.memoizedProps=i.pendingProps,s===null?Bh(i):Mt=s}function VT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Q0(o,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=Q0(o,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Ip(s);default:rT(o,s),s=Mt=M_(s,wr),s=nT(o,s,wr)}i.memoizedProps=i.pendingProps,s===null?Bh(i):Mt=s}function Vo(i,s,o,u){mr=pa=null,Ip(s),So=null,Jl=0;var d=s.return;try{if(ex(i,d,s,o,Ot)){me=1,Ih(i,Hn(o,i.current)),Mt=null;return}}catch(g){if(d!==null)throw Mt=d,g;me=1,Ih(i,Hn(o,i.current)),Mt=null;return}s.flags&32768?(zt||u===1?i=!0:xo||(Ot&536870912)!==0?i=!1:(us=i=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),OT(s,i)):Bh(s)}function Bh(i){var s=i;do{if((s.flags&32768)!==0){OT(s,us);return}i=s.return;var o=rx(s.alternate,s,wr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);me===0&&(me=5)}function OT(i,s){do{var o=sx(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);me=6,Mt=null}function NT(i,s,o,u,d,g,T,b,V){i.cancelPendingCommit=null;do Fh();while(Ue!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=ep,Kd(i,o,g,T,b,V),i===ee&&(Mt=ee=null,Ot=0),Mo=s,fs=i,Rr=o,um=g,cm=d,AT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yx(Hr,function(){return jT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=ot.p,ot.p=2,T=Gt,Gt|=4;try{ax(i,s,o)}finally{Gt=T,ot.p=d,Z.T=u}}Ue=1,kT(),LT(),UT()}}function kT(){if(Ue===1){Ue=0;var i=fs,s=Mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{gT(s,i);var g=wm,T=S_(i.containerInfo),b=g.focusedElem,V=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&E_(b.ownerDocument.documentElement,b)){if(V!==null&&Qd(b)){var Y=V.start,$=V.end;if($===void 0&&($=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min($,b.value.length);else{var et=b.ownerDocument||document,W=et&&et.defaultView||window;if(W.getSelection){var Q=W.getSelection(),pt=b.textContent.length,vt=Math.min(V.start,pt),Jt=V.end===void 0?vt:Math.min(V.end,pt);!Q.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var H=T_(b,vt),L=T_(b,Jt);if(H&&L&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var K=et.createRange();K.setStart(H.node,H.offset),Q.removeAllRanges(),vt>Jt?(Q.addRange(K),Q.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),Q.addRange(K))}}}}for(et=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var J=et[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}tf=!!Am,wm=Am=null}finally{Gt=d,ot.p=u,Z.T=o}}i.current=s,Ue=2}}function LT(){if(Ue===2){Ue=0;var i=fs,s=Mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{hT(i,s.alternate,s)}finally{Gt=d,ot.p=u,Z.T=o}}Ue=3}}function UT(){if(Ue===4||Ue===3){Ue=0,Pc();var i=fs,s=Mo,o=Rr,u=AT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ue=5:(Ue=0,Mo=fs=null,zT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(hs=null),ur(o),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ni,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=ot.p,ot.p=2,Z.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var b=u[T];g(b.value,{componentStack:b.stack})}}finally{Z.T=s,ot.p=d}}(Rr&3)!==0&&Fh(),Hi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===hm?gu++:(gu=0,hm=i):gu=0,yu(0)}}function zT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$l(s)))}function Fh(){return kT(),LT(),UT(),jT()}function jT(){if(Ue!==5)return!1;var i=fs,s=um;um=0;var o=ur(Rr),u=Z.T,d=ot.p;try{ot.p=32>o?32:o,Z.T=null,o=cm,cm=null;var g=fs,T=Rr;if(Ue=0,Mo=fs=null,Rr=0,(Gt&6)!==0)throw Error(r(331));var b=Gt;if(Gt|=4,ET(g.current),vT(g,g.current,T,o),Gt=b,yu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ni,g)}catch{}return!0}finally{ot.p=d,Z.T=u,zT(i,s)}}function BT(i,s,o){s=Hn(o,s),s=Hp(i.stateNode,s,2),i=ss(i,s,2),i!==null&&($s(i,2),Hi(i))}function Xt(i,s,o){if(i.tag===3)BT(i,i,o);else for(;s!==null;){if(s.tag===3){BT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){i=Hn(o,i),o=F0(2),u=ss(s,o,2),u!==null&&(H0(o,u,s,i),$s(u,2),Hi(u));break}}s=s.return}}function pm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new ux;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(am=!0,d.add(o),i=px.bind(null,i,s,o),s.then(i,i))}function px(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Ot&o)===o&&(me===4||me===3&&(Ot&62914560)===Ot&&300>cn()-kh?(Gt&2)===0&&Po(i,0):om|=o,Do===Ot&&(Do=0)),Hi(i)}function FT(i,s){s===0&&(s=Uc()),i=ha(i,s),i!==null&&($s(i,s),Hi(i))}function mx(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),FT(i,o)}function gx(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),FT(i,o)}function yx(i,s){return Le(i,s)}var Hh=null,Oo=null,mm=!1,qh=!1,gm=!1,ps=0;function Hi(i){i!==Oo&&i.next===null&&(Oo===null?Hh=Oo=i:Oo=Oo.next=i),qh=!0,mm||(mm=!0,_x())}function yu(i,s){if(!gm&&qh){gm=!0;do for(var o=!1,u=Hh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-ye(42|i)+1)-1,g&=d&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,KT(u,g))}else g=Ot,g=wi(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ii(u,g)||(o=!0,KT(u,g));u=u.next}while(o);gm=!1}}function vx(){HT()}function HT(){qh=mm=!1;var i=0;ps!==0&&xx()&&(i=ps);for(var s=cn(),o=null,u=Hh;u!==null;){var d=u.next,g=qT(u,s);g===0?(u.next=null,o===null?Hh=d:o.next=d,d===null&&(Oo=o)):(o=u,(i!==0||(g&3)!==0)&&(qh=!0)),u=d}Ue!==0&&Ue!==5||yu(i),ps!==0&&(ps=0)}function qT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ye(g),b=1<<T,V=d[T];V===-1?((b&o)===0||(b&u)!==0)&&(d[T]=Gd(b,s)):V<=s&&(i.expiredLanes|=b),g&=~b}if(s=ee,o=Ot,o=wi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Fr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Fr(u),ur(o)){case 2:case 8:o=Cl;break;case 32:o=Hr;break;case 268435456:o=Vc;break;default:o=Hr}return u=GT.bind(null,i),o=Le(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Fr(u),i.callbackPriority=2,i.callbackNode=null,2}function GT(i,s){if(Ue!==0&&Ue!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var u=Ot;return u=wi(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(RT(i,u,s),qT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?GT.bind(null,i):null)}function KT(i,s){if(Fh())return null;RT(i,s,!0)}function _x(){Mx(function(){(Gt&6)!==0?Le(Rl,vx):HT()})}function ym(){if(ps===0){var i=_o;i===0&&(i=bi,bi<<=1,(bi&261888)===0&&(bi=256)),ps=i}return ps}function YT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:io(""+i)}function WT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function Tx(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=YT((d[Fe]||null).action),T=u.submitter;T&&(s=(s=T[Fe]||null)?YT(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var b=new ki("action","action",null,u,d);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=T?WT(d,T):new FormData(d);Lp(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(b.preventDefault(),V=T?WT(d,T):new FormData(d),Lp(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var vm=0;vm<tp.length;vm++){var _m=tp[vm],Ex=_m.toLowerCase(),Sx=_m[0].toUpperCase()+_m.slice(1);hi(Ex,"on"+Sx)}hi(w_,"onAnimationEnd"),hi(R_,"onAnimationIteration"),hi(C_,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(UI,"onTransitionRun"),hi(zI,"onTransitionStart"),hi(jI,"onTransitionCancel"),hi(I_,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function XT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],V=b.instance,Y=b.currentTarget;if(b=b.listener,V!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=Y;try{g(d)}catch($){sh($)}d.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(b=u[T],V=b.instance,Y=b.currentTarget,b=b.listener,V!==g&&d.isPropagationStopped())break t;g=b,d.currentTarget=Y;try{g(d)}catch($){sh($)}d.currentTarget=null,g=V}}}}function Pt(i,s){var o=s[Za];o===void 0&&(o=s[Za]=new Set);var u=i+"__bubble";o.has(u)||(QT(s,i,2,!1),o.add(u))}function Tm(i,s,o){var u=0;s&&(u|=4),QT(o,i,u,s)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Em(i){if(!i[Gh]){i[Gh]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(bx.has(o)||Tm(o,!1,i),Tm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gh]||(s[Gh]=!0,Tm("selectionchange",!1,s))}}function QT(i,s,o,u){switch(wE(s)){case 2:var d=$x;break;case 8:d=Zx;break;default:d=km}o=d.bind(null,s,o,i),d=void 0,!ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Sm(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===d)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;b!==null;){if(T=xi(b),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue t}b=b.parentNode}}u=u.return}Xr(function(){var Y=g,$=zn(o),et=[];t:{var W=x_.get(i);if(W!==void 0){var Q=ki,pt=i;switch(i){case"keypress":if(sa(o)===0)break t;case"keydown":case"keyup":Q=nh;break;case"focusin":pt="focus",Q=oa;break;case"focusout":pt="blur",Q=oa;break;case"beforeblur":case"afterblur":Q=oa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case w_:case R_:case C_:Q=Xc;break;case I_:Q=w;break;case"scroll":case"scrollend":Q=Fl;break;case"wheel":Q=X;break;case"copy":case"cut":case"paste":Q=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=fr;break;case"toggle":case"beforetoggle":Q=Rt}var vt=(s&4)!==0,Jt=!vt&&(i==="scroll"||i==="scrollend"),H=vt?W!==null?W+"Capture":null:W;vt=[];for(var L=Y,K;L!==null;){var J=L;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||H===null||(J=oi(L,H),J!=null&&vt.push(_u(L,J,K))),Jt)break;L=L.return}0<vt.length&&(W=new Q(W,pt,null,o,$),et.push({event:W,listeners:vt}))}}if((s&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",W&&o!==zl&&(pt=o.relatedTarget||o.fromElement)&&(xi(pt)||pt[Ci]))break t;if((Q||W)&&(W=$.window===$?$:(W=$.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(pt=o.relatedTarget||o.toElement,Q=Y,pt=pt?xi(pt):null,pt!==null&&(Jt=l(pt),vt=pt.tag,pt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(pt=null)):(Q=null,pt=Y),Q!==pt)){if(vt=Hl,J="onMouseLeave",H="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(vt=fr,J="onPointerLeave",H="onPointerEnter",L="pointer"),Jt=Q==null?W:An(Q),K=pt==null?W:An(pt),W=new vt(J,L+"leave",Q,o,$),W.target=Jt,W.relatedTarget=K,J=null,xi($)===Y&&(vt=new vt(H,L+"enter",pt,o,$),vt.target=K,vt.relatedTarget=Jt,J=vt),Jt=J,Q&&pt)e:{for(vt=Ax,H=Q,L=pt,K=0,J=H;J;J=vt(J))K++;J=0;for(var gt=L;gt;gt=vt(gt))J++;for(;0<K-J;)H=vt(H),K--;for(;0<J-K;)L=vt(L),J--;for(;K--;){if(H===L||L!==null&&H===L.alternate){vt=H;break e}H=vt(H),L=vt(L)}vt=null}else vt=null;Q!==null&&$T(et,W,Q,vt,!1),pt!==null&&Jt!==null&&$T(et,Jt,pt,vt,!0)}}t:{if(W=Y?An(Y):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var Ft=p_;else if(f_(W))if(m_)Ft=NI;else{Ft=VI;var mt=PI}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&no(Y.elementType)&&(Ft=p_):Ft=OI;if(Ft&&(Ft=Ft(i,Y))){d_(et,Ft,o,$);break t}mt&&mt(i,W,Y),i==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&kl(W,"number",W.value)}switch(mt=Y?An(Y):window,i){case"focusin":(f_(mt)||mt.contentEditable==="true")&&(co=mt,$d=Y,Wl=null);break;case"focusout":Wl=$d=co=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,b_(et,o,$);break;case"selectionchange":if(LI)break;case"keydown":case"keyup":b_(et,o,$)}var Dt;if(qt)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else uo?la(i,o)&&(Nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Nt="onCompositionStart");Nt&&(zi&&o.locale!=="ko"&&(uo||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&uo&&(Dt=Bl()):(Ni=$,jl="value"in Ni?Ni.value:Ni.textContent,uo=!0)),mt=Kh(Y,Nt),0<mt.length&&(Nt=new Ui(Nt,i,null,o,$),et.push({event:Nt,listeners:mt}),Dt?Nt.data=Dt:(Dt=lo(o),Dt!==null&&(Nt.data=Dt)))),(Dt=Bn?II(i,o):xI(i,o))&&(Nt=Kh(Y,"onBeforeInput"),0<Nt.length&&(mt=new Ui("onBeforeInput","beforeinput",null,o,$),et.push({event:mt,listeners:Nt}),mt.data=Dt)),Tx(et,i,Y,o,$)}XT(et,s)})}function _u(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Kh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=oi(i,o),d!=null&&u.unshift(_u(i,d,g)),d=oi(i,s),d!=null&&u.push(_u(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Ax(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $T(i,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var b=o,V=b.alternate,Y=b.stateNode;if(b=b.tag,V!==null&&V===u)break;b!==5&&b!==26&&b!==27||Y===null||(V=Y,d?(Y=oi(o,g),Y!=null&&T.unshift(_u(o,Y,V))):d||(Y=oi(o,g),Y!=null&&T.push(_u(o,Y,V)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var wx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function ZT(i){return(typeof i=="string"?i:""+i).replace(wx,`
`).replace(Rx,"")}function JT(i,s){return s=ZT(s),ZT(i)===s}function Zt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||mn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&mn(i,""+u);break;case"className":wn(i,"class",u);break;case"tabIndex":wn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,o,u);break;case"style":Ul(i,u,g);break;case"data":if(s!=="object"){wn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=io(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Zt(i,s,"name",d.name,d,null),Zt(i,s,"formEncType",d.formEncType,d,null),Zt(i,s,"formMethod",d.formMethod,d,null),Zt(i,s,"formTarget",d.formTarget,d,null)):(Zt(i,s,"encType",d.encType,d,null),Zt(i,s,"method",d.method,d,null),Zt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=io(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ai);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=io(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),to(i,"popover",u);break;case"xlinkActuate":Ce(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ce(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ce(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ce(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ce(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ce(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":to(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kc.get(o)||o,to(i,o,u))}}function bm(i,s,o,u,d,g){switch(o){case"style":Ul(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?mn(i,u):(typeof u=="number"||typeof u=="bigint")&&mn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):to(i,o,u)}}}function Ze(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,g,T,o,null)}}d&&Zt(i,s,"srcSet",o.srcSet,o,null),u&&Zt(i,s,"src",o.src,o,null);return;case"input":Pt("invalid",i);var b=g=T=d=null,V=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var $=o[u];if($!=null)switch(u){case"name":d=$;break;case"type":T=$;break;case"checked":V=$;break;case"defaultChecked":Y=$;break;case"value":g=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Zt(i,s,u,$,o,null)}}Hc(i,g,b,V,Y,T,d,!1);return;case"select":Pt("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Zt(i,s,d,b,o,null)}s=g,o=T,i.multiple=!!u,s!=null?Gr(i,!!u,s,!1):o!=null&&Gr(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Zt(i,s,T,b,o,null)}Kr(i,u,d,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,s,V,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<vu.length;u++)Pt(vu[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,Y,u,o,null)}return;default:if(no(s)){for($ in o)o.hasOwnProperty($)&&(u=o[$],u!==void 0&&bm(i,s,$,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Zt(i,s,b,u,o,null))}function Cx(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,b=null,V=null,Y=null,$=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=et;default:u.hasOwnProperty(Q)||Zt(i,s,Q,null,u,et)}}for(var W in u){var Q=u[W];if(et=o[W],u.hasOwnProperty(W)&&(Q!=null||et!=null))switch(W){case"type":g=Q;break;case"name":d=Q;break;case"checked":Y=Q;break;case"defaultChecked":$=Q;break;case"value":T=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&Zt(i,s,W,Q,u,et)}}eo(i,T,b,V,Y,$,g,d);return;case"select":Q=T=b=W=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(g)||Zt(i,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==V&&Zt(i,s,d,g,u,V)}s=b,o=T,u=Q,W!=null?Gr(i,!!o,W,!1):!!u!=!!o&&(s!=null?Gr(i,!!o,s,!0):Gr(i,!!o,o?[]:"",!1));return;case"textarea":Q=W=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Zt(i,s,b,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":W=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Zt(i,s,T,d,u,g)}qc(i,W,Q);return;case"option":for(var pt in o)if(W=o[pt],o.hasOwnProperty(pt)&&W!=null&&!u.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:Zt(i,s,pt,null,u,W)}for(V in u)if(W=u[V],Q=o[V],u.hasOwnProperty(V)&&W!==Q&&(W!=null||Q!=null))switch(V){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Zt(i,s,V,W,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)W=o[vt],o.hasOwnProperty(vt)&&W!=null&&!u.hasOwnProperty(vt)&&Zt(i,s,vt,null,u,W);for(Y in u)if(W=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&W!==Q&&(W!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Zt(i,s,Y,W,u,Q)}return;default:if(no(s)){for(var Jt in o)W=o[Jt],o.hasOwnProperty(Jt)&&W!==void 0&&!u.hasOwnProperty(Jt)&&bm(i,s,Jt,void 0,u,W);for($ in u)W=u[$],Q=o[$],!u.hasOwnProperty($)||W===Q||W===void 0&&Q===void 0||bm(i,s,$,W,u,Q);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!u.hasOwnProperty(H)&&Zt(i,s,H,null,u,W);for(et in u)W=u[et],Q=o[et],!u.hasOwnProperty(et)||W===Q||W==null&&Q==null||Zt(i,s,et,W,u,Q)}function tE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ix(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,b=d.duration;if(g&&b&&tE(T)){for(T=0,b=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],Y=V.startTime;if(Y>b)break;var $=V.transferSize,et=V.initiatorType;$&&tE(et)&&(V=V.responseEnd,T+=$*(V<b?1:(b-Y)/(V-Y)))}if(--u,s+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Am=null,wm=null;function Yh(i){return i.nodeType===9?i:i.ownerDocument}function eE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Rm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function xx(){var i=window.event;return i&&i.type==="popstate"?i===Cm?!1:(Cm=i,!0):(Cm=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,Mx=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(i){return rE.resolve(null).then(i).catch(Px)}:iE;function Px(i){setTimeout(function(){throw i})}function ms(i){return i==="head"}function sE(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Uo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Tu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Tu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,b=g.nodeName;g[Ii]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Tu(i.ownerDocument.body);o=d}while(o);Uo(s)}function aE(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Im(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Im(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Vx(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ii])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function Ox(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function oE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Wn(i.nextSibling),i===null))return null;return i}function xm(i){return i.data==="$?"||i.data==="$~"}function Dm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Nx(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Mm=null;function lE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Wn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function uE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function cE(i,s,o){switch(s=Yh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Tu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ja(i)}var Xn=new Map,hE=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cr=ot.d;ot.d={f:kx,r:Lx,D:Ux,C:zx,L:jx,m:Bx,X:Hx,S:Fx,M:qx};function kx(){var i=Cr.f(),s=zh();return i||s}function Lx(i){var s=Un(i);s!==null&&s.tag===5&&s.type==="form"?I0(s):Cr.r(i)}var No=typeof document>"u"?null:document;function fE(i,s,o){var u=No;if(u&&typeof s=="string"&&s){var d=pn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),hE.has(d)||(hE.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Ze(s,"link",i),Re(s),u.head.appendChild(s)))}}function Ux(i){Cr.D(i),fE("dns-prefetch",i,null)}function zx(i,s){Cr.C(i,s),fE("preconnect",i,s)}function jx(i,s,o){Cr.L(i,s,o);var u=No;if(u&&i&&s){var d='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pn(o.imageSizes)+'"]')):d+='[href="'+pn(i)+'"]';var g=d;switch(s){case"style":g=ko(i);break;case"script":g=Lo(i)}Xn.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Xn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(Eu(g))||s==="script"&&u.querySelector(Su(g))||(s=u.createElement("link"),Ze(s,"link",i),Re(s),u.head.appendChild(s)))}}function Bx(i,s){Cr.m(i,s);var o=No;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Lo(i)}if(!Xn.has(g)&&(i=v({rel:"modulepreload",href:i},s),Xn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Su(g)))return}u=o.createElement("link"),Ze(u,"link",i),Re(u),o.head.appendChild(u)}}}function Fx(i,s,o){Cr.S(i,s,o);var u=No;if(u&&i){var d=Di(u).hoistableStyles,g=ko(i);s=s||"default";var T=d.get(g);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(Eu(g)))b.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Xn.get(g))&&Pm(i,o);var V=T=u.createElement("link");Re(V),Ze(V,"link",i),V._p=new Promise(function(Y,$){V.onload=Y,V.onerror=$}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(g,T)}}}function Hx(i,s){Cr.X(i,s);var o=No;if(o&&i){var u=Di(o).hoistableScripts,d=Lo(i),g=u.get(d);g||(g=o.querySelector(Su(d)),g||(i=v({src:i,async:!0},s),(s=Xn.get(d))&&Vm(i,s),g=o.createElement("script"),Re(g),Ze(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function qx(i,s){Cr.M(i,s);var o=No;if(o&&i){var u=Di(o).hoistableScripts,d=Lo(i),g=u.get(d);g||(g=o.querySelector(Su(d)),g||(i=v({src:i,async:!0,type:"module"},s),(s=Xn.get(d))&&Vm(i,s),g=o.createElement("script"),Re(g),Ze(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function dE(i,s,o,u){var d=(d=xt.current)?Wh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=Di(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var g=Di(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(Eu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),g||Gx(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Lo(o),o=Di(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ko(i){return'href="'+pn(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function pE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function Gx(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ze(s,"link",o),Re(s),i.head.appendChild(s))}function Lo(i){return'[src="'+pn(i)+'"]'}function Su(i){return"script[async]"+i}function mE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return s.instance=u,Re(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Re(u),Ze(u,"style",d),Xh(u,o.precedence,i),s.instance=u;case"stylesheet":d=ko(o.href);var g=i.querySelector(Eu(d));if(g)return s.state.loading|=4,s.instance=g,Re(g),g;u=pE(o),(d=Xn.get(d))&&Pm(u,d),g=(i.ownerDocument||i).createElement("link"),Re(g);var T=g;return T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Ze(g,"link",u),s.state.loading|=4,Xh(g,o.precedence,i),s.instance=g;case"script":return g=Lo(o.src),(d=i.querySelector(Su(g)))?(s.instance=d,Re(d),d):(u=o,(d=Xn.get(g))&&(u=v({},o),Vm(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Re(d),Ze(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xh(u,o.precedence,i));return s.instance}function Xh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Pm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Vm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Qh=null;function gE(i,s,o){if(Qh===null){var u=new Map,d=Qh=new Map;d.set(o,u)}else d=Qh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ii]||g[we]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var b=u.get(T);b?b.push(g):u.set(T,[g])}}return u}function yE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Kx(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Yx(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=ko(u.href),g=s.querySelector(Eu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=$h.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Re(g);return}g=s.ownerDocument||s,u=pE(u),(d=Xn.get(d))&&Pm(u,d),g=g.createElement("link"),Re(g);var T=g;T._p=new Promise(function(b,V){T.onload=b,T.onerror=V}),Ze(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=$h.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Om=0;function Wx(i,s){return i.stylesheets&&i.count===0&&Jh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Om===0&&(Om=62500*Ix());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Om?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function $h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zh=null;function Jh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zh=new Map,s.forEach(Xx,i),Zh=null,$h.call(i))}function Xx(i,s){if(!(s.state.loading&4)){var o=Zh.get(i);if(o)var u=o.get(null);else{o=new Map,Zh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=$h.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var bu={$$typeof:q,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Qx(i,s,o,u,d,g,T,b,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function _E(i,s,o,u,d,g,T,b,V,Y,$,et){return i=new Qx(i,s,o,T,V,Y,$,et,b),s=1,g===!0&&(s|=24),g=Cn(3,null,null,s),i.current=g,g.stateNode=i,s=dp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},yp(g),i}function TE(i){return i?(i=po,i):po}function EE(i,s,o,u,d,g){d=TE(d),u.context===null?u.context=d:u.pendingContext=d,u=rs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ss(i,u,s),o!==null&&(Tn(o,i,s),eu(o,i,s))}function SE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Nm(i,s){SE(i,s),(i=i.alternate)&&SE(i,s)}function bE(i){if(i.tag===13||i.tag===31){var s=ha(i,67108864);s!==null&&Tn(s,i,67108864),Nm(i,67108864)}}function AE(i){if(i.tag===13||i.tag===31){var s=Pn();s=Js(s);var o=ha(i,s);o!==null&&Tn(o,i,s),Nm(i,s)}}var tf=!0;function $x(i,s,o,u){var d=Z.T;Z.T=null;var g=ot.p;try{ot.p=2,km(i,s,o,u)}finally{ot.p=g,Z.T=d}}function Zx(i,s,o,u){var d=Z.T;Z.T=null;var g=ot.p;try{ot.p=8,km(i,s,o,u)}finally{ot.p=g,Z.T=d}}function km(i,s,o,u){if(tf){var d=Lm(u);if(d===null)Sm(i,s,u,ef,o),RE(i,u);else if(tD(d,i,s,o,u))u.stopPropagation();else if(RE(i,u),s&4&&-1<Jx.indexOf(i)){for(;d!==null;){var g=Un(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ai(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var V=1<<31-ye(T);b.entanglements[1]|=V,T&=~V}Hi(g),(Gt&6)===0&&(Lh=cn()+500,yu(0))}}break;case 31:case 13:b=ha(g,2),b!==null&&Tn(b,g,2),zh(),Nm(g,2)}if(g=Lm(u),g===null&&Sm(i,s,u,ef,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Sm(i,s,u,null,o)}}function Lm(i){return i=zn(i),Um(i)}var ef=null;function Um(i){if(ef=null,i=xi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ef=i,null}function wE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Rl:return 2;case Cl:return 8;case Hr:case qd:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var zm=!1,gs=null,ys=null,vs=null,Au=new Map,wu=new Map,_s=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RE(i,s){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(s.pointerId)}}function Ru(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Un(s),s!==null&&bE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function tD(i,s,o,u,d){switch(s){case"focusin":return gs=Ru(gs,i,s,o,u,d),!0;case"dragenter":return ys=Ru(ys,i,s,o,u,d),!0;case"mouseover":return vs=Ru(vs,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Au.set(g,Ru(Au.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,wu.set(g,Ru(wu.get(g)||null,i,s,o,u,d)),!0}return!1}function CE(i){var s=xi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,ri(i.priority,function(){AE(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,ri(i.priority,function(){AE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Lm(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);zl=u,o.target.dispatchEvent(u),zl=null}else return s=Un(o),s!==null&&bE(s),i.blockedOn=o,!1;s.shift()}return!0}function IE(i,s,o){nf(i)&&o.delete(s)}function eD(){zm=!1,gs!==null&&nf(gs)&&(gs=null),ys!==null&&nf(ys)&&(ys=null),vs!==null&&nf(vs)&&(vs=null),Au.forEach(IE),wu.forEach(IE)}function rf(i,s){i.blockedOn===s&&(i.blockedOn=null,zm||(zm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eD)))}var sf=null;function xE(i){sf!==i&&(sf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Um(u||o)===null)continue;break}var g=Un(o);g!==null&&(i.splice(s,3),s-=3,Lp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Uo(i){function s(V){return rf(V,i)}gs!==null&&rf(gs,i),ys!==null&&rf(ys,i),vs!==null&&rf(vs,i),Au.forEach(s),wu.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)CE(o),o.blockedOn===null&&_s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Fe]||null;if(typeof g=="function")T||xE(o);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Fe]||null)b=T.formAction;else if(Um(d)!==null)continue}else b=T.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),xE(o)}}}function DE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function jm(i){this._internalRoot=i}af.prototype.render=jm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Pn();EE(o,u,i,s,null,null)},af.prototype.unmount=jm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;EE(i.current,2,null,i,null,null),zh(),s[Ci]=null}};function af(i){this._internalRoot=i}af.prototype.unstable_scheduleHydration=function(i){if(i){var s=zc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,i),o===0&&CE(i)}};var ME=t.version;if(ME!=="19.2.3")throw Error(r(527,ME,"19.2.3"));ot.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var nD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{ni=of.inject(nD),Ye=of}catch{}}return Iu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=U0,g=z0,T=j0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=_E(i,1,!1,null,null,o,u,null,d,g,T,DE),i[Ci]=s.current,Em(i),new jm(s)},Iu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=U0,T=z0,b=j0,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=_E(i,1,!0,s,o??null,u,d,V,g,T,b,DE),s.context=TE(null),o=s.current,u=Pn(),u=Js(u),d=rs(u),d.callback=null,ss(o,d,u),o=u,s.current.lanes=o,$s(s,o),Hi(s),i[Ci]=s.current,Em(i),new af(s)},Iu.version="19.2.3",Iu}var BE;function dD(){if(BE)return Hm.exports;BE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hm.exports=fD(),Hm.exports}var pD=dD();const mD=Iy(pD);var FE="popstate";function gD(n={}){function t(a,l){let{pathname:c="/",search:f="",hash:p=""}=za(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),xg("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof l=="string"?l:Qu(l))}function r(a,l){Nn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return vD(t,e,r,n)}function ce(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Nn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yD(){return Math.random().toString(36).substring(2,10)}function HE(n,t){return{usr:n.state,key:n.key,idx:t}}function xg(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?za(t):t,state:e,key:t&&t.key||r||yD()}}function Qu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function za(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function vD(n,t,e,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let I=y(),j=I==null?null:I-m;m=I,p&&p({action:f,location:O.location,delta:j})}function E(I,j){f="PUSH";let B=xg(O.location,I,j);e&&e(B,I),m=y()+1;let q=HE(B,m),it=O.createHref(B);try{c.pushState(q,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;a.location.assign(it)}l&&p&&p({action:f,location:O.location,delta:1})}function A(I,j){f="REPLACE";let B=xg(O.location,I,j);e&&e(B,I),m=y();let q=HE(B,m),it=O.createHref(B);c.replaceState(q,"",it),l&&p&&p({action:f,location:O.location,delta:0})}function D(I){return _D(I)}let O={get action(){return f},get location(){return n(a,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(FE,v),p=I,()=>{a.removeEventListener(FE,v),p=null}},createHref(I){return t(a,I)},createURL:D,encodeLocation(I){let j=D(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:A,go(I){return c.go(I)}};return O}function _D(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ce(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Qu(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function ZA(n,t,e="/"){return TD(n,t,e,!1)}function TD(n,t,e,r){let a=typeof t=="string"?za(t):t,l=Or(a.pathname||"/",e);if(l==null)return null;let c=JA(n);ED(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=PD(l);f=DD(c[p],m,r)}return f}function JA(n,t=[],e=[],r="",a=!1){let l=(c,f,p=a,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&p)return;ce(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Mr([r,y.relativePath]),E=e.concat(y);c.children&&c.children.length>0&&(ce(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),JA(c.children,t,E,v,p)),!(c.path==null&&!c.index)&&t.push({path:v,score:ID(v,c.index),routesMeta:E})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let p of tw(c.path))l(c,f,!0,p)}),t}function tw(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=tw(r.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function ED(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:xD(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var SD=/^:[\w-]+$/,bD=3,AD=2,wD=1,RD=10,CD=-2,qE=n=>n==="*";function ID(n,t){let e=n.split("/"),r=e.length;return e.some(qE)&&(r+=CD),t&&(r+=AD),e.filter(a=>!qE(a)).reduce((a,l)=>a+(SD.test(l)?bD:l===""?wD:RD),r)}function xD(n,t){return n.length===t.length&&n.slice(0,-1).every((r,a)=>r===t[a])?n[n.length-1]-t[t.length-1]:0}function DD(n,t,e=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!v&&m&&e&&!r[r.length-1].route.index&&(v=Lf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Mr([l,v.pathname]),pathnameBase:LD(Mr([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=Mr([l,v.pathnameBase]))}return c}function Lf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=MD(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},E)=>{if(y==="*"){let D=f[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=f[E];return v&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function MD(n,t=!1,e=!0){Nn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function PD(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Or(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}var VD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OD=n=>VD.test(n);function ND(n,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof n=="string"?za(n):n,l;if(e)if(OD(e))l=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?l=GE(e.substring(1),"/"):l=GE(e,t)}else l=t;return{pathname:l,search:UD(r),hash:zD(a)}}function GE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Ym(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kD(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Dy(n){let t=kD(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function My(n,t,e,r=!1){let a;typeof n=="string"?a=za(n):(a={...n},ce(!a.pathname||!a.pathname.includes("?"),Ym("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),Ym("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),Ym("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=e;else{let v=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}f=v>=0?t[v]:"/"}let p=ND(a,f),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),LD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function BD(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ew=["POST","PUT","PATCH","DELETE"];new Set(ew);var FD=["GET",...ew];new Set(FD);var hl=M.createContext(null);hl.displayName="DataRouter";var fd=M.createContext(null);fd.displayName="DataRouterState";M.createContext(!1);var nw=M.createContext({isTransitioning:!1});nw.displayName="ViewTransition";var HD=M.createContext(new Map);HD.displayName="Fetchers";var qD=M.createContext(null);qD.displayName="Await";var ei=M.createContext(null);ei.displayName="Navigation";var dc=M.createContext(null);dc.displayName="Location";var Ei=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Py=M.createContext(null);Py.displayName="RouteError";function GD(n,{relative:t}={}){ce(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=M.useContext(ei),{hash:a,pathname:l,search:c}=pc(n,{relative:t}),f=l;return e!=="/"&&(f=l==="/"?e:Mr([e,l])),r.createHref({pathname:f,search:c,hash:a})}function fl(){return M.useContext(dc)!=null}function Bs(){return ce(fl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(dc).location}var iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rw(n){M.useContext(ei).static||M.useLayoutEffect(n)}function ja(){let{isDataRoute:n}=M.useContext(Ei);return n?r2():KD()}function KD(){ce(fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(hl),{basename:t,navigator:e}=M.useContext(ei),{matches:r}=M.useContext(Ei),{pathname:a}=Bs(),l=JSON.stringify(Dy(r)),c=M.useRef(!1);return rw(()=>{c.current=!0}),M.useCallback((p,m={})=>{if(Nn(c.current,iw),!c.current)return;if(typeof p=="number"){e.go(p);return}let y=My(p,JSON.parse(l),a,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Mr([t,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[t,e,l,a,n])}M.createContext(null);function sw(){let{matches:n}=M.useContext(Ei),t=n[n.length-1];return t?t.params:{}}function pc(n,{relative:t}={}){let{matches:e}=M.useContext(Ei),{pathname:r}=Bs(),a=JSON.stringify(Dy(e));return M.useMemo(()=>My(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function YD(n,t){return aw(n,t)}function aw(n,t,e,r,a){ce(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(ei),{matches:c}=M.useContext(Ei),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let B=v&&v.path||"";ow(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=Bs(),A;if(t){let B=typeof t=="string"?za(t):t;ce(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=E;let D=A.pathname||"/",O=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=ZA(n,{pathname:O});Nn(v||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Nn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ZD(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Mr([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Mr([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,e,r,a);return t&&j?M.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function WD(){let n=i2(),t=jD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:a},e):null,c)}var XD=M.createElement(WD,null),QD=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?M.createElement(Ei.Provider,{value:this.props.routeContext},M.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:n,match:t,children:e}){let r=M.useContext(hl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(Ei.Provider,{value:n},e)}function ZD(n,t=[],e=null,r=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ce(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(e)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:A}=e,D=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=e&&r?(y,v)=>{r(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:BD(e.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let A,D=!1,O=null,I=null;e&&(A=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||XD,f&&(p<0&&E===0?(ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,I=null):p===E&&(D=!0,I=v.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,E+1)),B=()=>{let q;return A?q=O:D?q=I:v.route.Component?q=M.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=y,M.createElement($D,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:e!=null},children:q})};return e&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?M.createElement(QD,{location:e.location,revalidation:e.revalidation,component:O,error:A,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):B()},null)}function Vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JD(n){let t=M.useContext(hl);return ce(t,Vy(n)),t}function t2(n){let t=M.useContext(fd);return ce(t,Vy(n)),t}function e2(n){let t=M.useContext(Ei);return ce(t,Vy(n)),t}function Oy(n){let t=e2(n),e=t.matches[t.matches.length-1];return ce(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function n2(){return Oy("useRouteId")}function i2(){let n=M.useContext(Py),t=t2("useRouteError"),e=Oy("useRouteError");return n!==void 0?n:t.errors?.[e]}function r2(){let{router:n}=JD("useNavigate"),t=Oy("useNavigate"),e=M.useRef(!1);return rw(()=>{e.current=!0}),M.useCallback(async(a,l={})=>{Nn(e.current,iw),e.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...l}))},[n,t])}var KE={};function ow(n,t,e){!t&&!KE[n]&&(KE[n]=!0,Nn(!1,e))}M.memo(s2);function s2({routes:n,future:t,state:e,unstable_onError:r}){return aw(n,void 0,e,r,t)}function lw({to:n,replace:t,state:e,relative:r}){ce(fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(ei);Nn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Ei),{pathname:c}=Bs(),f=ja(),p=My(n,Dy(l),c,r==="path"),m=JSON.stringify(p);return M.useEffect(()=>{f(JSON.parse(m),{replace:t,state:e,relative:r})},[f,m,r,t,e]),null}function Gi(n){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a2({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ce(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof e=="string"&&(e=za(e));let{pathname:m="/",search:y="",hash:v="",state:E=null,key:A="default"}=e,D=M.useMemo(()=>{let O=Or(m,f);return O==null?null:{location:{pathname:O,search:y,hash:v,state:E,key:A},navigationType:r}},[f,m,y,v,E,A,r]);return Nn(D!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:M.createElement(ei.Provider,{value:p},M.createElement(dc.Provider,{children:t,value:D}))}function o2({children:n,location:t}){return YD(Dg(n),t)}function Dg(n,t=[]){let e=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let l=[...t,a];if(r.type===M.Fragment){e.push.apply(e,Dg(r.props.children,l));return}ce(r.type===Gi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Dg(r.props.children,l)),e.push(c)}),e}var Ef="get",Sf="application/x-www-form-urlencoded";function dd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function l2(n){return dd(n)&&n.tagName.toLowerCase()==="button"}function u2(n){return dd(n)&&n.tagName.toLowerCase()==="form"}function c2(n){return dd(n)&&n.tagName.toLowerCase()==="input"}function h2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function f2(n,t){return n.button===0&&(!t||t==="_self")&&!h2(n)}var lf=null;function d2(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var p2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(n){return n!=null&&!p2.has(n)?(Nn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):n}function m2(n,t){let e,r,a,l,c;if(u2(n)){let f=n.getAttribute("action");r=f?Or(f,t):null,e=n.getAttribute("method")||Ef,a=Wm(n.getAttribute("enctype"))||Sf,l=new FormData(n)}else if(l2(n)||c2(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(r=p?Or(p,t):null,e=n.getAttribute("formmethod")||f.getAttribute("method")||Ef,a=Wm(n.getAttribute("formenctype"))||Wm(f.getAttribute("enctype"))||Sf,l=new FormData(f,n),!d2()){let{name:m,type:y,value:v}=n;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,v)}}else{if(dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ef,r=null,a=Sf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function g2(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Or(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function y2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _2(n,t,e){let r=await Promise.all(n.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await y2(l,e);return c.links?c.links():[]}return[]}));return b2(r.flat(1).filter(v2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function YE(n,t,e,r,a,l){let c=(p,m)=>e[m]?p.route.id!==e[m].route.id:!0,f=(p,m)=>e[m].pathname!==p.pathname||e[m].route.path?.endsWith("*")&&e[m].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?t.filter((p,m)=>{let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function T2(n,t,{includeHydrateFallback:e}={}){return E2(n.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function E2(n){return[...new Set(n)]}function S2(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function b2(n,t){let e=new Set;return new Set(t),n.reduce((r,a)=>{let l=JSON.stringify(S2(a));return e.has(l)||(e.add(l),r.push({key:l,link:a})),r},[])}function uw(){let n=M.useContext(hl);return Ny(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function A2(){let n=M.useContext(fd);return Ny(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ky=M.createContext(void 0);ky.displayName="FrameworkContext";function cw(){let n=M.useContext(ky);return Ny(n,"You must render this element inside a <HydratedRouter> element"),n}function w2(n,t){let e=M.useContext(ky),[r,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,E=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=j=>{j.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(O,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),M.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return e?n!=="intent"?[l,E,{}]:[l,E,{onFocus:xu(f,A),onBlur:xu(p,D),onMouseEnter:xu(m,A),onMouseLeave:xu(y,D),onTouchStart:xu(v,A)}]:[!1,E,{}]}function xu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function R2({page:n,...t}){let{router:e}=uw(),r=M.useMemo(()=>ZA(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?M.createElement(I2,{page:n,matches:r,...t}):null}function C2(n){let{manifest:t,routeModules:e}=cw(),[r,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return _2(n,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[n,t,e]),r}function I2({page:n,matches:t,...e}){let r=Bs(),{manifest:a,routeModules:l}=cw(),{basename:c}=uw(),{loaderData:f,matches:p}=A2(),m=M.useMemo(()=>YE(n,t,p,a,r,"data"),[n,t,p,a,r]),y=M.useMemo(()=>YE(n,t,p,a,r,"assets"),[n,t,p,a,r]),v=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let D=new Set,O=!1;if(t.forEach(j=>{let B=a.routes[j.route.id];!B||!B.hasLoader||(!m.some(q=>q.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||B.hasClientLoader?O=!0:D.add(j.route.id))}),D.size===0)return[];let I=g2(n,c,"data");return O&&D.size>0&&I.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[I.pathname+I.search]},[c,f,r,a,m,t,n,l]),E=M.useMemo(()=>T2(y,a),[y,a]),A=C2(y);return M.createElement(M.Fragment,null,v.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...e})),E.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...e})),A.map(({key:D,link:O})=>M.createElement("link",{key:D,nonce:e.nonce,...O})))}function x2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hw&&(window.__reactRouterVersion="7.10.1")}catch{}function D2({basename:n,children:t,unstable_useTransitions:e,window:r}){let a=M.useRef();a.current==null&&(a.current=gD({window:r,v5Compat:!0}));let l=a.current,[c,f]=M.useState({action:l.action,location:l.location}),p=M.useCallback(m=>{e===!1?f(m):M.startTransition(()=>f(m))},[e]);return M.useLayoutEffect(()=>l.listen(p),[l,p]),M.createElement(a2,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:e===!0})}var fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=M.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:y,viewTransition:v,...E},A){let{basename:D,unstable_useTransitions:O}=M.useContext(ei),I=typeof m=="string"&&fw.test(m),j,B=!1;if(typeof m=="string"&&I&&(j=m,hw))try{let k=new URL(window.location.href),N=m.startsWith("//")?new URL(k.protocol+m):new URL(m),F=Or(N.pathname,D);N.origin===k.origin&&F!=null?m=F+N.search+N.hash:B=!0}catch{Nn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=GD(m,{relative:a}),[it,st,at]=w2(r,E),C=O2(m,{replace:c,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_useTransitions:O});function R(k){t&&t(k),k.defaultPrevented||C(k)}let x=M.createElement("a",{...E,...at,href:j||q,onClick:B||l?t:R,ref:x2(A,st),target:p,"data-discover":!I&&e==="render"?"true":void 0});return it&&!I?M.createElement(M.Fragment,null,x,M.createElement(R2,{page:q})):x});dw.displayName="Link";var M2=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},y){let v=pc(c,{relative:m.relative}),E=Bs(),A=M.useContext(fd),{navigator:D,basename:O}=M.useContext(ei),I=A!=null&&z2(v)&&f===!0,j=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,B=E.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(B=B.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&O&&(q=Or(q,O)||q);const it=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let st=B===j||!a&&B.startsWith(j)&&B.charAt(it)==="/",at=q!=null&&(q===j||!a&&q.startsWith(j)&&q.charAt(j.length)==="/"),C={isActive:st,isPending:at,isTransitioning:I},R=st?t:void 0,x;typeof r=="function"?x=r(C):x=[r,st?"active":null,at?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(C):l;return M.createElement(dw,{...m,"aria-current":R,className:x,ref:y,style:k,to:c,viewTransition:f},typeof p=="function"?p(C):p)});M2.displayName="NavLink";var P2=M.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:l,method:c=Ef,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:v,...E},A)=>{let{unstable_useTransitions:D}=M.useContext(ei),O=L2(),I=U2(f,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&fw.test(f),q=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let st=it.nativeEvent.submitter,at=st?.getAttribute("formmethod")||c,C=()=>O(st||it.currentTarget,{fetcherKey:t,method:at,navigate:e,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:v});D&&e!==!1?M.startTransition(()=>C()):C()};return M.createElement("form",{ref:A,method:j,action:I,onSubmit:r?p:q,...E,"data-discover":!B&&n==="render"?"true":void 0})});P2.displayName="Form";function V2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(n){let t=M.useContext(hl);return ce(t,V2(n)),t}function O2(n,{target:t,replace:e,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let p=ja(),m=Bs(),y=pc(n,{relative:l});return M.useCallback(v=>{if(f2(v,t)){v.preventDefault();let E=e!==void 0?e:Qu(m)===Qu(y),A=()=>p(n,{replace:E,state:r,preventScrollReset:a,relative:l,viewTransition:c});f?M.startTransition(()=>A()):A()}},[m,p,y,e,r,t,n,a,l,c,f])}var N2=0,k2=()=>`__${String(++N2)}__`;function L2(){let{router:n}=pw("useSubmit"),{basename:t}=M.useContext(ei),e=n2(),r=n.fetch,a=n.navigate;return M.useCallback(async(l,c={})=>{let{action:f,method:p,encType:m,formData:y,body:v}=m2(l,t);if(c.navigate===!1){let E=c.fetcherKey||k2();await r(E,e,c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,e])}function U2(n,{relative:t}={}){let{basename:e}=M.useContext(ei),r=M.useContext(Ei);ce(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...pc(n||".",{relative:t})},c=Bs();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Mr([e,l.pathname])),Qu(l)}function z2(n,{relative:t}={}){let e=M.useContext(nw);ce(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pw("useViewTransitionState"),a=pc(n,{relative:t});if(!e.isTransitioning)return!1;let l=Or(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=Or(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Lf(a.pathname,c)!=null||Lf(a.pathname,l)!=null}const j2=()=>{};var WE={};const mw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},B2=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],f=n[e++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let E=(f&15)<<2|m>>6,A=m&63;p||(A=64,c||(E=64)),r.push(e[y],e[v],e[E],e[A])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(mw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):B2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||v==null)throw new F2;const E=l<<2|f>>4;if(r.push(E),m!==64){const A=f<<4&240|m>>2;if(r.push(A),v!==64){const D=m<<6&192|v;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(n){const t=mw(n);return gw.encodeByteArray(t,!0)},Uf=function(n){return H2(n).replace(/\./g,"")},yw=function(n){try{return gw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const G2=()=>q2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof WE>"u")return;const n=WE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&yw(n[1]);return t&&JSON.parse(t)},pd=()=>{try{return j2()||G2()||K2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vw=n=>pd()?.emulatorHosts?.[n],_w=n=>{const t=vw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Tw=()=>pd()?.config,Ew=n=>pd()?.[`_${n}`];class W2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Ba(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ly(n){return(await fetch(n,{credentials:"include"})).ok}function Sw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Uf(JSON.stringify(e)),Uf(JSON.stringify(c)),""].join(".")}const ju={};function X2(){const n={prod:[],emulator:[]};for(const t of Object.keys(ju))ju[t]?n.emulator.push(t):n.prod.push(t);return n}function Q2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let XE=!1;function Uy(n,t){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||ju[n]===t||ju[n]||XE)return;ju[n]=t;function e(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=X2().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{XE=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=Q2(r),A=e("text"),D=document.getElementById(A)||document.createElement("span"),O=e("learnmore"),I=document.getElementById(O)||document.createElement("a"),j=e("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),y(I,O);const it=m();p(B,j),q.append(B,D,I,it),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Z2(){const n=pd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nM(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iM(){return!Z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rM(){try{return typeof indexedDB=="object"}catch{return!1}}function sM(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const aM="FirebaseError";class or extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=aM,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?oM(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new or(a,f,r)}}function oM(n,t){return n.replace(lM,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const lM=/\{\$([^}]+)}/g;function uM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Va(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=n[a],c=t[a];if(QE(l)&&QE(c)){if(!Va(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function QE(n){return n!==null&&typeof n=="object"}function gc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Ou(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function cM(n,t){const e=new hM(n,t);return e.subscribe.bind(e)}class hM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");fM(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=Xm),a.error===void 0&&(a.error=Xm),a.complete===void 0&&(a.complete=Xm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Xm(){}function Be(n){return n&&n._delegate?n._delegate:n}class Ps{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const wa="[DEFAULT]";class dM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new W2;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mM(t))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wa){return this.instances.has(t)}getOptions(t=wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pM(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=wa){return this.component?this.component.multipleInstances?t:wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pM(n){return n===wa?void 0:n}function mM(n){return n.instantiationMode==="EAGER"}class gM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new dM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kt||(kt={}));const yM={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},vM=kt.INFO,_M={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},TM=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=_M[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zy{constructor(t){this.name=t,this._logLevel=vM,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const EM=(n,t)=>t.some(e=>n instanceof e);let $E,ZE;function SM(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bM(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bw=new WeakMap,Mg=new WeakMap,Aw=new WeakMap,Qm=new WeakMap,jy=new WeakMap;function AM(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Is(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&bw.set(e,n)}).catch(()=>{}),jy.set(t,n),t}function wM(n){if(Mg.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Mg.set(n,t)}let Pg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Mg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Aw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Is(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function RM(n){Pg=n(Pg)}function CM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call($m(this),t,...e);return Aw.set(r,t.sort?t.sort():[t]),Is(r)}:bM().includes(n)?function(...t){return n.apply($m(this),t),Is(bw.get(this))}:function(...t){return Is(n.apply($m(this),t))}}function IM(n){return typeof n=="function"?CM(n):(n instanceof IDBTransaction&&wM(n),EM(n,SM())?new Proxy(n,Pg):n)}function Is(n){if(n instanceof IDBRequest)return AM(n);if(Qm.has(n))return Qm.get(n);const t=IM(n);return t!==n&&(Qm.set(n,t),jy.set(t,n)),t}const $m=n=>jy.get(n);function xM(n,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),f=Is(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Is(c.result),p.oldVersion,p.newVersion,Is(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const DM=["get","getKey","getAll","getAllKeys","count"],MM=["put","add","delete","clear"],Zm=new Map;function JE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=MM.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||DM.includes(e)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[e](...f),a&&p.done]))[0]};return Zm.set(t,l),l}RM(n=>({...n,get:(t,e,r)=>JE(t,e)||n.get(t,e,r),has:(t,e)=>!!JE(t,e)||n.has(t,e)}));class PM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VM(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function VM(n){return n.getComponent()?.type==="VERSION"}const Vg="@firebase/app",tS="0.14.6";const Nr=new zy("@firebase/app"),OM="@firebase/app-compat",NM="@firebase/analytics-compat",kM="@firebase/analytics",LM="@firebase/app-check-compat",UM="@firebase/app-check",zM="@firebase/auth",jM="@firebase/auth-compat",BM="@firebase/database",FM="@firebase/data-connect",HM="@firebase/database-compat",qM="@firebase/functions",GM="@firebase/functions-compat",KM="@firebase/installations",YM="@firebase/installations-compat",WM="@firebase/messaging",XM="@firebase/messaging-compat",QM="@firebase/performance",$M="@firebase/performance-compat",ZM="@firebase/remote-config",JM="@firebase/remote-config-compat",tP="@firebase/storage",eP="@firebase/storage-compat",nP="@firebase/firestore",iP="@firebase/ai",rP="@firebase/firestore-compat",sP="firebase",aP="12.6.0";const Og="[DEFAULT]",oP={[Vg]:"fire-core",[OM]:"fire-core-compat",[kM]:"fire-analytics",[NM]:"fire-analytics-compat",[UM]:"fire-app-check",[LM]:"fire-app-check-compat",[zM]:"fire-auth",[jM]:"fire-auth-compat",[BM]:"fire-rtdb",[FM]:"fire-data-connect",[HM]:"fire-rtdb-compat",[qM]:"fire-fn",[GM]:"fire-fn-compat",[KM]:"fire-iid",[YM]:"fire-iid-compat",[WM]:"fire-fcm",[XM]:"fire-fcm-compat",[QM]:"fire-perf",[$M]:"fire-perf-compat",[ZM]:"fire-rc",[JM]:"fire-rc-compat",[tP]:"fire-gcs",[eP]:"fire-gcs-compat",[nP]:"fire-fst",[rP]:"fire-fst-compat",[iP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};const zf=new Map,lP=new Map,Ng=new Map;function eS(n,t){try{n.container.addComponent(t)}catch(e){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Oa(n){const t=n.name;if(Ng.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;Ng.set(t,n);for(const e of zf.values())eS(e,n);for(const e of lP.values())eS(e,n);return!0}function md(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Vn(n){return n==null?!1:n.settings!==void 0}const uP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new mc("app","Firebase",uP);class cP{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const Fa=aP;function ww(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Og,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(e||(e=Tw()),!e)throw xs.create("no-options");const l=zf.get(a);if(l){if(Va(e,l.options)&&Va(r,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new gM(a);for(const p of Ng.values())c.addComponent(p);const f=new cP(e,r,c);return zf.set(a,f),f}function By(n=Og){const t=zf.get(n);if(!t&&n===Og&&Tw())return ww();if(!t)throw xs.create("no-app",{appName:n});return t}function Wi(n,t,e){let r=oP[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(c.join(" "));return}Oa(new Ps(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const hP="firebase-heartbeat-database",fP=1,$u="firebase-heartbeat-store";let Jm=null;function Rw(){return Jm||(Jm=xM(hP,fP,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore($u)}catch(e){console.warn(e)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Jm}async function dP(n){try{const e=(await Rw()).transaction($u),r=await e.objectStore($u).get(Cw(n));return await e.done,r}catch(t){if(t instanceof or)Nr.warn(t.message);else{const e=xs.create("idb-get",{originalErrorMessage:t?.message});Nr.warn(e.message)}}}async function nS(n,t){try{const r=(await Rw()).transaction($u,"readwrite");await r.objectStore($u).put(t,Cw(n)),await r.done}catch(e){if(e instanceof or)Nr.warn(e.message);else{const r=xs.create("idb-set",{originalErrorMessage:e?.message});Nr.warn(r.message)}}}function Cw(n){return`${n.name}!${n.options.appId}`}const pP=1024,mP=30;class gP{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vP(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>mP){const a=_P(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iS(),{heartbeatsToSend:e,unsentEntries:r}=yP(this._heartbeatsCache.heartbeats),a=Uf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Nr.warn(t),""}}}function iS(){return new Date().toISOString().substring(0,10)}function yP(n,t=pP){const e=[];let r=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),rS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),rS(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class vP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rM()?sM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await dP(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function rS(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function _P(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function TP(n){Oa(new Ps("platform-logger",t=>new PM(t),"PRIVATE")),Oa(new Ps("heartbeat",t=>new gP(t),"PRIVATE")),Wi(Vg,tS,n),Wi(Vg,tS,"esm2020"),Wi("fire-js","")}TP("");function Iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EP=Iw,xw=new mc("auth","Firebase",Iw());const jf=new zy("@firebase/auth");function SP(n,...t){jf.logLevel<=kt.WARN&&jf.warn(`Auth (${Fa}): ${n}`,...t)}function bf(n,...t){jf.logLevel<=kt.ERROR&&jf.error(`Auth (${Fa}): ${n}`,...t)}function _i(n,...t){throw Fy(n,...t)}function Xi(n,...t){return Fy(n,...t)}function Dw(n,t,e){const r={...EP(),[t]:e};return new mc("auth","Firebase",r).create(t,{appName:n.name})}function Pr(n){return Dw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fy(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return xw.create(n,...t)}function _t(n,t,...e){if(!n)throw Fy(t,...e)}function xr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw bf(t),new Error(t)}function kr(n,t){n||xr(t)}function kg(){return typeof self<"u"&&self.location?.href||""}function bP(){return sS()==="http:"||sS()==="https:"}function sS(){return typeof self<"u"&&self.location?.protocol||null}function AP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bP()||tM()||"connection"in navigator)?navigator.onLine:!0}function wP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class yc{constructor(t,e){this.shortDelay=t,this.longDelay=e,kr(e>t,"Short delay should be less than long delay!"),this.isMobile=$2()||eM()}get(){return AP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hy(n,t){kr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Mw{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IP=new yc(3e4,6e4);function Fs(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Hs(n,t,e,r,a={}){return Pw(n,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=gc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:p,...l};return J2()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(m.credentials="include"),Mw.fetch()(await Vw(n,n.config.apiHost,e,f),m)})}async function Pw(n,t,e){n._canInitEmulator=!1;const r={...RP,...t};try{const a=new DP(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw uf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw uf(n,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Dw(n,y,m);_i(n,y)}}catch(a){if(a instanceof or)throw a;_i(n,"network-request-failed",{message:String(a)})}}async function vc(n,t,e,r,a={}){const l=await Hs(n,t,e,r,a);return"mfaPendingCredential"in l&&_i(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Vw(n,t,e,r){const a=`${t}${e}?${r}`,l=n,c=l.config.emulator?Hy(n.config,a):`${n.config.apiScheme}://${a}`;return CP.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function xP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),IP.get())})}}function uf(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Xi(n,t,r);return a.customData._tokenResponse=e,a}function aS(n){return n!==void 0&&n.enterprise!==void 0}class MP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return xP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PP(n,t){return Hs(n,"GET","/v2/recaptchaConfig",Fs(n,t))}async function VP(n,t){return Hs(n,"POST","/v1/accounts:delete",t)}async function Bf(n,t){return Hs(n,"POST","/v1/accounts:lookup",t)}function Bu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OP(n,t=!1){const e=Be(n),r=await e.getIdToken(t),a=qy(r);_t(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Bu(tg(a.auth_time)),issuedAtTime:Bu(tg(a.iat)),expirationTime:Bu(tg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(n){return Number(n)*1e3}function qy(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const a=yw(e);return a?JSON.parse(a):(bf("Failed to decode base64 JWT payload"),null)}catch(a){return bf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oS(n){const t=qy(n);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Zu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof or&&NP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(n){const t=n.auth,e=await n.getIdToken(),r=await Zu(n,Bf(t,{idToken:e}));_t(r?.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Ow(a.providerUserInfo):[],c=UP(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,m=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function LP(n){const t=Be(n);await Ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UP(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Ow(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function zP(n,t){const e=await Pw(n,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Vw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(p.credentials="include"),Mw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function jP(n,t){return Hs(n,"POST","/v2/accounts:revokeToken",Fs(n,t))}class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const e=oS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:l}=await zP(t,e);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:l}=e,c=new Qo;return r&&(_t(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(_t(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(_t(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Es(n,t){_t(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yi{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new kP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Zu(this,this.stsTokenManager.getToken(this.auth,t));return _t(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return OP(this,t)}reload(){return LP(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Pr(this.auth));const t=await this.getIdToken();return await Zu(this,VP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,f=e.tenantId??void 0,p=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:O}=e;_t(v&&O,t,"internal-error");const I=Qo.fromJSON(this.name,O);_t(typeof v=="string",t,"internal-error"),Es(r,t.name),Es(a,t.name),_t(typeof E=="boolean",t,"internal-error"),_t(typeof A=="boolean",t,"internal-error"),Es(l,t.name),Es(c,t.name),Es(f,t.name),Es(p,t.name),Es(m,t.name),Es(y,t.name);const j=new yi({uid:v,auth:t,email:a,emailVerified:E,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:I,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(j.providerData=D.map(B=>({...B}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(t,e,r=!1){const a=new Qo;a.updateFromServerResponse(e);const l=new yi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Ff(l),l}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];_t(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Ow(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Qo;f.updateFromIdToken(r);const p=new yi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const lS=new Map;function Dr(n){kr(n instanceof Function,"Expected a class definition");let t=lS.get(n);return t?(kr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,lS.set(n,t),t)}class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Nw.type="NONE";const uS=Nw;function Af(n,t,e){return`firebase:${n}:${t}:${e}`}class $o{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Bf(this.auth,{idToken:t}).catch(()=>{});return e?yi._fromGetAccountInfoResponse(this.auth,e,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new $o(Dr(uS),t,r);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Dr(uS);const c=Af(r,t.config.apiKey,t.name);let f=null;for(const m of e)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const E=await Bf(t,{idToken:y}).catch(()=>{});if(!E)break;v=await yi._fromGetAccountInfoResponse(t,E,y)}else v=yi._fromJSON(t,y);m!==l&&(f=v),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,t,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(e.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new $o(l,t,r))}}function cS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bw(t))return"Blackberry";if(Fw(t))return"Webos";if(Lw(t))return"Safari";if((t.includes("chrome/")||Uw(t))&&!t.includes("edge/"))return"Chrome";if(jw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function kw(n=un()){return/firefox\//i.test(n)}function Lw(n=un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uw(n=un()){return/crios\//i.test(n)}function zw(n=un()){return/iemobile/i.test(n)}function jw(n=un()){return/android/i.test(n)}function Bw(n=un()){return/blackberry/i.test(n)}function Fw(n=un()){return/webos/i.test(n)}function Gy(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BP(n=un()){return Gy(n)&&!!window.navigator?.standalone}function FP(){return nM()&&document.documentMode===10}function Hw(n=un()){return Gy(n)||jw(n)||Fw(n)||Bw(n)||/windows phone/i.test(n)||zw(n)}function qw(n,t=[]){let e;switch(n){case"Browser":e=cS(un());break;case"Worker":e=`${cS(un())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fa}/${r}`}class HP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((c,f)=>{try{const p=t(l);c(p)}catch(p){f(p)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function qP(n,t={}){return Hs(n,"GET","/v2/passwordPolicy",Fs(n,t))}const GP=6;class KP{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??GP,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class YP{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hS(this),this.idTokenSubscription=new hS(this),this.beforeStateQueue=new HP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Dr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Bf(this,{idToken:t}),r=await yi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ff(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Pr(this));const e=t?Be(t):null;return e&&_t(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qP(this),e=new KP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await jP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Dr(t)||this._popupRedirectResolver;_t(e,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Dr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,r,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ha(n){return Be(n)}class hS{constructor(t){this.auth=t,this.observer=null,this.addObserver=cM(e=>this.observer=e)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WP(n){gd=n}function Gw(n){return gd.loadJS(n)}function XP(){return gd.recaptchaEnterpriseScript}function QP(){return gd.gapiScript}function $P(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZP{constructor(){this.enterprise=new JP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class JP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const tV="recaptcha-enterprise",Kw="NO_RECAPTCHA";class eV{constructor(t){this.type=tV,this.auth=Ha(t)}async verify(t="verify",e=!1){async function r(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{PP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new MP(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;aS(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:t}).then(m=>{c(m)}).catch(()=>{c(Kw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!e&&aS(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=XP();p.length!==0&&(p+=f),Gw(p).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function fS(n,t,e,r=!1,a=!1){const l=new eV(n);let c;if(a)c=Kw;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const f={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ug(n,t,e,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fS(n,t,e,e==="getOobCode");return r(n,l)}else return r(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fS(n,t,e,e==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function nV(n,t){const e=md(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Va(l,t??{}))return a;_i(a,"already-initialized")}return e.initialize({options:t})}function iV(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Dr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function rV(n,t,e){const r=Ha(n);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=Yw(t),{host:c,port:f}=sV(t),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Va(m,r.config.emulator)&&Va(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ba(c)?(Ly(`${l}//${c}${p}`),Uy("Auth",!0)):aV()}function Yw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function sV(n){const t=Yw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:dS(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:dS(c)}}}function dS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function aV(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return xr("not implemented")}_getIdTokenResponse(t){return xr("not implemented")}_linkToIdToken(t,e){return xr("not implemented")}_getReauthenticationResolver(t){return xr("not implemented")}}async function oV(n,t){return Hs(n,"POST","/v1/accounts:signUp",t)}async function lV(n,t){return vc(n,"POST","/v1/accounts:signInWithPassword",Fs(n,t))}async function uV(n,t){return vc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,t))}async function cV(n,t){return vc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,t))}class Ju extends Ky{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Ju(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Ju(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(t,e,"signInWithPassword",lV);case"emailLink":return uV(t,{email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ug(t,r,"signUpPassword",oV);case"emailLink":return cV(t,{idToken:e,email:this._email,oobCode:this._password});default:_i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Zo(n,t){return vc(n,"POST","/v1/accounts:signInWithIdp",Fs(n,t))}const hV="http://localhost";class Na extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):_i("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=e;if(!r||!a)return null;const c=new Na(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Zo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Zo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zo(t,e)}buildRequest(){const t={requestUri:hV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gc(e)}return t}}function fV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dV(n){const t=Vu(Ou(n)).link,e=t?Vu(Ou(t)).deep_link_id:null,r=Vu(Ou(n)).deep_link_id;return(r?Vu(Ou(r)).link:null)||r||e||t||n}class Yy{constructor(t){const e=Vu(Ou(t)),r=e.apiKey??null,a=e.oobCode??null,l=fV(e.mode??null);_t(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=dV(t);try{return new Yy(e)}catch{return null}}}class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(t,e){return Ju._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Yy.parseLink(e);return _t(r,"argument-error"),Ju._fromEmailAndCode(t,r.code,r.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ww{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _c extends Ww{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class bs extends _c{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";class As extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Na._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return As.credential(e,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class ws extends _c{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";class Rs extends _c{constructor(){super("twitter.com")}static credential(t,e){return Na._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Rs.credentialFromTaggedObject(t)}static credentialFromError(t){return Rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Rs.credential(e,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";async function pV(n,t){return vc(n,"POST","/v1/accounts:signUp",Fs(n,t))}class ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const l=await yi._fromIdTokenResponse(t,r,a),c=pS(r);return new ka({user:l,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=pS(r);return new ka({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function pS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Hf extends or{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Hf(t,e,r,a)}}function Xw(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(n,l,t,r):l})}async function mV(n,t,e=!1){const r=await Zu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ka._forOperation(n,"link",r)}async function gV(n,t,e=!1){const{auth:r}=n;if(Vn(r.app))return Promise.reject(Pr(r));const a="reauthenticate";try{const l=await Zu(n,Xw(r,a,t,n),e);_t(l.idToken,r,"internal-error");const c=qy(l.idToken);_t(c,r,"internal-error");const{sub:f}=c;return _t(n.uid===f,r,"user-mismatch"),ka._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),l}}async function Qw(n,t,e=!1){if(Vn(n.app))return Promise.reject(Pr(n));const r="signIn",a=await Xw(n,r,t),l=await ka._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(l.user),l}async function yV(n,t){return Qw(Ha(n),t)}async function $w(n){const t=Ha(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vV(n,t,e){if(Vn(n.app))return Promise.reject(Pr(n));const r=Ha(n),c=await Ug(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pV).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$w(n),p}),f=await ka._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function Zw(n,t,e){return Vn(n.app)?Promise.reject(Pr(n)):yV(Be(n),dl.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$w(n),r})}function _V(n,t,e,r){return Be(n).onIdTokenChanged(t,e,r)}function TV(n,t,e){return Be(n).beforeAuthStateChanged(t,e)}function EV(n,t,e,r){return Be(n).onAuthStateChanged(t,e,r)}function SV(n){return Be(n).signOut()}const qf="__sak";class Jw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bV=1e3,AV=10;class t1 extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);FP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,AV):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}t1.type="LOCAL";const wV=t1;class e1 extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}e1.type="SESSION";const n1=e1;function RV(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class yd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new yd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async m=>m(e.origin,l)),p=await RV(f);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function Wy(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class CV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Wy("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Qi(){return window}function IV(n){Qi().location.href=n}function i1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function xV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DV(){return navigator?.serviceWorker?.controller||null}function MV(){return i1()?self:null}const r1="firebaseLocalStorageDb",PV=1,Gf="firebaseLocalStorage",s1="fbase_key";class Tc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function vd(n,t){return n.transaction([Gf],t?"readwrite":"readonly").objectStore(Gf)}function VV(){const n=indexedDB.deleteDatabase(r1);return new Tc(n).toPromise()}function zg(){const n=indexedDB.open(r1,PV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gf,{keyPath:s1})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gf)?t(r):(r.close(),await VV(),t(await zg()))})})}async function mS(n,t,e){const r=vd(n,!0).put({[s1]:t,value:e});return new Tc(r).toPromise()}async function OV(n,t){const e=vd(n,!1).get(t),r=await new Tc(e).toPromise();return r===void 0?null:r.value}function gS(n,t){const e=vd(n,!0).delete(t);return new Tc(e).toPromise()}const NV=800,kV=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>kV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(MV()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xV(),!this.activeServiceWorker)return;this.sender=new CV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zg();return await mS(t,qf,"1"),await gS(t,qf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mS(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>OV(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>gS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new Tc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const LV=a1;new yc(3e4,6e4);function UV(n,t){return t?Dr(t):(_t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Xy extends Ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function zV(n){return Qw(n.auth,new Xy(n),n.bypassAuthState)}function jV(n){const{auth:t,user:e}=n;return _t(e,t,"internal-error"),gV(e,new Xy(n),n.bypassAuthState)}async function BV(n){const{auth:t,user:e}=n;return _t(e,t,"internal-error"),mV(e,new Xy(n),n.bypassAuthState)}class o1{constructor(t,e,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zV;case"linkViaPopup":case"linkViaRedirect":return BV;case"reauthViaPopup":case"reauthViaRedirect":return jV;default:_i(this.auth,"internal-error")}}resolve(t){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FV=new yc(2e3,1e4);class qo extends o1{constructor(t,e,r,a,l){super(t,e,a,l),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const t=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FV.get())};t()}}qo.currentPopupAction=null;const HV="pendingRedirect",wf=new Map;class qV extends o1{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=wf.get(this.auth._key());if(!t){try{const r=await GV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}wf.set(this.auth._key(),t)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GV(n,t){const e=WV(t),r=YV(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function KV(n,t){wf.set(n._key(),t)}function YV(n){return Dr(n._redirectPersistence)}function WV(n){return Af(HV,n.config.apiKey,n.name)}async function XV(n,t,e=!1){if(Vn(n.app))return Promise.reject(Pr(n));const r=Ha(n),a=UV(r,t),c=await new qV(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const QV=600*1e3;class $V{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!l1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Xi(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QV&&this.cachedEventUids.clear(),this.cachedEventUids.has(yS(t))}saveEventToCache(t){this.cachedEventUids.add(yS(t)),this.lastProcessedEventTime=Date.now()}}function yS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function l1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function ZV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(n);default:return!1}}async function JV(n,t={}){return Hs(n,"GET","/v1/projects",t)}const tO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eO=/^https?/;async function nO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await JV(n);for(const e of t)try{if(iO(e))return}catch{}_i(n,"unauthorized-domain")}function iO(n){const t=kg(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!eO.test(e))return!1;if(tO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const rO=new yc(3e4,6e4);function vS(){const n=Qi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function sO(n){return new Promise((t,e)=>{function r(){vS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vS(),e(Xi(n,"network-request-failed"))},timeout:rO.get()})}if(Qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const a=$P("iframefcb");return Qi()[a]=()=>{gapi.load?r():e(Xi(n,"network-request-failed"))},Gw(`${QP()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw Rf=null,t})}let Rf=null;function aO(n){return Rf=Rf||sO(n),Rf}const oO=new yc(5e3,15e3),lO="__/auth/iframe",uO="emulator/auth/iframe",cO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fO(n){const t=n.config;_t(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hy(t,uO):`https://${n.config.authDomain}/${lO}`,r={apiKey:t.apiKey,appName:n.name,v:Fa},a=hO.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${gc(r).slice(1)}`}async function dO(n){const t=await aO(n),e=Qi().gapi;return _t(e,n,"internal-error"),t.open({where:document.body,url:fO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Xi(n,"network-request-failed"),f=Qi().setTimeout(()=>{l(c)},oO.get());function p(){Qi().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}const pO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mO=500,gO=600,yO="_blank",vO="http://localhost";class _S{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _O(n,t,e,r=mO,a=gO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p={...pO,width:r.toString(),height:a.toString(),top:l,left:c},m=un().toLowerCase();e&&(f=Uw(m)?yO:e),kw(m)&&(t=t||vO,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(BP(m)&&f!=="_self")return TO(t||"",f),new _S(null);const v=window.open(t||"",f,y);_t(v,n,"popup-blocked");try{v.focus()}catch{}return new _S(v)}function TO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const EO="__/auth/handler",SO="emulator/auth/handler",bO=encodeURIComponent("fac");async function TS(n,t,e,r,a,l){_t(n.config.authDomain,n,"auth-domain-config-required"),_t(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fa,eventId:a};if(t instanceof Ww){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",uM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof _c){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await n._getAppCheckToken(),m=p?`#${bO}=${encodeURIComponent(p)}`:"";return`${AO(n)}?${gc(f).slice(1)}${m}`}function AO({config:n}){return n.emulator?Hy(n,SO):`https://${n.authDomain}/${EO}`}const eg="webStorageSupport";class wO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=XV,this._overrideRedirectResult=KV}async _openPopup(t,e,r,a){kr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await TS(t,e,r,kg(),a);return _O(t,l,Wy())}async _openRedirect(t,e,r,a){await this._originValidation(t);const l=await TS(t,e,r,kg(),a);return IV(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(kr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await dO(t),r=new $V(t);return e.register("authEvent",a=>(_t(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(eg,{type:eg},a=>{const l=a?.[0]?.[eg];l!==void 0&&e(!!l),_i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Hw()||Lw()||Gy()}}const RO=wO;var ES="@firebase/auth",SS="1.11.1";class CO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xO(n){Oa(new Ps("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;_t(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},m=new YP(r,a,l,p);return iV(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Oa(new Ps("auth-internal",t=>{const e=Ha(t.getProvider("auth").getImmediate());return(r=>new CO(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(ES,SS,IO(n)),Wi(ES,SS,"esm2020")}const DO=300,MO=Ew("authIdTokenMaxAge")||DO;let bS=null;const PO=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>MO)return;const a=e?.token;bS!==a&&(bS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VO(n=By()){const t=md(n,"auth");if(t.isInitialized())return t.getImmediate();const e=nV(n,{popupRedirectResolver:RO,persistence:[LV,wV,n1]}),r=Ew("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=PO(l.toString());TV(e,c,()=>c(e.currentUser)),_V(e,f=>c(f))}}const a=vw("auth");return a&&rV(e,`http://${a}`),e}function OO(){return document.getElementsByTagName("head")?.[0]??document}WP({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const l=Xi("internal-error");l.customData=a,e(l)},r.type="text/javascript",r.charset="UTF-8",OO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xO("Browser");var NO="firebase",kO="12.6.0";Wi(NO,kO,"app");var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ds,u1;(function(){var n;function t(C,R){function x(){}x.prototype=R.prototype,C.F=R.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(k,N,F){for(var P=Array(arguments.length-2),te=2;te<arguments.length;te++)P[te-2]=arguments[te];return R.prototype[N].apply(k,P)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,x){x||(x=0);const k=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)k[N]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(N=0;N<16;++N)k[N]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=C.g[0],x=C.g[1],N=C.g[2];let F=C.g[3],P;P=R+(F^x&(N^F))+k[0]+3614090360&4294967295,R=x+(P<<7&4294967295|P>>>25),P=F+(N^R&(x^N))+k[1]+3905402710&4294967295,F=R+(P<<12&4294967295|P>>>20),P=N+(x^F&(R^x))+k[2]+606105819&4294967295,N=F+(P<<17&4294967295|P>>>15),P=x+(R^N&(F^R))+k[3]+3250441966&4294967295,x=N+(P<<22&4294967295|P>>>10),P=R+(F^x&(N^F))+k[4]+4118548399&4294967295,R=x+(P<<7&4294967295|P>>>25),P=F+(N^R&(x^N))+k[5]+1200080426&4294967295,F=R+(P<<12&4294967295|P>>>20),P=N+(x^F&(R^x))+k[6]+2821735955&4294967295,N=F+(P<<17&4294967295|P>>>15),P=x+(R^N&(F^R))+k[7]+4249261313&4294967295,x=N+(P<<22&4294967295|P>>>10),P=R+(F^x&(N^F))+k[8]+1770035416&4294967295,R=x+(P<<7&4294967295|P>>>25),P=F+(N^R&(x^N))+k[9]+2336552879&4294967295,F=R+(P<<12&4294967295|P>>>20),P=N+(x^F&(R^x))+k[10]+4294925233&4294967295,N=F+(P<<17&4294967295|P>>>15),P=x+(R^N&(F^R))+k[11]+2304563134&4294967295,x=N+(P<<22&4294967295|P>>>10),P=R+(F^x&(N^F))+k[12]+1804603682&4294967295,R=x+(P<<7&4294967295|P>>>25),P=F+(N^R&(x^N))+k[13]+4254626195&4294967295,F=R+(P<<12&4294967295|P>>>20),P=N+(x^F&(R^x))+k[14]+2792965006&4294967295,N=F+(P<<17&4294967295|P>>>15),P=x+(R^N&(F^R))+k[15]+1236535329&4294967295,x=N+(P<<22&4294967295|P>>>10),P=R+(N^F&(x^N))+k[1]+4129170786&4294967295,R=x+(P<<5&4294967295|P>>>27),P=F+(x^N&(R^x))+k[6]+3225465664&4294967295,F=R+(P<<9&4294967295|P>>>23),P=N+(R^x&(F^R))+k[11]+643717713&4294967295,N=F+(P<<14&4294967295|P>>>18),P=x+(F^R&(N^F))+k[0]+3921069994&4294967295,x=N+(P<<20&4294967295|P>>>12),P=R+(N^F&(x^N))+k[5]+3593408605&4294967295,R=x+(P<<5&4294967295|P>>>27),P=F+(x^N&(R^x))+k[10]+38016083&4294967295,F=R+(P<<9&4294967295|P>>>23),P=N+(R^x&(F^R))+k[15]+3634488961&4294967295,N=F+(P<<14&4294967295|P>>>18),P=x+(F^R&(N^F))+k[4]+3889429448&4294967295,x=N+(P<<20&4294967295|P>>>12),P=R+(N^F&(x^N))+k[9]+568446438&4294967295,R=x+(P<<5&4294967295|P>>>27),P=F+(x^N&(R^x))+k[14]+3275163606&4294967295,F=R+(P<<9&4294967295|P>>>23),P=N+(R^x&(F^R))+k[3]+4107603335&4294967295,N=F+(P<<14&4294967295|P>>>18),P=x+(F^R&(N^F))+k[8]+1163531501&4294967295,x=N+(P<<20&4294967295|P>>>12),P=R+(N^F&(x^N))+k[13]+2850285829&4294967295,R=x+(P<<5&4294967295|P>>>27),P=F+(x^N&(R^x))+k[2]+4243563512&4294967295,F=R+(P<<9&4294967295|P>>>23),P=N+(R^x&(F^R))+k[7]+1735328473&4294967295,N=F+(P<<14&4294967295|P>>>18),P=x+(F^R&(N^F))+k[12]+2368359562&4294967295,x=N+(P<<20&4294967295|P>>>12),P=R+(x^N^F)+k[5]+4294588738&4294967295,R=x+(P<<4&4294967295|P>>>28),P=F+(R^x^N)+k[8]+2272392833&4294967295,F=R+(P<<11&4294967295|P>>>21),P=N+(F^R^x)+k[11]+1839030562&4294967295,N=F+(P<<16&4294967295|P>>>16),P=x+(N^F^R)+k[14]+4259657740&4294967295,x=N+(P<<23&4294967295|P>>>9),P=R+(x^N^F)+k[1]+2763975236&4294967295,R=x+(P<<4&4294967295|P>>>28),P=F+(R^x^N)+k[4]+1272893353&4294967295,F=R+(P<<11&4294967295|P>>>21),P=N+(F^R^x)+k[7]+4139469664&4294967295,N=F+(P<<16&4294967295|P>>>16),P=x+(N^F^R)+k[10]+3200236656&4294967295,x=N+(P<<23&4294967295|P>>>9),P=R+(x^N^F)+k[13]+681279174&4294967295,R=x+(P<<4&4294967295|P>>>28),P=F+(R^x^N)+k[0]+3936430074&4294967295,F=R+(P<<11&4294967295|P>>>21),P=N+(F^R^x)+k[3]+3572445317&4294967295,N=F+(P<<16&4294967295|P>>>16),P=x+(N^F^R)+k[6]+76029189&4294967295,x=N+(P<<23&4294967295|P>>>9),P=R+(x^N^F)+k[9]+3654602809&4294967295,R=x+(P<<4&4294967295|P>>>28),P=F+(R^x^N)+k[12]+3873151461&4294967295,F=R+(P<<11&4294967295|P>>>21),P=N+(F^R^x)+k[15]+530742520&4294967295,N=F+(P<<16&4294967295|P>>>16),P=x+(N^F^R)+k[2]+3299628645&4294967295,x=N+(P<<23&4294967295|P>>>9),P=R+(N^(x|~F))+k[0]+4096336452&4294967295,R=x+(P<<6&4294967295|P>>>26),P=F+(x^(R|~N))+k[7]+1126891415&4294967295,F=R+(P<<10&4294967295|P>>>22),P=N+(R^(F|~x))+k[14]+2878612391&4294967295,N=F+(P<<15&4294967295|P>>>17),P=x+(F^(N|~R))+k[5]+4237533241&4294967295,x=N+(P<<21&4294967295|P>>>11),P=R+(N^(x|~F))+k[12]+1700485571&4294967295,R=x+(P<<6&4294967295|P>>>26),P=F+(x^(R|~N))+k[3]+2399980690&4294967295,F=R+(P<<10&4294967295|P>>>22),P=N+(R^(F|~x))+k[10]+4293915773&4294967295,N=F+(P<<15&4294967295|P>>>17),P=x+(F^(N|~R))+k[1]+2240044497&4294967295,x=N+(P<<21&4294967295|P>>>11),P=R+(N^(x|~F))+k[8]+1873313359&4294967295,R=x+(P<<6&4294967295|P>>>26),P=F+(x^(R|~N))+k[15]+4264355552&4294967295,F=R+(P<<10&4294967295|P>>>22),P=N+(R^(F|~x))+k[6]+2734768916&4294967295,N=F+(P<<15&4294967295|P>>>17),P=x+(F^(N|~R))+k[13]+1309151649&4294967295,x=N+(P<<21&4294967295|P>>>11),P=R+(N^(x|~F))+k[4]+4149444226&4294967295,R=x+(P<<6&4294967295|P>>>26),P=F+(x^(R|~N))+k[11]+3174756917&4294967295,F=R+(P<<10&4294967295|P>>>22),P=N+(R^(F|~x))+k[2]+718787259&4294967295,N=F+(P<<15&4294967295|P>>>17),P=x+(F^(N|~R))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const x=R-this.blockSize,k=this.C;let N=this.h,F=0;for(;F<R;){if(N==0)for(;F<=x;)a(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<R;)if(k[N++]=C.charCodeAt(F++),N==this.blockSize){a(this,k),N=0;break}}else for(;F<R;)if(k[N++]=C[F++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)C[R++]=this.g[x]>>>k&255;return C};function l(C,R){var x=f;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=R(C)}function c(C,R){this.h=R;const x=[];let k=!0;for(let N=C.length-1;N>=0;N--){const F=C[N]|0;k&&F==R||(x[N]=F,k=!1)}this.g=x}var f={};function p(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return I(m(-C));const R=[];let x=1;for(let k=0;C>=x;k++)R[k]=C/x|0,x*=4294967296;return new c(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return I(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=m(Math.pow(R,8));let k=v;for(let F=0;F<C.length;F+=8){var N=Math.min(8,C.length-F);const P=parseInt(C.substring(F,F+N),R);N<8?(N=m(Math.pow(R,N)),k=k.j(N).add(m(P))):(k=k.j(x),k=k.add(m(P)))}return k}var v=p(0),E=p(1),A=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-I(this).m();let C=0,R=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);C+=(k>=0?k:4294967296+k)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(O(this))return"-"+I(this).toString(C);const R=m(Math.pow(C,6));var x=this;let k="";for(;;){const N=it(x,R).g;x=j(x,N.j(R));let F=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,D(x))return F+k;for(;F.length<6;)F="0"+F;k=F+k}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=j(this,C),O(C)?-1:D(C)?0:1};function I(C){const R=C.g.length,x=[];for(let k=0;k<R;k++)x[k]=~C.g[k];return new c(x,~C.h).add(E)}n.abs=function(){return O(this)?I(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),x=[];let k=0;for(let N=0;N<=R;N++){let F=k+(this.i(N)&65535)+(C.i(N)&65535),P=(F>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=P>>>16,F&=65535,P&=65535,x[N]=P<<16|F}return new c(x,x[x.length-1]&-2147483648?-1:0)};function j(C,R){return C.add(I(R))}n.j=function(C){if(D(this)||D(C))return v;if(O(this))return O(C)?I(this).j(I(C)):I(I(this).j(C));if(O(C))return I(this.j(I(C)));if(this.l(A)<0&&C.l(A)<0)return m(this.m()*C.m());const R=this.g.length+C.g.length,x=[];for(var k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<C.g.length;N++){const F=this.i(k)>>>16,P=this.i(k)&65535,te=C.i(N)>>>16,de=C.i(N)&65535;x[2*k+2*N]+=P*de,B(x,2*k+2*N),x[2*k+2*N+1]+=F*de,B(x,2*k+2*N+1),x[2*k+2*N+1]+=P*te,B(x,2*k+2*N+1),x[2*k+2*N+2]+=F*te,B(x,2*k+2*N+2)}for(C=0;C<R;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=R;C<2*R;C++)x[C]=0;return new c(x,0)};function B(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function q(C,R){this.g=C,this.h=R}function it(C,R){if(D(R))throw Error("division by zero");if(D(C))return new q(v,v);if(O(C))return R=it(I(C),R),new q(I(R.g),I(R.h));if(O(R))return R=it(C,I(R)),new q(I(R.g),R.h);if(C.g.length>30){if(O(C)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var x=E,k=R;k.l(C)<=0;)x=st(x),k=st(k);var N=at(x,1),F=at(k,1);for(k=at(k,2),x=at(x,2);!D(k);){var P=F.add(k);P.l(C)<=0&&(N=N.add(x),F=P),k=at(k,1),x=at(x,1)}return R=j(C,N.j(R)),new q(N,R)}for(N=v;C.l(R)>=0;){for(x=Math.max(1,Math.floor(C.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),F=m(x),P=F.j(R);O(P)||P.l(C)>0;)x-=k,F=m(x),P=F.j(R);D(F)&&(F=E),N=N.add(F),C=j(C,P)}return new q(N,C)}n.B=function(C){return it(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)&C.i(k);return new c(x,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)|C.i(k);return new c(x,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)^C.i(k);return new c(x,this.h^C.h)};function st(C){const R=C.g.length+1,x=[];for(let k=0;k<R;k++)x[k]=C.i(k)<<1|C.i(k-1)>>>31;return new c(x,C.h)}function at(C,R){const x=R>>5;R%=32;const k=C.g.length-x,N=[];for(let F=0;F<k;F++)N[F]=R>0?C.i(F+x)>>>R|C.i(F+x+1)<<32-R:C.i(F+x);return new c(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Ds=c}).apply(typeof AS<"u"?AS:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c1,Nu,h1,Cf,jg,f1,d1,p1;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var _=0;_<h.length;++_){var S=h[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=e(this);function a(h,_){if(_)t:{var S=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in S))break t;S=S[G]}h=h[h.length-1],w=S[h],_=_(w),_!=w&&_!=null&&t(S,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var S=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&S.push([w,_[w]]);return S}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,S){return h.call.apply(h.bind,arguments)}function m(h,_,S){return m=p,m.apply(null,arguments)}function y(h,_){var S=Array.prototype.slice.call(arguments,1);return function(){var w=S.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function v(h,_){function S(){}S.prototype=_.prototype,h.Z=_.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(w,G,X){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return _.prototype[G].apply(w,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const _=h.length;if(_>0){const S=Array(_);for(let w=0;w<_;w++)S[w]=h[w];return S}return[]}function D(h,_){for(let w=1;w<arguments.length;w++){const G=arguments[w];var S=typeof G;if(S=S!="object"?S:G?Array.isArray(G)?"array":S:"null",S=="array"||S=="object"&&typeof G.length=="number"){S=h.length||0;const X=G.length||0;h.length=S+X;for(let lt=0;lt<X;lt++)h[S+lt]=G[lt]}else h.push(G)}}class O{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(h){c.setTimeout(()=>{throw h},0)}function j(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,S){const w=q.get();w.set(_,S),this.h?this.h.next=w:this.g=w,this.h=w}}var q=new O(()=>new it,h=>h.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let st,at=!1,C=new B,R=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(x)}};function x(){for(var h;h=j();){try{h.h.call(h.g)}catch(S){I(S)}var _=q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}at=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return h})();function P(h){return/^[\s\xa0]*$/.test(h)}function te(h,_){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(te,N),te.prototype.init=function(h,_){const S=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(S=="mouseover"?_=h.fromElement:S=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ot(h,_,S,w,G){this.listener=h,this.proxy=null,this.src=_,this.type=S,this.capture=!!w,this.ha=G,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h,_,S){for(const w in h)_.call(S,h[w],w,h)}function Vt(h,_){for(const S in h)_.call(void 0,h[S],S,h)}function U(h){const _={};for(const S in h)_[S]=h[S];return _}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,_){let S,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(S in w)h[S]=w[S];for(let X=0;X<nt.length;X++)S=nt[X],Object.prototype.hasOwnProperty.call(w,S)&&(h[S]=w[S])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,_,S,w,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const lt=xt(h,_,w,G);return lt>-1?(_=h[lt],S||(_.fa=!1)):(_=new ot(_,this.src,X,!!w,G),_.fa=S,h.push(_)),_};function St(h,_){const S=_.type;if(S in h.g){var w=h.g[S],G=Array.prototype.indexOf.call(w,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(w,G,1),X&&(dt(_),h.g[S].length==0&&(delete h.g[S],h.h--))}}function xt(h,_,S,w){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==_&&X.capture==!!S&&X.ha==w)return G}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),ke={};function ae(h,_,S,w,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ae(h,_[X],S,w,G);return null}return S=wl(S),h&&h[de]?h.J(_,S,f(w)?!!w.capture:!1,G):Ys(h,_,S,!1,w,G)}function Ys(h,_,S,w,G,X){if(!_)throw Error("Invalid event type");const lt=f(G)?!!G.capture:!!G;let Rt=Ws(h);if(Rt||(h[jt]=Rt=new ft(h)),S=Rt.add(_,S,w,lt,X),S.proxy)return S;if(w=Wa(),S.proxy=w,w.src=h,w.listener=S,h.addEventListener)F||(G=lt),G===void 0&&(G=!1),h.addEventListener(_.toString(),w,G);else if(h.attachEvent)h.attachEvent(Si(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Wa(){function h(S){return _.call(h.src,h.listener,S)}const _=bl;return h}function Xa(h,_,S,w,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)Xa(h,_[X],S,w,G);else w=f(w)?!!w.capture:!!w,S=wl(S),h&&h[de]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],S=xt(_,S,w,G),S>-1&&(dt(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Ws(h))&&(_=h.g[_.toString()],h=-1,_&&(h=xt(_,S,w,G)),(S=h>-1?_[h]:null)&&Qa(S))}function Qa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[de])St(_.i,h);else{var S=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(S,w,h.capture):_.detachEvent?_.detachEvent(Si(S),w):_.addListener&&_.removeListener&&_.removeListener(w),(S=Ws(_))?(St(S,h),S.h==0&&(S.src=null,_[jt]=null)):dt(h)}}}function Si(h){return h in ke?ke[h]:ke[h]="on"+h}function bl(h,_){if(h.da)h=!0;else{_=new te(_,this);const S=h.listener,w=h.ha||h.src;h.fa&&Qa(h),h=S.call(w,_)}return h}function Ws(h){return h=h[jt],h instanceof ft?h:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function wl(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(_){return h.handleEvent(_)}),h[Al])}function be(){k.call(this),this.i=new ft(this),this.M=this,this.G=null}v(be,k),be.prototype[de]=!0,be.prototype.removeEventListener=function(h,_,S,w){Xa(this,h,_,S,w)};function Le(h,_){var S,w=h.G;if(w)for(S=[];w;w=w.G)S.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new N(_,h);else if(_ instanceof N)_.target=_.target||h;else{var G=_;_=new N(w,h),ut(_,G)}G=!0;let X,lt;if(S)for(lt=S.length-1;lt>=0;lt--)X=_.g=S[lt],G=Fr(X,w,!0,_)&&G;if(X=_.g=h,G=Fr(X,w,!0,_)&&G,G=Fr(X,w,!1,_)&&G,S)for(lt=0;lt<S.length;lt++)X=_.g=S[lt],G=Fr(X,w,!1,_)&&G}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const S=h.g[_];for(let w=0;w<S.length;w++)dt(S[w]);delete h.g[_],h.h--}}this.G=null},be.prototype.J=function(h,_,S,w){return this.i.add(String(h),_,!1,S,w)},be.prototype.K=function(h,_,S,w){return this.i.add(String(h),_,!0,S,w)};function Fr(h,_,S,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const lt=_[X];if(lt&&!lt.da&&lt.capture==S){const Rt=lt.listener,ve=lt.ha||lt.src;lt.fa&&St(h.i,lt),G=Rt.call(ve,w)!==!1&&G}}return G&&!w.defaultPrevented}function Hd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Pc(h){h.g=Hd(()=>{h.g=null,h.i&&(h.i=!1,Pc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class cn extends k{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(h){k.call(this),this.h=h,this.g={}}v(Xs,k);var Rl=[];function Cl(h){It(h.g,function(_,S){this.g.hasOwnProperty(S)&&Qa(_)},h),h.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),Cl(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,qd=c.JSON.parse,Vc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Oc(){}function Nc(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}v(Ye,N);function Ln(){N.call(this,"c")}v(Ln,N);var ye={},kc=null;function $a(){return kc=kc||new be}ye.Ia="serverreachability";function Lc(h){N.call(this,ye.Ia,h)}v(Lc,N);function bi(h){const _=$a();Le(_,new Lc(_))}ye.STAT_EVENT="statevent";function Qs(h,_){N.call(this,ye.STAT_EVENT,h),this.stat=_}v(Qs,N);function Ae(h){const _=$a();Le(_,new Qs(_,h))}ye.Ja="timingevent";function Ai(h,_){N.call(this,ye.Ja,h),this.size=_}v(Ai,N);function wi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Gd(h,_,S,w,G,X){h.info(function(){if(h.g)if(X){var lt="",Rt=X.split("&");for(let qt=0;qt<Rt.length;qt++){var ve=Rt[qt].split("=");if(ve.length>1){const oe=ve[0];ve=ve[1];const Bn=oe.split("_");lt=Bn.length>=2&&Bn[1]=="type"?lt+(oe+"="+ve+"&"):lt+(oe+"=redacted&")}}}else lt=null;else lt=X;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+_+`
`+S+`
`+lt})}function Uc(h,_,S,w,G,X,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+_+`
`+S+`
`+X+" "+lt})}function Ri(h,_,S,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kd(h,S)+(w?" "+w:"")})}function $s(h,_){h.info(function(){return"TIMEOUT: "+_})}ii.prototype.info=function(){};function Kd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var S=X[h];if(!(S.length<2)){var w=S[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return Hr(X)}catch{return _}}var Zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function Js(){}v(Js,Oc),Js.prototype.g=function(){return new XMLHttpRequest},xl=new Js;function ur(h){return encodeURIComponent(String(h))}function zc(h){var _=1;h=h.split(":");const S=[];for(;_>0&&h.length;)S.push(h.shift()),_--;return h.length&&S.push(h.join(":")),S}function ri(h,_,S,w){this.j=h,this.i=_,this.l=S,this.S=w||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var we={},Fe={};function Ci(h,_,S){h.M=1,h.A=ta(Ce(_)),h.u=S,h.R=!0,Za(h,null)}function Za(h,_){h.F=Date.now(),Ii(h),h.B=Ce(h.A);var S=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),no(S.i,"t",w),h.C=0,S=h.j.L,h.h=new si,h.g=th(h.j,S?_:null,!h.u),h.P>0&&(h.O=new cn(m(h.Y,h,h.g),h.P)),_=h.V,S=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Rl[0]=G.toString()),G=Rl);for(let X=0;X<G.length;X++){const lt=ae(S,G[X],w||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),bi(),Gd(h.i,h.v,h.B,h.l,h.S,h.u)}ri.prototype.ba=function(h){h=h.target;const _=this.O;_&&li(h)==3?_.j():this.Y(h)},ri.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=li(this.g),ve=this.g.ya(),qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||Rt!=4||ve==7||(ve==8||qt<=0?bi(3):bi(2)),xi(this);var _=this.g.ca();this.X=_;var S=Yd(this);if(this.o=_==200,Uc(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(w)){var X=w;break e}}X=null}if(h=X)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,h);else{this.o=!1,this.m=3,Ae(12),An(this),Un(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<S.length;)if(oe=Bc(this,S),oe==Fe){Rt==4&&(this.m=4,Ae(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==we){this.m=4,Ae(15),Ri(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,oe,null),Di(this,oe);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||S.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,S,"[Invalid Chunked Response]"),An(this),Un(this);else if(S.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ql(lt),lt.P=!0,Ae(11))}}else Ri(this.i,this.l,S,null),Di(this,S);Rt==4&&An(this),this.o&&!this.K&&(Rt==4?Qc(this.j,this):(this.o=!1,Ii(this)))}else hr(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),An(this),Un(this)}}}catch{}};function Yd(h){if(!jc(h))return h.g.la();const _=We(h.g);if(_==="")return"";let S="";const w=_.length,G=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Un(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<w;X++)h.h.h=!0,S+=h.h.i.decode(_[X],{stream:!(G&&X==w-1)});return _.length=0,h.h.g+=S,h.C=0,h.h.g}function jc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bc(h,_){var S=h.C,w=_.indexOf(`
`,S);return w==-1?Fe:(S=Number(_.substring(S,w)),isNaN(S)?we:(w+=1,w+S>_.length?Fe:(_=_.slice(w,w+S),h.C=w+S,_)))}ri.prototype.cancel=function(){this.K=!0,An(this)};function Ii(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(m(h.aa,h),_)}function xi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ri.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($s(this.i,this.B),this.M!=2&&(bi(),Ae(17)),An(this),this.m=2,Un(this)):Ja(this,this.T-h)};function Un(h){h.j.I==0||h.K||Qc(h.j,h)}function An(h){xi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Cl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Di(h,_){try{var S=h.j;if(S.I!=0&&(S.g==h||Pi(S.h,h))){if(!h.L&&Pi(S.h,h)&&S.I==3){try{var w=S.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)oo(S),$r(S);else break t;oa(S),Ae(18)}}else S.xa=G[1],0<S.xa-S.K&&G[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=wi(m(S.Va,S),6e3));Mi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ui(S,11)}else if((h.L||S.g==h)&&oo(S),!P(_))for(G=S.Ba.g.parse(_),_=0;_<G.length;_++){let qt=G[_];const oe=qt[0];if(!(oe<=S.K))if(S.K=oe,qt=qt[1],S.I==2)if(qt[0]=="c"){S.M=qt[1],S.ba=qt[2];const Bn=qt[3];Bn!=null&&(S.ka=Bn,S.j.info("VER="+S.ka));const zi=qt[4];zi!=null&&(S.za=zi,S.j.info("SVER="+S.za));const ui=qt[5];ui!=null&&typeof ui=="number"&&ui>0&&(w=1.5*ui,S.O=w,S.j.info("backChannelRequestTimeoutMs_="+w)),w=S;const ci=h.g;if(ci){const la=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var X=w.h;X.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Pl(X,X.h),X.h=null))}if(w.G){const lo=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(w.wa=lo,Yt(w.J,w.G,lo))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),w=S;var lt=h;if(w.na=Jc(w,w.L?w.ba:null,w.W),lt.L){Vl(w.h,lt);var Rt=lt,ve=w.O;ve&&(Rt.H=ve),Rt.D&&(xi(Rt),Ii(Rt)),w.g=lt}else Wc(w);S.i.length>0&&Li(S)}else qt[0]!="stop"&&qt[0]!="close"||Ui(S,7);else S.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ui(S,7):Fl(S):qt[0]!="noop"&&S.l&&S.l.qa(qt),S.A=0)}}bi(4)}catch{}}var Re=class{constructor(h,_){this.g=h,this.map=_}};function Dl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function Pi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Pl(h,_){h.g?h.g.add(_):h.h=_}function Vl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Dl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const S of h.g.values())_=_.concat(S.G);return _}return A(h.i)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(h,_){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const w=h[S].indexOf("=");let G,X=null;w>=0?(G=h[S].substring(0,w),X=h[S].substring(w+1)):G=h[S],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof wn?(this.l=h.l,He(this,h.j),this.o=h.o,this.g=h.g,qr(this,h.u),this.h=h.h,Nl(this,Kc(h.i)),this.m=h.m):h&&(_=String(h).match(Fc))?(this.l=!1,He(this,_[1]||"",!0),this.o=Vi(_[2]||""),this.g=Vi(_[3]||"",!0),qr(this,_[4]),this.h=Vi(_[5]||"",!0),Nl(this,_[6]||"",!0),this.m=Vi(_[7]||"")):(this.l=!1,this.i=new Kr(null,this.l))}wn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ea(_,eo,!0),":");var S=this.g;return(S||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ea(_,eo,!0),"@"),h.push(ur(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(ea(S,S.charAt(0)=="/"?kl:Hc,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",ea(S,qc)),h.join("")},wn.prototype.resolve=function(h){const _=Ce(this);let S=!!h.j;S?He(_,h.j):S=!!h.o,S?_.o=h.o:S=!!h.g,S?_.g=h.g:S=h.u!=null;var w=h.h;if(S)qr(_,h.u);else if(S=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=_.h.lastIndexOf("/");G!=-1&&(w=_.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let lt=0;lt<G.length;){const Rt=G[lt++];Rt=="."?w&&lt==G.length&&X.push(""):Rt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),w&&lt==G.length&&X.push("")):(X.push(Rt),w=!0)}w=X.join("/")}else w=G}return S?_.h=w:S=h.i.toString()!=="",S?Nl(_,Kc(h.i)):S=!!h.m,S&&(_.m=h.m),_};function Ce(h){return new wn(h)}function He(h,_,S){h.j=S?Vi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function qr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Nl(h,_,S){_ instanceof Kr?(h.i=_,io(h.i,h.l)):(S||(_=ea(_,Gr)),h.i=new Kr(_,h.l))}function Yt(h,_,S){h.i.set(_,S)}function ta(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ea(h,_,S){return typeof h=="string"?(h=encodeURI(h).replace(_,pn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Hc=/[#\?:]/g,kl=/[#\?]/g,Gr=/[#\?@]/g,qc=/#/g;function Kr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&to(h.i,function(_,S){h.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=Kr.prototype,n.add=function(h,_){mn(this),this.i=null,h=Yr(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(_),this.h+=1,this};function Gc(h,_){mn(h),_=Yr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ll(h,_){return mn(h),_=Yr(h,_),h.g.has(_)}n.forEach=function(h,_){mn(this),this.g.forEach(function(S,w){S.forEach(function(G){h.call(_,G,w,this)},this)},this)};function Ul(h,_){mn(h);let S=[];if(typeof _=="string")Ll(h,_)&&(S=S.concat(h.g.get(Yr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)S=S.concat(h[_]);return S}n.set=function(h,_){return mn(this),this.i=null,h=Yr(this,h),Ll(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=Ul(this,h),h.length>0?String(h[0]):_):_};function no(h,_,S){Gc(h,_),S.length>0&&(h.i=null,h.g.set(Yr(h,_),A(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var S=_[w];const G=ur(S);S=Ul(this,S);for(let X=0;X<S.length;X++){let lt=G;S[X]!==""&&(lt+="="+ur(S[X])),h.push(lt)}}return this.i=h.join("&")};function Kc(h){const _=new Kr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Yr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function io(h,_){_&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(S,w){const G=w.toLowerCase();w!=G&&(Gc(this,w),no(this,G,S))},h)),h.j=_}function ai(h,_){const S=new ii;if(c.Image){const w=new Image;w.onload=y(zn,S,"TestLoadImage: loaded",!0,_,w),w.onerror=y(zn,S,"TestLoadImage: error",!1,_,w),w.onabort=y(zn,S,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(zn,S,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function zl(h,_){const S=new ii,w=new AbortController,G=setTimeout(()=>{w.abort(),zn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(X=>{clearTimeout(G),X.ok?zn(S,"TestPingServer: ok",!0,_):zn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),zn(S,"TestPingServer: error",!1,_)})}function zn(h,_,S,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(S)}catch{}}function Wr(){this.g=new Vc}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Oi,Oc),Oi.prototype.g=function(){return new na(this.i,this.h)};function na(h,_){be.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(na,be),n=na.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,oi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Xr(this):oi(this),this.readyState==3&&ro(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Xr(this))},n.Na=function(h){this.g&&(this.response=h,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=_.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let _="";return It(h,function(S,w){_+=w,_+=":",_+=S,_+=`\r
`}),_}function ia(h,_,S){t:{for(w in S){var w=!1;break t}w=!0}w||(S=jn(S),typeof h=="string"?S!=null&&ur(S):Yt(h,_,S))}function Qt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Qt,be);var Ni=/^https?$/i,jl=["POST","PUT"];n=Qt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,S,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){ra(this,X);return}if(h=S||"",S=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)S.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())S.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(S.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(jl,_,void 0)>=0)||w||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,lt]of S)this.g.setRequestHeader(X,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ra(this,X)}};function ra(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Bl(h),cr(h)}function Bl(h){h.A||(h.A=!0,Le(h,"complete"),Le(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Le(this,"complete"),Le(this,"abort"),cr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Qt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(h){if(h.h&&typeof l<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(Le(h,"readystatechange"),li(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var S;if(!(S=_)){var w;if(w=X===0){let lt=String(h.D).match(Fc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!Ni.test(lt?lt.toLowerCase():"")}S=w}if(S)Le(h,"complete"),Le(h,"success");else{h.o=6;try{var G=li(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Bl(h)}}finally{cr(h)}}}}function cr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,_||Le(h,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),qd(_)}};function We(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hr(h){const _={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(P(h[w]))continue;var S=zc(h[w]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const X=_[G]||[];_[G]=X,X.push(S)}Vt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(h,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||_}function Qr(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,h),this.Za=ki("retryDelaySeedMs",1e4,h),this.Ta=ki("forwardChannelMaxRetries",2,h),this.va=ki("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(h&&h.concurrentRequestLimit),this.Ba=new Wr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qr.prototype,n.ka=8,n.I=1,n.connect=function(h,_,S,w){Ae(0),this.W=h,this.H=_||{},S&&w!==void 0&&(this.H.OSID=S,this.H.OAID=w),this.F=this.X,this.J=Jc(this,null,this.W),Li(this)};function Fl(h){if(so(h),h.I==3){var _=h.V++,S=Ce(h.J);if(Yt(S,"SID",h.M),Yt(S,"RID",_),Yt(S,"TYPE","terminate"),aa(h,S),_=new ri(h,h.j,_),_.M=2,_.A=ta(Ce(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=th(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ii(_)}Zc(h)}function $r(h){h.g&&(ql(h),h.g.cancel(),h.g=null)}function so(h){$r(h),h.v&&(c.clearTimeout(h.v),h.v=null),oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Li(h){if(!Ml(h.h)&&!h.m){h.m=!0;var _=h.Ea;st||R(),at||(st(),at=!0),C.add(_,h),h.D=0}}function ao(h,_){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(m(h.Ea,h,_),$c(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ri(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),ut(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)t:{for(var _=0,S=0;S<this.i.length;S++){e:{var w=this.i[S];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=S;break t}if(_===4096||S===this.i.length-1){_=S+1;break t}}_=1e3}else _=1e3;_=Yc(this,G,_),S=Ce(this.J),Yt(S,"RID",h),Yt(S,"CVER",22),this.G&&Yt(S,"X-HTTP-Session-Id",this.G),aa(this,S),X&&(this.R?_="headers="+ur(jn(X))+"&"+_:this.u&&ia(S,this.u,X)),Pl(this.h,G),this.Ra&&Yt(S,"TYPE","init"),this.S?(Yt(S,"$req",_),Yt(S,"SID","null"),G.U=!0,Ci(G,S,null)):Ci(G,S,_),this.I=2}}else this.I==3&&(h?Hl(this,h):this.i.length==0||Ml(this.h)||Hl(this))};function Hl(h,_){var S;_?S=_.l:S=h.V++;const w=Ce(h.J);Yt(w,"SID",h.M),Yt(w,"RID",S),Yt(w,"AID",h.K),aa(h,w),h.u&&h.o&&ia(w,h.u,h.o),S=new ri(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Yc(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Pl(h.h,S),Ci(S,w,_)}function aa(h,_){h.H&&It(h.H,function(S,w){Yt(_,w,S)}),h.l&&It({},function(S,w){Yt(_,w,S)})}function Yc(h,_,S){S=Math.min(h.i.length,S);const w=h.l?m(h.l.Ka,h.l,h):null;t:{var G=h.i;let Rt=-1;for(;;){const ve=["count="+S];Rt==-1?S>0?(Rt=G[0].g,ve.push("ofs="+Rt)):Rt=0:ve.push("ofs="+Rt);let qt=!0;for(let oe=0;oe<S;oe++){var X=G[oe].g;const Bn=G[oe].map;if(X-=Rt,X<0)Rt=Math.max(0,G[oe].g-100),qt=!1;else try{X="req"+X+"_"||"";try{var lt=Bn instanceof Map?Bn:Object.entries(Bn);for(const[zi,ui]of lt){let ci=ui;f(ui)&&(ci=Hr(ui)),ve.push(X+zi+"="+encodeURIComponent(ci))}}catch(zi){throw ve.push(X+"type="+encodeURIComponent("_badmap")),zi}}catch{w&&w(Bn)}}if(qt){lt=ve.join("&");break t}}lt=void 0}return h=h.i.splice(0,S),_.G=h,lt}function Wc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;st||R(),at||(st(),at=!0),C.add(_,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(m(h.Da,h),$c(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),$r(this),Xc(this))};function ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Xc(h){h.g=new ri(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ce(h.na);Yt(_,"RID","rpc"),Yt(_,"SID",h.M),Yt(_,"AID",h.K),Yt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(_,"TO",h.ia),Yt(_,"TYPE","xmlhttp"),aa(h,_),h.u&&h.o&&ia(_,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=ta(Ce(_)),S.u=null,S.R=!0,Za(S,h)}n.Va=function(){this.C!=null&&(this.C=null,$r(this),oa(this),Ae(19))};function oo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Qc(h,_){var S=null;if(h.g==_){oo(h),ql(h),h.g=null;var w=2}else if(Pi(h.h,_))S=_.G,Vl(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var G=h.D;w=$a(),Le(w,new Ai(w,S)),Li(h)}else Wc(h);else if(G=_.m,G==3||G==0&&_.X>0||!(w==1&&ao(h,_)||w==2&&oa(h)))switch(S&&S.length>0&&(_=h.h,_.i=_.i.concat(S)),G){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function $c(h,_){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*_}function Ui(h,_){if(h.j.info("Error code "+_),_==2){var S=m(h.bb,h),w=h.Ua;const G=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(w,"https"),ta(w),G?ai(w.toString(),S):zl(w.toString(),S)}else Ae(2);h.I=0,h.l&&h.l.pa(_),Zc(h),so(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Zc(h){if(h.I=0,h.ja=[],h.l){const _=Ol(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Jc(h,_,S){var w=S instanceof wn?Ce(S):new wn(S);if(w.g!="")_&&(w.g=_+"."+w.g),qr(w,w.u);else{var G=c.location;w=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new wn(null);w&&He(X,w),_&&(X.g=_),G&&qr(X,G),S&&(X.h=S),w=X}return S=h.G,_=h.wa,S&&_&&Yt(w,S,_),Yt(w,"VER",h.ka),aa(h,w),w}function th(h,_,S){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Qt(new Oi({ab:S})):new Qt(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zr(){}Zr.prototype.g=function(h,_){return new hn(h,_)};function hn(h,_){be.call(this),this.g=new Qr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!P(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fr(this)}v(hn,be),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Fl(this.g)},hn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Hr(h),h=S);_.i.push(new Re(_.Ya++,h)),_.I==3&&Li(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,hn.Z.N.call(this)};function nh(h){Ye.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const S in _){h=S;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(nh,Ye);function ih(){Ln.call(this),this.status=1}v(ih,Ln);function fr(h){this.g=h}v(fr,eh),fr.prototype.ra=function(){Le(this.g,"a")},fr.prototype.qa=function(h){Le(this.g,new nh(h))},fr.prototype.pa=function(h){Le(this.g,new ih)},fr.prototype.oa=function(){Le(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,p1=function(){return new Zr},d1=function(){return $a()},f1=ye,jg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Cf=Zs,Il.COMPLETE="complete",h1=Il,Nc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",be.prototype.listen=be.prototype.J,Nu=Nc,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,c1=Qt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const wS="@firebase/firestore",RS="4.9.2";class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let pl="12.3.0";const La=new zy("@firebase/firestore");function jo(){return La.logLevel}function ht(n,...t){if(La.logLevel<=kt.DEBUG){const e=t.map(Qy);La.debug(`Firestore (${pl}): ${n}`,...e)}}function Lr(n,...t){if(La.logLevel<=kt.ERROR){const e=t.map(Qy);La.error(`Firestore (${pl}): ${n}`,...e)}}function nl(n,...t){if(La.logLevel<=kt.WARN){const e=t.map(Qy);La.warn(`Firestore (${pl}): ${n}`,...e)}}function Qy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Tt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,m1(n,r,e)}function m1(n,t,e){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Lr(r),new Error(r)}function Kt(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||m1(t,a,r)}function wt(n,t){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends or{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class g1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(an.UNAUTHENTICATED)))}shutdown(){}}class UO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class zO{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;t.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new g1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class jO{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BO{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new jO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new CS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class $y{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function Lt(n,t){return n<t?-1:n>t?1:0}function Bg(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),l=t.charAt(r);if(a!==l)return ng(a)===ng(l)?Lt(a,l):ng(a)?1:-1}return Lt(n.length,t.length)}const qO=55296,GO=57343;function ng(n){const t=n.charCodeAt(0);return t>=qO&&t<=GO}function il(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}const IS="__name__";class Ki{constructor(t,e,r){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Tt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=Ki.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Lt(t.length,e.length)}static compareSegments(t,e){const r=Ki.isNumericId(t),a=Ki.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Ki.extractNumericId(t).compare(Ki.extractNumericId(e)):Bg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ds.fromString(t.substring(4,t.length-2))}}class ne extends Ki{construct(t,e,r){return new ne(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new ne(e)}static emptyPath(){return new ne([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ki{construct(t,e,r){return new en(t,e,r)}static isValidIdentifier(t){return KO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IS}static keyField(){return new en([IS])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}function y1(n,t,e){if(!e)throw new ct(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function YO(n,t,e,r){if(t===!0&&r===!0)throw new ct(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xS(n){if(!yt.isDocumentKey(n))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DS(n){if(yt.isDocumentKey(n))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Ur(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_d(n);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ne(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ec(n,t){if(!v1(n))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new ct(tt.INVALID_ARGUMENT,e);return!0}const MS=-62135596800,PS=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*PS);return new se(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<MS)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PS}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ec(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-MS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;function WO(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(r===1e9?new se(e+1,0):new se(e,r));return new Vs(a,yt.empty(),t)}function XO(n){return new Vs(n.readTime,n.key,tc)}class Vs{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Vs(bt.min(),yt.empty(),tc)}static max(){return new Vs(bt.max(),yt.empty(),tc)}}function QO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}const $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ml(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==$O)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,r)=>{e(t)}))}static reject(t){return new rt(((e,r)=>{r(t)}))}static waitFor(t){return new rt(((e,r)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&e()}),(p=>r(p)))})),c=!0,l===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const r of t)e=e.next((a=>a?rt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,l)=>{r.push(e.call(this,a,l))})),this.waitFor(r)}static mapArray(t,e){return new rt(((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;e(t[m]).next((y=>{c[m]=y,++f,f===l&&r(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new rt(((r,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):r()};l()}))}}function JO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function gl(n){return n.name==="IndexedDbTransactionError"}class Td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Td.ce=-1;const Zy=-1;function Ed(n){return n==null}function Kf(n){return n===0&&1/n==-1/0}function tN(n){return typeof n=="number"&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const _1="";function eN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=VS(t)),t=nN(n.get(e),t);return VS(t)}function nN(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case _1:e+="";break;default:e+=l}}return e}function VS(n){return n+_1+""}function OS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function qs(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function T1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class fe{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hf(this.root,t,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hf(this.root,t,this.comparator,!0)}}class hf{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new tn(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,r,a,l){return this}insert(t,e,r){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NS(this.data.getIterator())}getIteratorFrom(t){return new NS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new je(this.comparator);return e.data=t,e}}class NS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new On([])}unionWith(t){let e=new je(en.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new On(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new E1("Invalid base64 string: "+l):l}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=iN.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}const S1="server_timestamp",b1="__type__",A1="__previous_value__",w1="__local_write_time__";function Jy(n){return(n?.mapValue?.fields||{})[b1]?.stringValue===S1}function Sd(n){const t=n.mapValue.fields[A1];return Jy(t)?Sd(t):t}function ec(n){const t=Os(n.mapValue.fields[w1].timestampValue);return new se(t.seconds,t.nanos)}class rN{constructor(t,e,r,a,l,c,f,p,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Yf="(default)";class nc{constructor(t,e){this.projectId=t,this.database=e||Yf}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(t){return t instanceof nc&&t.projectId===this.projectId&&t.database===this.database}}const R1="__type__",sN="__max__",ff={mapValue:{}},C1="__vector__",Wf="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jy(n)?4:oN(n)?9007199254740991:aN(n)?10:11:Tt(28295,{value:n})}function rr(n,t){if(n===t)return!0;const e=ks(n);if(e!==ks(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ec(n).isEqual(ec(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Os(a.timestampValue),f=Os(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ee(a.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(a.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ee(a.integerValue)===Ee(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ee(a.doubleValue),f=Ee(l.doubleValue);return c===f?Kf(c)===Kf(f):isNaN(c)&&isNaN(f)}return!1})(n,t);case 9:return il(n.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(OS(c)!==OS(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!rr(c[p],f[p])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function ic(n,t){return(n.values||[]).find((e=>rr(e,t)))!==void 0}function rl(n,t){if(n===t)return 0;const e=ks(n),r=ks(t);if(e!==r)return Lt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Ee(l.integerValue||l.doubleValue),p=Ee(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,t);case 3:return kS(n.timestampValue,t.timestampValue);case 4:return kS(ec(n),ec(t));case 5:return Bg(n.stringValue,t.stringValue);case 6:return(function(l,c){const f=Ns(l),p=Ns(c);return f.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=Lt(f[m],p[m]);if(y!==0)return y}return Lt(f.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Lt(Ee(l.latitude),Ee(c.latitude));return f!==0?f:Lt(Ee(l.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return LS(n.arrayValue,t.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},m=f[Wf]?.arrayValue,y=p[Wf]?.arrayValue,v=Lt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:LS(m,y)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===ff.mapValue&&c===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(c===ff.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const E=Bg(p[v],y[v]);if(E!==0)return E;const A=rl(f[p[v]],m[y[v]]);if(A!==0)return A}return Lt(p.length,y.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{he:e})}}function kS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Os(n),r=Os(t),a=Lt(e.seconds,r.seconds);return a!==0?a:Lt(e.nanos,r.nanos)}function LS(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=rl(e[a],r[a]);if(l)return l}return Lt(e.length,r.length)}function sl(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Os(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ns(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=Fg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Fg(e.fields[c])}`;return a+"}"})(n.mapValue):Tt(61005,{value:n})}function If(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sd(n);return t?16+If(t):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+If(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return qs(r.fields,((l,c)=>{a+=l.length+If(c)})),a})(n.mapValue);default:throw Tt(13486,{value:n})}}function US(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Hg(n){return!!n&&"integerValue"in n}function tv(n){return!!n&&"arrayValue"in n}function zS(n){return!!n&&"nullValue"in n}function jS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function aN(n){return(n?.mapValue?.fields||{})[R1]?.stringValue===C1}function Fu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return qs(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Fu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fu(n.arrayValue.values[e]);return t}return{...n}}function oN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!xf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fu(e)}setAll(t){let e=en.emptyPath(),r={},a=[];t.forEach(((c,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,r,a),r={},a=[],e=f.popLast()}c?r[f.lastSegment()]=Fu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());xf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){qs(e,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new Sn(Fu(this.value))}}function I1(n){const t=[];return qs(n.fields,((e,r)=>{const a=new en([e]);if(xf(r)){const l=I1(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new On(t)}class on{constructor(t,e,r,a,l,c,f){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),Sn.empty(),0)}static newFoundDocument(t,e,r,a){return new on(t,1,e,bt.min(),r,a,0)}static newNoDocument(t,e){return new on(t,2,e,bt.min(),bt.min(),Sn.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,bt.min(),bt.min(),Sn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xf{constructor(t,e){this.position=t,this.inclusive=e}}function BS(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),e.key):r=rl(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function FS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rr(n.position[e],t.position[e]))return!1;return!0}class rc{constructor(t,e="asc"){this.field=t,this.dir=e}}function lN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class x1{}class Oe extends x1{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new cN(t,e,r):e==="array-contains"?new dN(t,r):e==="in"?new pN(t,r):e==="not-in"?new mN(t,r):e==="array-contains-any"?new gN(t,r):new Oe(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new hN(t,r):new fN(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(rl(e,this.value)):e!==null&&ks(this.value)===ks(e)&&this.matchesComparison(rl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends x1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ti(t,e)}matches(t){return D1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(n){return n.op==="and"}function M1(n){return uN(n)&&D1(n)}function uN(n){for(const t of n.filters)if(t instanceof Ti)return!1;return!0}function qg(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(M1(n))return n.filters.map((t=>qg(t))).join(",");{const t=n.filters.map((e=>qg(e))).join(",");return`${n.op}(${t})`}}function P1(n,t){return n instanceof Oe?(function(r,a){return a instanceof Oe&&r.op===a.op&&r.field.isEqual(a.field)&&rr(r.value,a.value)})(n,t):n instanceof Ti?(function(r,a){return a instanceof Ti&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&P1(c,a.filters[f])),!0):!1})(n,t):void Tt(19439)}function V1(n){return n instanceof Oe?(function(e){return`${e.field.canonicalString()} ${e.op} ${sl(e.value)}`})(n):n instanceof Ti?(function(e){return e.op.toString()+" {"+e.getFilters().map(V1).join(" ,")+"}"})(n):"Filter"}class cN extends Oe{constructor(t,e,r){super(t,e,r),this.key=yt.fromName(r.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class hN extends Oe{constructor(t,e){super(t,"in",e),this.keys=O1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class fN extends Oe{constructor(t,e){super(t,"not-in",e),this.keys=O1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function O1(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class dN extends Oe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return tv(e)&&ic(e.arrayValue,this.value)}}class pN extends Oe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ic(this.value.arrayValue,e)}}class mN extends Oe{constructor(t,e){super(t,"not-in",e)}matches(t){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ic(this.value.arrayValue,e)}}class gN extends Oe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!tv(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>ic(this.value.arrayValue,r)))}}class yN{constructor(t,e=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function HS(n,t=null,e=[],r=[],a=null,l=null,c=null){return new yN(n,t,e,r,a,l,c)}function ev(n){const t=wt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>qg(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>sl(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>sl(r))).join(",")),t.Te=e}return t.Te}function nv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!P1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!FS(n.startAt,t.startAt)&&FS(n.endAt,t.endAt)}function Gg(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class yl{constructor(t,e=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vN(n,t,e,r,a,l,c,f){return new yl(n,t,e,r,a,l,c,f)}function iv(n){return new yl(n)}function qS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function N1(n){return n.collectionGroup!==null}function Hu(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new je(en.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new rc(l,r))})),e.has(en.keyField().canonicalString())||t.Ie.push(new rc(en.keyField(),r))}return t.Ie}function $i(n){const t=wt(n);return t.Ee||(t.Ee=_N(t,Hu(n))),t.Ee}function _N(n,t){if(n.limitType==="F")return HS(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new rc(a.field,l)}));const e=n.endAt?new Xf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xf(n.startAt.position,n.startAt.inclusive):null;return HS(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Kg(n,t){const e=n.filters.concat([t]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Yg(n,t,e){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bd(n,t){return nv($i(n),$i(t))&&n.limitType===t.limitType}function k1(n){return`${ev($i(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>V1(a))).join(", ")}]`),Ed(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>sl(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>sl(a))).join(",")),`Target(${r})`})($i(n))}; limitType=${n.limitType})`}function Ad(n,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,t)&&(function(r,a){for(const l of Hu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(c,f,p){const m=BS(c,f,p);return c.inclusive?m<=0:m<0})(r.startAt,Hu(r),a)||r.endAt&&!(function(c,f,p){const m=BS(c,f,p);return c.inclusive?m>=0:m>0})(r.endAt,Hu(r),a))})(n,t)}function TN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L1(n){return(t,e)=>{let r=!1;for(const a of Hu(n)){const l=EN(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function EN(n,t,e){const r=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?rl(p,m):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:n.dir})}}class qa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,((e,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}const SN=new fe(yt.comparator);function zr(){return SN}const U1=new fe(yt.comparator);function ku(...n){let t=U1;for(const e of n)t=t.insert(e.key,e);return t}function z1(n){let t=U1;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ca(){return qu()}function j1(){return qu()}function qu(){return new qa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const bN=new fe(yt.comparator),AN=new je(yt.comparator);function Ut(...n){let t=AN;for(const e of n)t=t.add(e);return t}const wN=new je(Lt);function RN(){return wN}function rv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(t)?"-0":t}}function B1(n){return{integerValue:""+n}}function CN(n,t){return tN(t)?B1(t):rv(n,t)}class wd{constructor(){this._=void 0}}function IN(n,t,e){return n instanceof sc?(function(a,l){const c={fields:{[b1]:{stringValue:S1},[w1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jy(l)&&(l=Sd(l)),l&&(c.fields[A1]=l),{mapValue:c}})(e,t):n instanceof ac?H1(n,t):n instanceof oc?q1(n,t):(function(a,l){const c=F1(a,l),f=GS(c)+GS(a.Ae);return Hg(c)&&Hg(a.Ae)?B1(f):rv(a.serializer,f)})(n,t)}function xN(n,t,e){return n instanceof ac?H1(n,t):n instanceof oc?q1(n,t):e}function F1(n,t){return n instanceof Qf?(function(r){return Hg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class sc extends wd{}class ac extends wd{constructor(t){super(),this.elements=t}}function H1(n,t){const e=G1(t);for(const r of n.elements)e.some((a=>rr(a,r)))||e.push(r);return{arrayValue:{values:e}}}class oc extends wd{constructor(t){super(),this.elements=t}}function q1(n,t){let e=G1(t);for(const r of n.elements)e=e.filter((a=>!rr(a,r)));return{arrayValue:{values:e}}}class Qf extends wd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function GS(n){return Ee(n.integerValue||n.doubleValue)}function G1(n){return tv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class DN{constructor(t,e){this.field=t,this.transform=e}}function MN(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof ac&&a instanceof ac||r instanceof oc&&a instanceof oc?il(r.elements,a.elements,rr):r instanceof Qf&&a instanceof Qf?rr(r.Ae,a.Ae):r instanceof sc&&a instanceof sc})(n.transform,t.transform)}class PN{constructor(t,e){this.version=t,this.transformResults=e}}class Zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Df(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Rd{}function K1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new W1(n.key,Zi.none()):new Sc(n.key,n.data,Zi.none());{const e=n.data,r=Sn.empty();let a=new je(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Gs(n.key,r,new On(a.toArray()),Zi.none())}}function VN(n,t,e){n instanceof Sc?(function(a,l,c){const f=a.value.clone(),p=YS(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Gs?(function(a,l,c){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=YS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Y1(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Gu(n,t,e,r){return n instanceof Sc?(function(l,c,f,p){if(!Df(l.precondition,c))return f;const m=l.value.clone(),y=WS(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,r):n instanceof Gs?(function(l,c,f,p){if(!Df(l.precondition,c))return f;const m=WS(l.fieldTransforms,p,c),y=c.data;return y.setAll(Y1(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,r):(function(l,c,f){return Df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,t,e)}function ON(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=F1(r.transform,a||null);l!=null&&(e===null&&(e=Sn.empty()),e.set(r.field,l))}return e||null}function KS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&il(r,a,((l,c)=>MN(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Sc extends Rd{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gs extends Rd{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function YS(n,t,e){const r=new Map;Kt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,xN(c,f,e[a]))}return r}function WS(n,t,e){const r=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);r.set(a.field,IN(l,c,t))}return r}class W1 extends Rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NN extends Rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kN{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&VN(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Gu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Gu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=j1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=e.has(a.key)?null:f;const p=K1(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,((e,r)=>KS(e,r)))&&il(this.baseMutations,t.baseMutations,((e,r)=>KS(e,r)))}}class sv{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return bN})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new sv(t,e,r,a)}}class LN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pe,Bt;function zN(n){switch(n){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function X1(n){if(n===void 0)return Lr("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Pe.OK:return tt.OK;case Pe.CANCELLED:return tt.CANCELLED;case Pe.UNKNOWN:return tt.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return tt.INTERNAL;case Pe.UNAVAILABLE:return tt.UNAVAILABLE;case Pe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Pe.NOT_FOUND:return tt.NOT_FOUND;case Pe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Pe.ABORTED:return tt.ABORTED;case Pe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Pe.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:n})}}(Bt=Pe||(Pe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function jN(){return new TextEncoder}const BN=new Ds([4294967295,4294967295],0);function XS(n){const t=jN().encode(n),e=new u1;return e.update(t),new Uint8Array(e.digest())}function QS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ds([e,r],0),new Ds([a,l],0)]}class av{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Lu(`Invalid padding: ${e}`);if(r<0)throw new Lu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ds.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Ds.fromNumber(r)));return a.compare(BN)===1&&(a=new Ds([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=XS(t),[r,a]=QS(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new av(l,a,e);return r.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const e=XS(t),[r,a]=QS(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,bc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Cd(bt.min(),a,new fe(Lt),zr(),Ut())}}class bc{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new bc(r,e,Ut(),Ut(),Ut())}}class Mf{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class Q1{constructor(t,e){this.targetId=t,this.Ce=e}}class $1{constructor(t,e,r=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class $S{constructor(){this.ve=0,this.Fe=ZS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),r=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Tt(38017,{changeType:l})}})),new bc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=ZS()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(t){this.Ge=t,this.ze=new Map,this.je=zr(),this.Je=df(),this.He=df(),this.Ye=new fe(Lt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Gg(l))if(r===0){const c=new yt(l.path);this.et(e,c,on.newNoDocument(c,bt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const f=this.ut(t),p=f?this.ct(f,t,c):1;if(p!==0){this.it(e);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,f;try{c=Ns(r).toUint8Array()}catch(p){if(p instanceof E1)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new av(c,a,l)}catch(p){return nl(p instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Gg(f.target)){const p=new yt(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,on.newNoDocument(p,t))}l.Be&&(e.set(c,l.ke()),l.qe())}}));let r=Ut();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Cd(t,e,this.Ye,this.je,r);return this.je=zr(),this.Je=df(),this.He=df(),this.Ye=new fe(Lt),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new $S,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new je(Lt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new je(Lt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $S),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function df(){return new fe(yt.comparator)}function ZS(){return new fe(yt.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class KN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Wg(n,t){return n.useProto3Json||Ed(t)?t:{value:t}}function $f(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function YN(n,t){return $f(n,t.toTimestamp())}function Ji(n){return Kt(!!n,49232),bt.fromTimestamp((function(e){const r=Os(e);return new se(r.seconds,r.nanos)})(n))}function ov(n,t){return Xg(n,t).canonicalString()}function Xg(n,t){const e=(function(a){return new ne(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function J1(n){const t=ne.fromString(n);return Kt(rR(t),10190,{key:t.toString()}),t}function Qg(n,t){return ov(n.databaseId,t.path)}function ig(n,t){const e=J1(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(eR(e))}function tR(n,t){return ov(n.databaseId,t)}function WN(n){const t=J1(n);return t.length===4?ne.emptyPath():eR(t)}function $g(n){return new ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eR(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JS(n,t,e){return{name:Qg(n,t),fields:e.value.mapValue.fields}}function XN(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Tt(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(m){const y=m.code===void 0?tt.UNKNOWN:X1(m.code);return new ct(y,m.message||"")})(c);e=new $1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ig(n,r.document.name),l=Ji(r.document.updateTime),c=r.document.createTime?Ji(r.document.createTime):bt.min(),f=new Sn({mapValue:{fields:r.document.fields}}),p=on.newFoundDocument(a,l,c,f),m=r.targetIds||[],y=r.removedTargetIds||[];e=new Mf(m,y,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ig(n,r.document),l=r.readTime?Ji(r.readTime):bt.min(),c=on.newNoDocument(a,l),f=r.removedTargetIds||[];e=new Mf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ig(n,r.document),l=r.removedTargetIds||[];e=new Mf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new UN(a,l),f=r.targetId;e=new Q1(f,c)}}return e}function QN(n,t){let e;if(t instanceof Sc)e={update:JS(n,t.key,t.value)};else if(t instanceof W1)e={delete:Qg(n,t.key)};else if(t instanceof Gs)e={update:JS(n,t.key,t.data),updateMask:sk(t.fieldMask)};else{if(!(t instanceof NN))return Tt(16599,{Vt:t.type});e={verify:Qg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof sc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:YN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(n,t.precondition)),e}function $N(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((e=>(function(a,l){let c=a.updateTime?Ji(a.updateTime):Ji(l);return c.isEqual(bt.min())&&(c=Ji(l)),new PN(c,a.transformResults||[])})(e,t)))):[]}function ZN(n,t){return{documents:[tR(n,t.path)]}}function JN(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=tR(n,a);const l=(function(m){if(m.length!==0)return iR(Ti.create(m,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Fo(E.field),direction:nk(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=Wg(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function tk(n){let t=WN(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){Kt(r===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=nR(v);return E instanceof Ti&&M1(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((E=>(function(D){return new rc(Ho(D.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let f=null;e.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,Ed(E)?null:E})(e.limit));let p=null;e.startAt&&(p=(function(v){const E=!!v.before,A=v.values||[];return new Xf(A,E)})(e.startAt));let m=null;return e.endAt&&(m=(function(v){const E=!v.before,A=v.values||[];return new Xf(A,E)})(e.endAt)),vN(t,a,c,l,f,"F",p,m)}function ek(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function nR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Ho(e.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(e.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(e.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(e.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Oe.create(Ho(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ti.create(e.compositeFilter.filters.map((r=>nR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function nk(n){return HN[n]}function ik(n){return qN[n]}function rk(n){return GN[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return en.fromServerFormat(n.fieldPath)}function iR(n){return n instanceof Oe?(function(e){if(e.op==="=="){if(jS(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NAN"}};if(zS(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jS(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NAN"}};if(zS(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(e.field),op:ik(e.op),value:e.value}}})(n):n instanceof Ti?(function(e){const r=e.getFilters().map((a=>iR(a)));return r.length===1?r[0]:{compositeFilter:{op:rk(e.op),filters:r}}})(n):Tt(54877,{filter:n})}function sk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function rR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Cs{constructor(t,e,r,a,l=bt.min(),c=bt.min(),f=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Cs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ak{constructor(t){this.yt=t}}function ok(n){const t=tk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yg(t,t.limit,"L"):t}class lk{constructor(){this.Cn=new uk}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Vs.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Vs.min())}updateCollectionGroup(t,e,r){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class uk{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new je(ne.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new je(ne.comparator)).toArray()}}const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sR=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(sR,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}const eb="LruGarbageCollector",ck=1048576;function nb([n,t],[e,r]){const a=Lt(n,e);return a===0?Lt(t,r):a}class hk{constructor(t){this.Ir=t,this.buffer=new je(nb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();nb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fk{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(eb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){gl(e)?ht(eb,"Ignoring IndexedDB error during garbage collection: ",e):await ml(e)}await this.Vr(3e5)}))}}class dk{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Td.ce);const r=new hk(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(tb)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,l,c,f,p,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(r=v,f=Date.now(),this.removeTargets(t,r,e)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((v=>(m=Date.now(),jo()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function pk(n,t){return new dk(n,t)}class mk{constructor(){this.changes=new qa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?rt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yk{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&Gu(r.mutation,a,On.empty(),se.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Ut()){const a=Ca();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((l=>{let c=ku();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ca();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Ut())))}populateOverlays(t,e,r){const a=[];return r.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{e.set(c,f)}))}))}computeViews(t,e,r,a){let l=zr();const c=qu(),f=(function(){return qu()})();return e.forEach(((p,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Gs)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Gu(y.mutation,m,y.mutation.getFieldMask(),se.now())):c.set(m.key,On.empty())})),this.recalculateAndSaveOverlays(t,l).next((p=>(p.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>f.set(m,new gk(y,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(t,e){const r=qu();let a=new fe(((c,f)=>c-f)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const f of c)f.keys().forEach((p=>{const m=e.get(p);if(m===null)return;let y=r.get(p)||On.empty();y=f.applyToLocalView(m,y),r.set(p,y);const v=(a.get(f.batchId)||Ut()).add(p);a=a.insert(f.batchId,v)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,v=j1();y.forEach((E=>{if(!l.has(E)){const A=K1(e.get(E),r.get(E));A!==null&&v.set(E,A),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return rt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):N1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):rt.resolve(Ca());let f=tc,p=l;return c.next((m=>rt.forEach(m,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,l))).next((()=>this.computeViews(t,p,m,Ut()))).next((y=>({batchId:f,changes:z1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((r=>{let a=ku();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(t,l).next((f=>rt.forEach(f,(p=>{const m=(function(v,E){return new yl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,p.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a)))).next((c=>{l.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))}));let f=ku();return c.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&Gu(y.mutation,m,On.empty(),se.now()),Ad(e,m)&&(f=f.insert(p,m))})),f}))}}class vk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:ok(a.bundledQuery),readTime:Ji(a.readTime)}})(e)),rt.resolve()}}class _k{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ca();return rt.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,l)=>{this.St(t,e,l)})),rt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),rt.resolve()}getOverlaysForCollection(t,e,r){const a=Ca(),l=e.length+1,c=new yt(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new fe(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=Ca(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=Ca(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>f.set(m,y))),!(f.size()>=a)););return rt.resolve(f)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new LN(e,r));let l=this.qr.get(e);l===void 0&&(l=Ut(),this.qr.set(e,l)),this.qr.set(e,l.add(r.key))}}class Tk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}class lv{constructor(){this.Qr=new je(Ke.$r),this.Ur=new je(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Ke(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new yt(new ne([])),r=new Ke(e,t),a=new Ke(e,t+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new ne([])),r=new Ke(e,t),a=new Ke(e,t+1);let l=Ut();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new Ke(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Lt(t.Yr,e.Yr)}static Kr(t,e){return Lt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class Ek{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ke.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kN(l,e,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Ke(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Zy:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ke(e,0),a=new Ke(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new je(Lt);return e.forEach((a=>{const l=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),rt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new Ke(new yt(l),0);let f=new je(Lt);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Yr)),!0)}),c),rt.resolve(this.ti(f))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Kt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return rt.forEach(e.mutations,(a=>{const l=new Ke(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Ke(e,0),a=this.Zr.firstAfterOrEqual(r);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Sk{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return rt.resolve(r?r.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let r=zr();return e.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),rt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=zr();const c=e.path,f=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||QO(XO(y),r)<=0||(a.has(y.key)||Ad(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,e,r,a){Tt(9500)}ii(t,e){return rt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new bk(this)}getSize(t){return rt.resolve(this.size)}}class bk extends mk{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class Ak{constructor(t){this.persistence=t,this.si=new qa((e=>ev(e)),nv),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new lv,this.targetCount=0,this.ai=al.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new al(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=e&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return rt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),rt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return rt.resolve(r)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}class aR{constructor(t,e){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new Tk,this.referenceDelegate=t(this),this.Pi=new Ak(this),this.indexManager=new lk,this.remoteDocumentCache=(function(a){return new Sk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ak(e),this.Ii=new vk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _k,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new Ek(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ht("MemoryPersistence","Starting transaction:",t);const a=new wk(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,e){return rt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class wk extends ZO{constructor(t){super(),this.currentSequenceNumber=t}}class uv{constructor(t){this.persistence=t,this.Ri=new lv,this.Vi=null}static mi(t){return new uv(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),rt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(r=>{const a=yt.fromPath(r);return this.gi(t,a).next((l=>{l||e.removeEntry(a,bt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Zf{constructor(t,e){this.persistence=t,this.pi=new qa((r=>eN(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=pk(this,e)}static mi(t,e){return new Zf(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((l=>l?rt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((f=>{f||(r++,l.removeEntry(c,bt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=If(t.data.value)),e}br(t,e,r){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return rt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class cv{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=Ut(),a=Ut();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new cv(t,e.fromCache,r,a)}}class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ck{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iM()?8:JO(un())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.ys(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,e,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Rk;return this.Ss(t,e,c).next((f=>{if(l.result=f,this.Vs)return this.bs(t,e,c,f.size)}))})).next((()=>l.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(jo()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Bo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(jo()<=kt.DEBUG&&ht("QueryEngine","Query:",Bo(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(jo()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Bo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(e))):rt.resolve())}ys(t,e){if(qS(e))return rt.resolve(null);let r=$i(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Yg(e,null,"F"),r=$i(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,r).next((p=>{const m=this.Ds(e,f);return this.Cs(e,m,c,p.readTime)?this.ys(t,Yg(e,null,"F")):this.vs(t,m,e,p)}))))})))))}ws(t,e,r,a){return qS(e)||a.isEqual(bt.min())?rt.resolve(null):this.ps.getDocuments(t,r).next((l=>{const c=this.Ds(e,l);return this.Cs(e,c,r,a)?rt.resolve(null):(jo()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(e)),this.vs(t,c,e,WO(a,tc)).next((f=>f)))}))}Ds(t,e){let r=new je(L1(t));return e.forEach(((a,l)=>{Ad(t,l)&&(r=r.add(l))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,r){return jo()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Bo(e)),this.ps.getDocumentsMatchingQuery(t,e,Vs.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const hv="LocalStore",Ik=3e8;class xk{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new fe(Lt),this.xs=new qa((l=>ev(l)),nv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function Dk(n,t,e,r){return new xk(n,t,e,r)}async function oR(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let p=Ut();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return e.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function Mk(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,y){const v=m.batch,E=v.keys();let A=rt.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(p,D))).next((O=>{const I=m.docVersions.get(D);Kt(I!==null,48541),O.version.compareTo(I)<0&&(v.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),y.addEntry(O)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(p,v)))})(e,r,t,l).next((()=>l.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let p=Ut();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function lR(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Pk(n,t){const e=wt(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const f=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;f.push(e.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(l,y.addedDocuments,v))));let A=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(nn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),a=a.insert(v,A),(function(O,I,j){return O.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Ik?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,A,y)&&f.push(e.Pi.updateTargetData(l,A))}));let p=zr(),m=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Vk(l,c,t.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!r.isEqual(bt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(l).next((v=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(y)}return rt.waitFor(f).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(e.Ms=a,l)))}function Vk(n,t,e){let r=Ut(),a=Ut();return e.forEach((l=>r=r.add(l))),t.getEntries(n,r).next((l=>{let c=zr();return e.forEach(((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):ht(hv,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function Ok(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Zy),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Nk(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((l=>l?(a=l,rt.resolve(a)):e.Pi.allocateTargetId(r).next((c=>(a=new Cs(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Zg(n,t,e){const r=wt(n),a=r.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!gl(c))throw c;ht(hv,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function ib(n,t,e){const r=wt(n);let a=bt.min(),l=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const v=wt(p),E=v.xs.get(y);return E!==void 0?rt.resolve(v.Ms.get(E)):v.Pi.getTargetData(m,y)})(r,c,$i(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?a:bt.min(),e?l:Ut()))).next((f=>(kk(r,TN(t),f),{documents:f,Qs:l})))))}function kk(n,t,e){let r=n.Os.get(t)||bt.min();e.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(t,r)}class rb{constructor(){this.activeTargetIds=RN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lk{constructor(){this.Mo=new rb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new rb,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Uk{Oo(t){}shutdown(){}}const sb="ConnectivityMonitor";class ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(sb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(sb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function Jg(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const rg="RestConnection",zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jk{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,l){const c=Jg(),f=this.zo(t,e.toUriEncodedString());ht(rg,`Sending RPC '${t}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(f),y=Ba(m);return this.Jo(t,f,p,r,y).then((v=>(ht(rg,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw nl(rg,`RPC '${t}' ${c} failed with error: `,v,"url: ",f,"request:",r),v}))}Ho(t,e,r,a,l,c){return this.Go(t,e,r,a,l)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}zo(t,e){const r=zk[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class Bk{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class Fk extends jk{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,l){const c=Jg();return new Promise(((f,p)=>{const m=new c1;m.setWithCredentials(!0),m.listenOnce(h1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cf.NO_ERROR:const v=m.getResponseJson();ht(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),f(v);break;case Cf.TIMEOUT:ht(sn,`RPC '${t}' ${c} timed out`),p(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const E=m.getStatus();if(ht(sn,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const O=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(B)>=0?B:tt.UNKNOWN})(D.status);p(new ct(O,D.message))}else p(new ct(tt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ht(sn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(sn,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,r,15)}))}T_(t,e,r){const a=Jg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=p1(),f=d1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,r),p.encodeInitMessageHeaders=!0;const y=l.join("");ht(sn,`Creating RPC '${t}' stream ${a}: ${y}`,p);const v=c.createWebChannel(y,p);this.I_(v);let E=!1,A=!1;const D=new Bk({Yo:I=>{A?ht(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,I):(E||(ht(sn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),E=!0),ht(sn,`RPC '${t}' stream ${a} sending:`,I),v.send(I))},Zo:()=>v.close()}),O=(I,j,B)=>{I.listen(j,(q=>{try{B(q)}catch(it){setTimeout((()=>{throw it}),0)}}))};return O(v,Nu.EventType.OPEN,(()=>{A||(ht(sn,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),O(v,Nu.EventType.CLOSE,(()=>{A||(A=!0,ht(sn,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(v))})),O(v,Nu.EventType.ERROR,(I=>{A||(A=!0,nl(sn,`RPC '${t}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),D.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),O(v,Nu.EventType.MESSAGE,(I=>{if(!A){const j=I.data[0];Kt(!!j,16349);const B=j,q=B?.error||B[0]?.error;if(q){ht(sn,`RPC '${t}' stream ${a} received error:`,q);const it=q.status;let st=(function(R){const x=Pe[R];if(x!==void 0)return X1(x)})(it),at=q.message;st===void 0&&(st=tt.INTERNAL,at="Unknown error status: "+it+" with message "+q.message),A=!0,D.a_(new ct(st,at)),v.close()}else ht(sn,`RPC '${t}' stream ${a} received:`,j),D.u_(j)}})),O(f,f1.STAT_EVENT,(I=>{I.stat===jg.PROXY?ht(sn,`RPC '${t}' stream ${a} detected buffering proxy`):I.stat===jg.NOPROXY&&ht(sn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function sg(){return typeof document<"u"?document:null}function Id(n){return new KN(n,!0)}class uR{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ob="PersistentStream";class cR{constructor(t,e,r,a,l,c,f,p){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uR(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(Lr(e.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(ob,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ht(ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hk extends cR{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=XN(this.serializer,t),r=(function(l){if(!("targetChange"in l))return bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?Ji(c.readTime):bt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=$g(this.serializer),e.addTarget=(function(l,c){let f;const p=c.target;if(f=Gg(p)?{documents:ZN(l,p)}:{query:JN(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Z1(l,c.resumeToken);const m=Wg(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(bt.min())>0){f.readTime=$f(l,c.snapshotVersion.toTimestamp());const m=Wg(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,t);const r=ek(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=$g(this.serializer),e.removeTarget=t,this.q_(e)}}class qk extends cR{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=$N(t.writeResults,t.commitTime),r=Ji(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=$g(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>QN(this.serializer,r)))};this.q_(e)}}class Gk{}class Kk extends Gk{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Xg(e,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())}))}Ho(t,e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(t,Xg(e,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ua="RemoteStore";class Wk{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ga(this)&&(ht(Ua,"Restarting streams for network reachability change."),await(async function(p){const m=wt(p);m.Ea.add(4),await Ac(m),m.Ra.set("Unknown"),m.Ea.delete(4),await xd(m)})(this))}))})),this.Ra=new Yk(r,a)}}async function xd(n){if(Ga(n))for(const t of n.da)await t(!0)}async function Ac(n){for(const t of n.da)await t(!1)}function hR(n,t){const e=wt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),mv(e)?pv(e):vl(e).O_()&&dv(e,t))}function fv(n,t){const e=wt(n),r=vl(e);e.Ia.delete(t),r.O_()&&fR(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ga(e)&&e.Ra.set("Unknown"))}function dv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(n).Y_(t)}function fR(n,t){n.Va.Ue(t),vl(n).Z_(t)}function pv(n){n.Va=new FN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Ra.ua()}function mv(n){return Ga(n)&&!vl(n).x_()&&n.Ia.size>0}function Ga(n){return wt(n).Ea.size===0}function dR(n){n.Va=void 0}async function Xk(n){n.Ra.set("Online")}async function Qk(n){n.Ia.forEach(((t,e)=>{dv(n,t)}))}async function $k(n,t){dR(n),mv(n)?(n.Ra.ha(t),pv(n)):n.Ra.set("Unknown")}async function Zk(n,t,e){if(n.Ra.set("Online"),t instanceof $1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,t)}catch(r){ht(Ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jf(n,r)}else if(t instanceof Mf?n.Va.Ze(t):t instanceof Q1?n.Va.st(t):n.Va.tt(t),!e.isEqual(bt.min()))try{const r=await lR(n.localStore);e.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),fR(l,p);const v=new Cs(y.target,p,m,y.sequenceNumber);dv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(r){ht(Ua,"Failed to raise snapshot:",r),await Jf(n,r)}}async function Jf(n,t,e){if(!gl(t))throw t;n.Ea.add(1),await Ac(n),n.Ra.set("Offline"),e||(e=()=>lR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Ua,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await xd(n)}))}function pR(n,t){return t().catch((e=>Jf(n,e,t)))}async function Dd(n){const t=wt(n),e=Ls(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zy;for(;Jk(t);)try{const a=await Ok(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,tL(t,a)}catch(a){await Jf(t,a)}mR(t)&&gR(t)}function Jk(n){return Ga(n)&&n.Ta.length<10}function tL(n,t){n.Ta.push(t);const e=Ls(n);e.O_()&&e.X_&&e.ea(t.mutations)}function mR(n){return Ga(n)&&!Ls(n).x_()&&n.Ta.length>0}function gR(n){Ls(n).start()}async function eL(n){Ls(n).ra()}async function nL(n){const t=Ls(n);for(const e of n.Ta)t.ea(e.mutations)}async function iL(n,t,e){const r=n.Ta.shift(),a=sv.from(r,t,e);await pR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Dd(n)}async function rL(n,t){t&&Ls(n).X_&&await(async function(r,a){if((function(c){return zN(c)&&c!==tt.ABORTED})(a.code)){const l=r.Ta.shift();Ls(r).B_(),await pR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Dd(r)}})(n,t),mR(n)&&gR(n)}async function lb(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),ht(Ua,"RemoteStore received new credentials");const r=Ga(e);e.Ea.add(3),await Ac(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await xd(e)}async function sL(n,t){const e=wt(n);t?(e.Ea.delete(2),await xd(e)):t||(e.Ea.add(2),await Ac(e),e.Ra.set("Unknown"))}function vl(n){return n.ma||(n.ma=(function(e,r,a){const l=wt(e);return l.sa(),new Hk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Xk.bind(null,n),t_:Qk.bind(null,n),r_:$k.bind(null,n),H_:Zk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),mv(n)?pv(n):n.Ra.set("Unknown")):(await n.ma.stop(),dR(n))}))),n.ma}function Ls(n){return n.fa||(n.fa=(function(e,r,a){const l=wt(e);return l.sa(),new qk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:eL.bind(null,n),r_:rL.bind(null,n),ta:nL.bind(null,n),na:iL.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Dd(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(Ua,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class gv{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,f=new gv(t,e,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(n,t){if(Lr("AsyncQueue",`${t}: ${n}`),gl(n))return new ct(tt.UNAVAILABLE,`${t}: ${n}`);throw n}class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||yt.comparator(e.key,r.key):(e,r)=>yt.comparator(e.key,r.key),this.keyedMap=ku(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class ub{constructor(){this.ga=new fe(yt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ol{constructor(t,e,r,a,l,c,f,p,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach((f=>{c.push({type:0,doc:f})})),new ol(t,e,Jo.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}class aL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class oL{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=wt(e),l=a.queries;a.queries=cb(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(r)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function cb(){return new qa((n=>k1(n)),bd)}async function yR(n,t){const e=wt(n);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new aL,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const f=yv(c,`Initialization of query '${Bo(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&vv(e)}async function vR(n,t){const e=wt(n),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function lL(n,t){const e=wt(n);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&vv(e)}function uL(n,t,e){const r=wt(n),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);r.queries.delete(t)}function vv(n){n.Ca.forEach((t=>{t.next()}))}var ty,hb;(hb=ty||(ty={})).Ma="default",hb.Cache="cache";class _R{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new ol(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ty.Cache}}class TR{constructor(t){this.key=t}}class ER{constructor(t){this.key=t}}class cL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=L1(t),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new ub,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),A=Ad(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;E&&A?E.data.isEqual(A.data)?D!==O&&(r.track({type:3,doc:A}),I=!0):this.su(E,A)||(r.track({type:2,doc:A}),I=!0,(p&&this.eu(A,p)>0||m&&this.eu(A,m)<0)&&(f=!0)):!E&&A?(r.track({type:0,doc:A}),I=!0):E&&!A&&(r.track({type:1,doc:E}),I=!0,(p||m)&&(f=!0)),I&&(A?(c=c.add(A),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(A,D){const O=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:I})}};return O(A)-O(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const f=e&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new ol(this.query,t.tu,l,c,t.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new ER(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new TR(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _v="SyncEngine";class hL{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class fL{constructor(t){this.key=t,this.hu=!1}}class dL{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((f=>k1(f)),bd),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new lv,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pL(n,t,e=!0){const r=CR(n);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await SR(r,t,e,!0),a}async function mL(n,t){const e=CR(n);await SR(e,t,!0,!1)}async function SR(n,t,e,r){const a=await Nk(n.localStore,$i(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let f;return r&&(f=await gL(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&hR(n.remoteStore,a),f}async function gL(n,t,e,r,a){n.pu=(v,E,A)=>(async function(O,I,j,B){let q=I.view.ru(j);q.Cs&&(q=await ib(O.localStore,I.query,!1).then((({documents:C})=>I.view.ru(C,q))));const it=B&&B.targetChanges.get(I.targetId),st=B&&B.targetMismatches.get(I.targetId)!=null,at=I.view.applyChanges(q,O.isPrimaryClient,it,st);return db(O,I.targetId,at.au),at.snapshot})(n,v,E,A);const l=await ib(n.localStore,t,!0),c=new cL(t,l.Qs),f=c.ru(l.documents),p=bc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);db(n,e,m.au);const y=new hL(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function yL(n,t,e){const r=wt(n),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!bd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Zg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&fv(r.remoteStore,a.targetId),ey(r,a.targetId)})).catch(ml)):(ey(r,a.targetId),await Zg(r.localStore,a.targetId,!0))}async function vL(n,t){const e=wt(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),fv(e.remoteStore,r.targetId))}async function _L(n,t,e){const r=RL(n);try{const a=await(function(c,f){const p=wt(c),m=se.now(),y=f.reduce(((A,D)=>A.add(D.key)),Ut());let v,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=zr(),O=Ut();return p.Ns.getEntries(A,y).next((I=>{D=I,D.forEach(((j,B)=>{B.isValidDocument()||(O=O.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((I=>{v=I;const j=[];for(const B of f){const q=ON(B,v.get(B.key).overlayedDocument);q!=null&&j.push(new Gs(B.key,q,I1(q.value.mapValue),Zi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,m,j,f)})).next((I=>{E=I;const j=I.applyToLocalDocumentSet(v,O);return p.documentOverlayCache.saveOverlays(A,I.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:z1(v)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new fe(Lt)),m=m.insert(f,p),c.Vu[c.currentUser.toKey()]=m})(r,a.batchId,e),await wc(r,a.changes),await Dd(r.remoteStore)}catch(a){const l=yv(a,"Failed to persist write");e.reject(l)}}async function bR(n,t){const e=wt(n);try{const r=await Pk(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Au.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Kt(c.hu,14607):a.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await wc(e,r,t)}catch(r){await ml(r)}}function fb(n,t,e){const r=wt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const p=wt(c);p.onlineState=f;let m=!1;p.queries.forEach(((y,v)=>{for(const E of v.Sa)E.va(f)&&(m=!0)})),m&&vv(p)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TL(n,t,e){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new fe(yt.comparator);c=c.insert(l,on.newNoDocument(l,bt.min()));const f=Ut().add(l),p=new Cd(bt.min(),new Map,new fe(Lt),c,f);await bR(r,p),r.du=r.du.remove(l),r.Au.delete(t),Tv(r)}else await Zg(r.localStore,t,!1).then((()=>ey(r,t,e))).catch(ml)}async function EL(n,t){const e=wt(n),r=t.batch.batchId;try{const a=await Mk(e.localStore,t);wR(e,r,null),AR(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await wc(e,a)}catch(a){await ml(a)}}async function SL(n,t,e){const r=wt(n);try{const a=await(function(c,f){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next((v=>(Kt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(r.localStore,t);wR(r,t,e),AR(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await wc(r,a)}catch(a){await ml(a)}}function AR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function wR(n,t,e){const r=wt(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function ey(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||RR(n,r)}))}function RR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(fv(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Tv(n))}function db(n,t,e){for(const r of e)r instanceof TR?(n.Ru.addReference(r.key,t),bL(n,r)):r instanceof ER?(ht(_v,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||RR(n,r.key)):Tt(19791,{wu:r})}function bL(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(ht(_v,"New document in limbo: "+e),n.Eu.add(r),Tv(n))}function Tv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ne.fromString(t)),r=n.fu.next();n.Au.set(r,new fL(e)),n.du=n.du.insert(e,r),hR(n.remoteStore,new Cs($i(iv(e.path)),r,"TargetPurposeLimboResolution",Td.ce))}}async function wc(n,t,e){const r=wt(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,p)=>{c.push(r.pu(p,t,e).then((m=>{if((m||e)&&r.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){a.push(m);const y=cv.As(p.targetId,m);l.push(y)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(p,m){const y=wt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>rt.forEach(m,(E=>rt.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>rt.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!gl(v))throw v;ht(hv,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const A=y.Ms.get(E),D=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,O)}}})(r.localStore,l))}async function AL(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){ht(_v,"User change. New user:",t.toKey());const r=await oR(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ct(tt.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wc(e,r.Ls)}}function wL(n,t){const e=wt(n),r=e.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let a=Ut();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const f=e.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function CR(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TL.bind(null,t),t.Pu.H_=lL.bind(null,t.eventManager),t.Pu.yu=uL.bind(null,t.eventManager),t}function RL(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SL.bind(null,t),t}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Id(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Dk(this.persistence,new Ck,t.initialUser,this.serializer)}Cu(t){return new aR(uv.mi,this.serializer)}Du(t){return new Lk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class CL extends td{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof Zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fk(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new aR((r=>Zf.mi(r,e)),this.serializer)}}class ny{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await sL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oL})()}createDatastore(t){const e=Id(t.databaseInfo.databaseId),r=(function(l){return new Fk(l)})(t.databaseInfo);return(function(l,c,f,p){return new Kk(l,c,f,p)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,l,c,f){return new Wk(r,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>fb(this.syncEngine,e,0)),(function(){return ab.v()?new ab:new Uk})())}createSyncEngine(t,e){return(function(a,l,c,f,p,m,y){const v=new dL(a,l,c,f,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=wt(e);ht(Ua,"RemoteStore shutting down."),r.Ea.add(5),await Ac(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ny.provider={build:()=>new ny};class IR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Us="FirestoreClient";class IL{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=$y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ht(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ht(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=yv(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ag(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Us,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await oR(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function pb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await xL(n);ht(Us,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>lb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>lb(t.remoteStore,a))),n._onlineComponents=t}async function xL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Us,"Using user provided OfflineComponentProvider");try{await ag(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;nl("Error using user provided cache. Falling back to memory cache: "+e),await ag(n,new td)}}else ht(Us,"Using default OfflineComponentProvider"),await ag(n,new CL(void 0));return n._offlineComponents}async function xR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Us,"Using user provided OnlineComponentProvider"),await pb(n,n._uninitializedComponentsProvider._online)):(ht(Us,"Using default OnlineComponentProvider"),await pb(n,new ny))),n._onlineComponents}function DL(n){return xR(n).then((t=>t.syncEngine))}async function DR(n){const t=await xR(n),e=t.eventManager;return e.onListen=pL.bind(null,t.syncEngine),e.onUnlisten=yL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=mL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=vL.bind(null,t.syncEngine),e}function ML(n,t,e={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const y=new IR({next:E=>{y.Nu(),c.enqueueAndForget((()=>vR(l,v)));const A=E.docs.has(f);!A&&E.fromCache?m.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&p&&p.source==="server"?m.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new _R(iv(f.path),y,{includeMetadataChanges:!0,qa:!0});return yR(l,v)})(await DR(n),n.asyncQueue,t,e,r))),r.promise}function PL(n,t,e={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,m){const y=new IR({next:E=>{y.Nu(),c.enqueueAndForget((()=>vR(l,v))),E.fromCache&&p.source==="server"?m.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new _R(f,y,{includeMetadataChanges:!0,qa:!0});return yR(l,v)})(await DR(n),n.asyncQueue,t,e,r))),r.promise}function MR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const mb=new Map;const PR="firestore.googleapis.com",gb=!0;class yb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PR,this.ssl=gb}else this.host=t.host,this.ssl=t.ssl??gb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ck)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Md{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LO;switch(r.type){case"firstParty":return new BO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=mb.get(e);r&&(ht("ComponentProvider","Removing Datastore"),mb.delete(e),r.terminate())})(this),Promise.resolve()}}function VL(n,t,e,r={}){n=Ur(n,Md);const a=Ba(t),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${t}:${e}`;a&&(Ly(`https://${f}`),Uy("Firestore",!0)),l.host!==PR&&l.host!==f&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:r};if(!Va(p,c)&&(n._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=an.MOCK_USER;else{m=Sw(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(v)}n._authCredentials=new UO(new g1(m,y))}}class Ka{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ka(this.firestore,t,this._query)}}class Se{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Ec(e,Se._jsonSchema))return new Se(t,r||null,new yt(ne.fromString(e.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:Ne("string",Se._jsonSchemaVersion),referencePath:Ne("string")};class Ms extends Ka{constructor(t,e,r){super(t,e,iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new yt(t))}withConverter(t){return new Ms(this.firestore,t,this._path)}}function Ev(n,t,...e){if(n=Be(n),y1("collection","path",t),n instanceof Md){const r=ne.fromString(t,...e);return DS(r),new Ms(n,null,r)}{if(!(n instanceof Se||n instanceof Ms))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return DS(r),new Ms(n.firestore,null,r)}}function sr(n,t,...e){if(n=Be(n),arguments.length===1&&(t=$y.newId()),y1("doc","path",t),n instanceof Md){const r=ne.fromString(t,...e);return xS(r),new Se(n,null,new yt(r))}{if(!(n instanceof Se||n instanceof Ms))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return xS(r),new Se(n.firestore,n instanceof Ms?n.converter:null,new yt(r))}}const vb="AsyncQueue";class _b{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uR(this,"async_queue_retry"),this._c=()=>{const r=sg();r&&ht(vb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=sg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=sg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!gl(t))throw t;ht(vb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",Tb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=gv.createAndSchedule(this,t,e,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:Tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Tb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Rc extends Md{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new _b,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _b(t),this._firestoreClient=void 0,await t}}}function OL(n,t){const e=typeof n=="object"?n:By(),r=typeof n=="string"?n:Yf,a=md(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=_w("firestore");l&&VL(a,...l)}return a}function Sv(n){if(n._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NL(n),n._firestoreClient}function NL(n){const t=n._freezeSettings(),e=(function(a,l,c,f){return new rN(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,MR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new IL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(nn.fromBase64String(t))}catch(e){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ec(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ne("string",Zn._jsonSchemaVersion),bytes:Ne("string")};class Pd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vd{constructor(t){this._methodName=t}}class tr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(t){if(Ec(t,tr._jsonSchema))return new tr(t.latitude,t.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:Ne("string",tr._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class er{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ec(t,er._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new er(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:Ne("string",er._jsonSchemaVersion),vectorValues:Ne("object")};const kL=/^__.*__$/;class LL{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sc(t,this.data,e,this.fieldTransforms)}}class VR{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function OR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:n})}}class bv{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ed(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(OR(this.Ac)&&kL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class UL{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Id(t)}Cc(t,e,r,a=!1){return new bv({Ac:t,methodName:e,Dc:r,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(n){const t=n._freezeSettings(),e=Id(n._databaseId);return new UL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zL(n,t,e,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,t,e,a);Rv("Data must be an object, but it was:",c,r);const f=NR(r,c);let p,m;if(l.merge)p=new On(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=iy(t,v,e);if(!c.contains(E))throw new ct(tt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);LR(y,E)||y.push(E)}p=new On(y),m=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=c.fieldTransforms;return new LL(new Sn(f),p,m)}class Od extends Vd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Od}}class wv extends Vd{_toFieldTransform(t){return new DN(t.path,new sc)}isEqual(t){return t instanceof wv}}function jL(n,t,e,r){const a=n.Cc(1,t,e);Rv("Data must be an object, but it was:",a,r);const l=[],c=Sn.empty();qs(r,((p,m)=>{const y=Cv(t,p,e);m=Be(m);const v=a.yc(y);if(m instanceof Od)l.push(y);else{const E=Cc(m,v);E!=null&&(l.push(y),c.set(y,E))}}));const f=new On(l);return new VR(c,f,a.fieldTransforms)}function BL(n,t,e,r,a,l){const c=n.Cc(1,t,e),f=[iy(t,r,e)],p=[a];if(l.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(iy(t,l[E])),p.push(l[E+1]);const m=[],y=Sn.empty();for(let E=f.length-1;E>=0;--E)if(!LR(m,f[E])){const A=f[E];let D=p[E];D=Be(D);const O=c.yc(A);if(D instanceof Od)m.push(A);else{const I=Cc(D,O);I!=null&&(m.push(A),y.set(A,I))}}const v=new On(m);return new VR(y,v,c.fieldTransforms)}function FL(n,t,e,r=!1){return Cc(e,n.Cc(r?4:3,t))}function Cc(n,t){if(kR(n=Be(n)))return Rv("Unsupported field value:",t,n),NR(n,t);if(n instanceof Vd)return(function(r,a){if(!OR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let p=Cc(f,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,t)}return(function(r,a){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=se.fromDate(r);return{timestampValue:$f(a.serializer,l)}}if(r instanceof se){const l=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(a.serializer,l)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:Z1(a.serializer,r._byteString)};if(r instanceof Se){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ov(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof er)return(function(c,f){return{mapValue:{fields:{[R1]:{stringValue:C1},[Wf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return rv(f.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${_d(r)}`)})(n,t)}function NR(n,t){const e={};return T1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(n,((r,a)=>{const l=Cc(a,t.mc(r));l!=null&&(e[r]=l)})),{mapValue:{fields:e}}}function kR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof se||n instanceof tr||n instanceof Zn||n instanceof Se||n instanceof Vd||n instanceof er)}function Rv(n,t,e){if(!kR(e)||!v1(e)){const r=_d(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function iy(n,t,e){if((t=Be(t))instanceof Pd)return t._internalPath;if(typeof t=="string")return Cv(n,t);throw ed("Field path arguments must be of type string or ",n,!1,void 0,e)}const HL=new RegExp("[~\\*/\\[\\]]");function Cv(n,t,e){if(t.search(HL)>=0)throw ed(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pd(...t.split("."))._internalPath}catch{throw ed(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ed(n,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new ct(tt.INVALID_ARGUMENT,f+n+p)}function LR(n,t){return n.some((e=>e.isEqual(t)))}class UR{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Nd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class qL extends UR{data(){return super.data()}}function Nd(n,t){return typeof t=="string"?Cv(n,t):t instanceof Pd?t._internalPath:t._delegate._internalPath}function GL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class zR extends Iv{}function jR(n,t,...e){let r=[];t instanceof Iv&&r.push(t),r=r.concat(e),(function(l){const c=l.filter((p=>p instanceof xv)).length,f=l.filter((p=>p instanceof kd)).length;if(c>1||c>0&&f>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class kd extends zR{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new kd(t,e,r)}_apply(t){const e=this._parse(t);return FR(t._query,e),new Ka(t.firestore,t.converter,Kg(t._query,e))}_parse(t){const e=Av(t.firestore);return(function(l,c,f,p,m,y,v){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){bb(v,y);const D=[];for(const O of v)D.push(Sb(p,l,O));E={arrayValue:{values:D}}}else E=Sb(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||bb(v,y),E=FL(f,c,v,y==="in"||y==="not-in");return Oe.create(m,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Eb(n,t,e){const r=t,a=Nd("where",n);return kd._create(a,r,e)}class xv extends Iv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xv(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const p of f)FR(c,p),c=Kg(c,p)})(t._query,e),new Ka(t.firestore,t.converter,Kg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dv extends zR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Dv(t,e)}_apply(t){const e=(function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(l,c)})(t._query,this._field,this._direction);return new Ka(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new yl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function BR(n,t="asc"){const e=t,r=Nd("orderBy",n);return Dv._create(r,e)}function Sb(n,t,e){if(typeof(e=Be(e))=="string"){if(e==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N1(t)&&e.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ne.fromString(e));if(!yt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return US(n,new yt(r))}if(e instanceof Se)return US(n,e._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(e)}.`)}function bb(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FR(n,t){const e=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class KL{convertValue(t,e="none"){switch(ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ns(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return qs(t,((a,l)=>{r[a]=this.convertValue(l,e)})),r}convertVectorValue(t){const e=t.fields?.[Wf].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new er(e)}convertGeoPoint(t){return new tr(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Sd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(ec(t));default:return null}}convertTimestamp(t){const e=Os(t);return new se(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ne.fromString(t);Kt(rR(r),9688,{name:t});const a=new nc(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(e)||Lr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function YL(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Uu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends UR{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Nd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ne("string",Da._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Pf extends Da{data(t={}){return super.data(t)}}class tl{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Uu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Pf(this._firestore,this._userDataWriter,r.key,r,new Uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const p=new Pf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Pf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Uu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:WL(f.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function WL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}function Ya(n){n=Ur(n,Se);const t=Ur(n.firestore,Rc);return ML(Sv(t),n._key).then((e=>QL(t,n,e)))}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:Ne("string",tl._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class HR extends KL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,e)}}function Mv(n){n=Ur(n,Ka);const t=Ur(n.firestore,Rc),e=Sv(t),r=new HR(t);return GL(n._query),PL(e,n._query).then((a=>new tl(t,r,n,a)))}function nd(n,t,e){n=Ur(n,Se);const r=Ur(n.firestore,Rc),a=YL(n.converter,t,e);return qR(r,[zL(Av(r),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Zi.none())])}function XL(n,t,e,...r){n=Ur(n,Se);const a=Ur(n.firestore,Rc),l=Av(a);let c;return c=typeof(t=Be(t))=="string"||t instanceof Pd?BL(l,"updateDoc",n._key,t,e,r):jL(l,"updateDoc",n._key,t),qR(a,[c.toMutation(n._key,Zi.exists(!0))])}function qR(n,t){return(function(r,a){const l=new Vr;return r.asyncQueue.enqueueAndForget((async()=>_L(await DL(r),a,l))),l.promise})(Sv(n),t)}function QL(n,t,e){const r=e.docs.get(t._key),a=new HR(n);return new Da(n,a,t._key,r,new Uu(e.hasPendingWrites,e.fromCache),t.converter)}function id(){return new wv("serverTimestamp")}(function(t,e=!0){(function(a){pl=a})(Fa),Oa(new Ps("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Rc(new zO(r.getProvider("auth-internal")),new FO(c,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(m.options.projectId,y)})(c,a),c);return l={useFetchStreams:e,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Wi(wS,RS,t),Wi(wS,RS,"esm2020")})();const GR="firebasestorage.googleapis.com",$L="storageBucket",ZL=120*1e3,JL=600*1e3;class lr extends or{constructor(t,e,r=0){super(og(t),`Firebase Storage: ${e} (${og(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return og(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function og(n){return"storage/"+n}function t4(){const n="An unknown error occurred, please check the error payload for server response.";return new lr(ar.UNKNOWN,n)}function e4(){return new lr(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n4(){return new lr(ar.CANCELED,"User canceled the upload/download.")}function i4(n){return new lr(ar.INVALID_URL,"Invalid URL '"+n+"'.")}function r4(n){return new lr(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ab(n){return new lr(ar.INVALID_ARGUMENT,n)}function KR(){return new lr(ar.APP_DELETED,"The Firebase app was deleted.")}function s4(n){return new lr(ar.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class vi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=vi.makeFromUrl(t,e)}catch{return new vi(t,"")}if(r.path==="")return r;throw r4(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(it){it.path_=decodeURIComponent(it.path)}const y="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${y}/b/${a}/o${E}`,"i"),D={bucket:1,path:3},O=e===GR?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",j=new RegExp(`^https?://${O}/${a}/${I}`,"i"),q=[{regex:f,indices:p,postModify:l},{regex:A,indices:D,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let it=0;it<q.length;it++){const st=q[it],at=st.regex.exec(t);if(at){const C=at[st.indices.bucket];let R=at[st.indices.path];R||(R=""),r=new vi(C,R),st.postModify(r);break}}if(r==null)throw i4(t);return r}}class a4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function o4(n,t,e){let r=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function y(...I){m||(m=!0,t.apply(null,I))}function v(I){a=setTimeout(()=>{a=null,n(A,p())},I)}function E(){l&&clearTimeout(l)}function A(I,...j){if(m){E();return}if(I){E(),y.call(null,I,...j);return}if(p()||c){E(),y.call(null,I,...j);return}r<64&&(r*=2);let q;f===1?(f=2,q=0):q=(r+Math.random())*1e3,v(q)}let D=!1;function O(I){D||(D=!0,E(),!m&&(a!==null?(I||(f=2),clearTimeout(a),v(0)):I||(f=1)))}return v(0),l=setTimeout(()=>{c=!0,O(!0)},e),O}function l4(n){n(!1)}function u4(n){return n!==void 0}function wb(n,t,e,r){if(r<t)throw Ab(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Ab(`Invalid value for '${n}'. Expected ${e} or less.`)}function c4(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const a=t(r)+"="+t(n[r]);e=e+a+"&"}return e=e.slice(0,-1),e}var rd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rd||(rd={}));function h4(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||a||l}class f4{constructor(t,e,r,a,l,c,f,p,m,y,v,E=!0,A=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new mf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===rd.NO_ERROR,p=l.getStatus();if(!f||h4(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===rd.ABORT;r(!1,new mf(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new mf(m,l))})},e=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());u4(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=t4();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?KR():n4();c(p)}else{const p=e4();c(p)}};this.canceled_?e(!1,new mf(!1,null,!0)):this.backoffId_=o4(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&l4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mf{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function d4(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function p4(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function m4(n,t){t&&(n["X-Firebase-GMPID"]=t)}function g4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function y4(n,t,e,r,a,l,c=!0,f=!1){const p=c4(n.urlParams),m=n.url+p,y=Object.assign({},n.headers);return m4(y,t),d4(y,e),p4(y,l),g4(y,r),new f4(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function v4(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function _4(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}class sd{constructor(t,e){this._service=t,e instanceof vi?this._location=e:this._location=vi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new sd(t,e)}get root(){const t=new vi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _4(this._location.path)}get storage(){return this._service}get parent(){const t=v4(this._location.path);if(t===null)return null;const e=new vi(this._location.bucket,t);return new sd(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw s4(t)}}function Rb(n,t){const e=t?.[$L];return e==null?null:vi.makeFromBucketSpec(e,n)}function T4(n,t,e,r={}){n.host=`${t}:${e}`;const a=Ba(t);a&&(Ly(`https://${n.host}/b`),Uy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:Sw(l,n.app.options.projectId))}class E4{constructor(t,e,r,a,l,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=GR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZL,this._maxUploadRetryTime=JL,this._requests=new Set,a!=null?this._bucket=vi.makeFromBucketSpec(a,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,t):this._bucket=Rb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sd(this,t)}_makeRequest(t,e,r,a,l=!0){if(this._deleted)return new a4(KR());{const c=y4(t,this._appId,r,a,e,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,a).getPromise()}}const Cb="@firebase/storage",Ib="0.14.0";const YR="storage";function S4(n=By(),t){n=Be(n);const r=md(n,YR).getImmediate({identifier:t}),a=_w("storage");return a&&b4(r,...a),r}function b4(n,t,e,r={}){T4(n,t,e,r)}function A4(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new E4(e,r,a,t,Fa)}function w4(){Oa(new Ps(YR,A4,"PUBLIC").setMultipleInstances(!0)),Wi(Cb,Ib,""),Wi(Cb,Ib,"esm2020")}w4();const R4={apiKey:"AIzaSyARsav9m6Xv9H-XPPKnX8DNFwhZesRxQqE",authDomain:"elearning-english.firebaseapp.com",projectId:"elearning-english",storageBucket:"elearning-english.appspot.com",messagingSenderId:"307108036106",appId:"1:307108036106:web:5c8a2b0bbdc7a084f7e9f3"},Pv=ww(R4),Yi=VO(Pv),kn=OL(Pv);S4(Pv);function C4(){const[n,t]=M.useState(""),[e,r]=M.useState(""),a=ja(),l=async c=>{c.preventDefault();try{const p=(await Zw(Yi,n,e)).user,m=await Ya(sr(kn,"students",p.uid));if(!m.exists())return alert("Akses ditolak"),a("/home");const y=m.data().role;a(y==="admin"?"/admin":"/home")}catch(f){alert("Login gagal"),console.error(f)}};return z.jsxs("div",{style:Ir.wrapper,children:[z.jsx("h1",{style:Ir.mainTitle,children:"Speaking English with Bahrul"}),z.jsxs("form",{onSubmit:l,style:Ir.card,children:[z.jsx("p",{style:Ir.subtitle,children:"Silakan login untuk melanjutkan"}),z.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:c=>t(c.target.value),required:!0,style:Ir.input}),z.jsx("input",{type:"password",placeholder:"Password",value:e,onChange:c=>r(c.target.value),required:!0,style:Ir.input}),z.jsx("button",{type:"submit",style:Ir.loginButton,children:"Login"}),z.jsx("div",{style:Ir.divider,children:"atau"}),z.jsx("button",{type:"button",onClick:()=>a("/register"),style:Ir.registerButton,children:"Register"})]})]})}const Ir={wrapper:{minHeight:"100vh",padding:"24px 16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #1e40af)"},mainTitle:{fontSize:"clamp(22px, 5vw, 36px)",fontWeight:900,color:"#fff",textAlign:"center",marginBottom:24,maxWidth:500},card:{width:"100%",maxWidth:400,padding:24,borderRadius:16,backgroundColor:"#fff",boxShadow:"0 20px 40px rgba(0,0,0,0.18)",display:"flex",flexDirection:"column"},subtitle:{textAlign:"center",fontSize:14,color:"#64748b",marginBottom:20},input:{marginBottom:14,padding:"12px 14px",fontSize:14,borderRadius:8,border:"1px solid #cbd5f5",outline:"none",width:"100%"},loginButton:{marginTop:6,padding:"12px",fontSize:15,fontWeight:"bold",borderRadius:8,border:"none",cursor:"pointer",backgroundColor:"#facc15",color:"#1e293b"},divider:{margin:"18px 0",textAlign:"center",fontSize:13,color:"#94a3b8"},registerButton:{padding:"10px",fontSize:14,fontWeight:"bold",borderRadius:8,border:"1px solid #2563eb",backgroundColor:"#fff",color:"#2563eb",cursor:"pointer"}},WR=M.createContext(null);function I4({children:n}){const[t,e]=M.useState(null),[r,a]=M.useState(!0);M.useEffect(()=>EV(Yi,m=>{e(m),a(!1)}),[]);async function l(p,m){return Zw(Yi,p,m)}async function c(p,m){return vV(Yi,p,m)}async function f(){return SV(Yi)}return z.jsx(WR.Provider,{value:{user:t,loading:r,login:l,register:c,logout:f},children:n})}function Ld(){return M.useContext(WR)}function x4(){const n=ja(),{register:t}=Ld(),[e,r]=M.useState(""),[a,l]=M.useState(""),[c,f]=M.useState(""),[p,m]=M.useState(!1);async function y(v){if(v.preventDefault(),f(""),!e||!a){f("Email dan password wajib diisi");return}if(a.length<6){f("Password minimal 6 karakter");return}try{m(!0),await t(e,a),n("/home")}catch(E){f("Registrasi gagal"),console.error(E)}finally{m(!1)}}return z.jsxs("div",{style:qi.wrapper,children:[z.jsx("h1",{style:qi.mainTitle,children:"Speaking English with Bahrul"}),z.jsxs("form",{onSubmit:y,style:qi.card,children:[z.jsx("p",{style:qi.subtitle,children:"Buat akun baru untuk mulai belajar"}),z.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:v=>r(v.target.value),style:qi.input}),z.jsx("input",{type:"password",placeholder:"Password (min. 6 karakter)",value:a,onChange:v=>l(v.target.value),style:qi.input}),c&&z.jsx("p",{style:qi.error,children:c}),z.jsx("button",{type:"submit",style:qi.registerButton,disabled:p,children:p?"Mendaftarkan...":"Register"}),z.jsxs("p",{style:qi.footerText,children:["Sudah punya akun?"," ",z.jsx("span",{onClick:()=>n("/login"),style:qi.link,children:"Login"})]})]})]})}const qi={wrapper:{minHeight:"100vh",padding:"24px 16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #2563eb, #1e40af)",boxSizing:"border-box"},mainTitle:{fontSize:"clamp(24px, 5vw, 36px)",fontWeight:900,color:"#ffffff",textAlign:"center",marginBottom:24,lineHeight:1.2},card:{width:"100%",maxWidth:380,padding:28,borderRadius:16,backgroundColor:"#ffffff",boxShadow:"0 20px 40px rgba(0,0,0,0.18)",display:"flex",flexDirection:"column",boxSizing:"border-box"},subtitle:{textAlign:"center",fontSize:14,color:"#64748b",marginBottom:24},input:{width:"100%",marginBottom:14,padding:"12px 14px",fontSize:14,borderRadius:8,border:"1px solid #cbd5f5",outline:"none",boxSizing:"border-box"},registerButton:{marginTop:8,padding:"12px",fontSize:15,fontWeight:"bold",borderRadius:8,border:"none",cursor:"pointer",backgroundColor:"#facc15",color:"#1e293b"},error:{color:"#dc2626",fontSize:13,marginBottom:10,textAlign:"center"},footerText:{marginTop:18,fontSize:13,textAlign:"center",color:"#475569"},link:{color:"#2563eb",fontWeight:"bold",cursor:"pointer"}};function _l(){const n=ja(),{user:t,logout:e}=Ld(),[r,a]=M.useState(""),[l,c]=M.useState(null),[f,p]=M.useState(window.innerWidth<640);if(M.useEffect(()=>{if(!t)return;(async()=>{const O=sr(kn,"students",t.uid),I=await Ya(O);I.exists()&&a(I.data().nickname||"")})()},[t]),M.useEffect(()=>{const D=()=>{p(window.innerWidth<640)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),!t)return null;async function m(){await e(),n("/login")}const y={display:"flex",flexDirection:f?"column":"row",alignItems:f?"flex-start":"center",justifyContent:"space-between",gap:12,padding:"12px 20px",backgroundColor:"#2563eb",color:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",borderRadius:"0 0 10px 10px"},v={display:"flex",flexDirection:f?"column":"row",width:f?"100%":"auto",gap:10},E={backgroundColor:"#facc15",border:"none",color:"#000",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",width:f?"100%":"auto",textAlign:"center"},A={backgroundColor:"#eab308",transform:"scale(1.05)"};return z.jsxs("nav",{style:y,children:[z.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:`Hallooo ${r||t.email}`}),z.jsx("div",{style:v,children:["Home","Profile","Logout"].map((D,O)=>{const I=D==="Logout"?m:()=>n(`/${D.toLowerCase()}`);return z.jsx("button",{onClick:I,style:{...E,...l===O?A:{}},onMouseEnter:()=>c(O),onMouseLeave:()=>c(null),children:D},D)})})]})}const Vv=M.createContext({});function Ov(n){const t=M.useRef(null);return t.current===null&&(t.current=n()),t.current}const Nv=typeof window<"u",XR=Nv?M.useLayoutEffect:M.useEffect,Ud=M.createContext(null);function kv(n,t){n.indexOf(t)===-1&&n.push(t)}function Lv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const jr=(n,t,e)=>e>t?t:e<n?n:e;let Uv=()=>{};const Br={},QR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function $R(n){return typeof n=="object"&&n!==null}const ZR=n=>/^0[^.\s]+$/u.test(n);function zv(n){let t;return()=>(t===void 0&&(t=n()),t)}const ti=n=>n,D4=(n,t)=>e=>t(n(e)),Ic=(...n)=>n.reduce(D4),lc=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class jv{constructor(){this.subscriptions=[]}add(t){return kv(this.subscriptions,t),()=>Lv(this.subscriptions,t)}notify(t,e,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=n=>n*1e3,Jn=n=>n/1e3;function JR(n,t){return t?n*(1e3/t):0}const tC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,M4=1e-7,P4=12;function V4(n,t,e,r,a){let l,c,f=0;do c=t+(e-t)/2,l=tC(c,r,a)-n,l>0?e=c:t=c;while(Math.abs(l)>M4&&++f<P4);return c}function xc(n,t,e,r){if(n===t&&e===r)return ti;const a=l=>V4(l,0,1,n,e);return l=>l===0||l===1?l:tC(a(l),t,r)}const eC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,nC=n=>t=>1-n(1-t),iC=xc(.33,1.53,.69,.99),Bv=nC(iC),rC=eC(Bv),sC=n=>(n*=2)<1?.5*Bv(n):.5*(2-Math.pow(2,-10*(n-1))),Fv=n=>1-Math.sin(Math.acos(n)),aC=nC(Fv),oC=eC(Fv),O4=xc(.42,0,1,1),N4=xc(0,0,.58,1),lC=xc(.42,0,.58,1),k4=n=>Array.isArray(n)&&typeof n[0]!="number",uC=n=>Array.isArray(n)&&typeof n[0]=="number",L4={linear:ti,easeIn:O4,easeInOut:lC,easeOut:N4,circIn:Fv,circInOut:oC,circOut:aC,backIn:Bv,backInOut:rC,backOut:iC,anticipate:sC},U4=n=>typeof n=="string",xb=n=>{if(uC(n)){Uv(n.length===4);const[t,e,r,a]=n;return xc(t,e,r,a)}else if(U4(n))return L4[n];return n},gf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z4(n,t){let e=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(m.schedule(y),n()),y(f)}const m={schedule:(y,v=!1,E=!1)=>{const D=E&&a?e:r;return v&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,r]=[r,e],e.forEach(p),e.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const j4=40;function cC(n,t){let e=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=gf.reduce((q,it)=>(q[it]=z4(l),q),{}),{setup:f,read:p,resolveKeyframes:m,preUpdate:y,update:v,preRender:E,render:A,postRender:D}=c,O=()=>{const q=Br.useManualTiming?a.timestamp:performance.now();e=!1,Br.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(q-a.timestamp,j4),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),p.process(a),m.process(a),y.process(a),v.process(a),E.process(a),A.process(a),D.process(a),a.isProcessing=!1,e&&t&&(r=!1,n(O))},I=()=>{e=!0,r=!0,a.isProcessing||n(O)};return{schedule:gf.reduce((q,it)=>{const st=c[it];return q[it]=(at,C=!1,R=!1)=>(e||I(),st.schedule(at,C,R)),q},{}),cancel:q=>{for(let it=0;it<gf.length;it++)c[gf[it]].cancel(q)},state:a,steps:c}}const{schedule:ue,cancel:zs,state:Je,steps:lg}=cC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let Vf;function B4(){Vf=void 0}const bn={now:()=>(Vf===void 0&&bn.set(Je.isProcessing||Br.useManualTiming?Je.timestamp:performance.now()),Vf),set:n=>{Vf=n,queueMicrotask(B4)}},hC=n=>t=>typeof t=="string"&&t.startsWith(n),fC=hC("--"),F4=hC("var(--"),Hv=n=>F4(n)?H4.test(n.split("/*")[0].trim()):!1,H4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uc={...Tl,transform:n=>jr(0,1,n)},yf={...Tl,default:1},Ku=n=>Math.round(n*1e5)/1e5,qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q4(n){return n==null}const G4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(n,t)=>e=>!!(typeof e=="string"&&G4.test(e)&&e.startsWith(n)||t&&!q4(e)&&Object.prototype.hasOwnProperty.call(e,t)),dC=(n,t,e)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(qv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},K4=n=>jr(0,255,n),ug={...Tl,transform:n=>Math.round(K4(n))},Ia={test:Gv("rgb","red"),parse:dC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+ug.transform(n)+", "+ug.transform(t)+", "+ug.transform(e)+", "+Ku(uc.transform(r))+")"};function Y4(n){let t="",e="",r="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ry={test:Gv("#"),parse:Y4,transform:Ia.transform},Dc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ss=Dc("deg"),ir=Dc("%"),Et=Dc("px"),W4=Dc("vh"),X4=Dc("vw"),Db={...ir,parse:n=>ir.parse(n)/100,transform:n=>ir.transform(n*100)},Go={test:Gv("hsl","hue"),parse:dC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+ir.transform(Ku(t))+", "+ir.transform(Ku(e))+", "+Ku(uc.transform(r))+")"},Ve={test:n=>Ia.test(n)||ry.test(n)||Go.test(n),parse:n=>Ia.test(n)?Ia.parse(n):Go.test(n)?Go.parse(n):ry.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):Go.transform(n),getAnimatableNone:n=>{const t=Ve.parse(n);return t.alpha=0,Ve.transform(t)}},Q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $4(n){return isNaN(n)&&typeof n=="string"&&(n.match(qv)?.length||0)+(n.match(Q4)?.length||0)>0}const pC="number",mC="color",Z4="var",J4="var(",Mb="${}",t3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cc(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(t3,p=>(Ve.test(p)?(r.color.push(l),a.push(mC),e.push(Ve.parse(p))):p.startsWith(J4)?(r.var.push(l),a.push(Z4),e.push(p)):(r.number.push(l),a.push(pC),e.push(parseFloat(p))),++l,Mb)).split(Mb);return{values:e,split:f,indexes:r,types:a}}function gC(n){return cc(n).values}function yC(n){const{split:t,types:e}=cc(n),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=e[c];f===pC?l+=Ku(a[c]):f===mC?l+=Ve.transform(a[c]):l+=a[c]}return l}}const e3=n=>typeof n=="number"?0:Ve.test(n)?Ve.getAnimatableNone(n):n;function n3(n){const t=gC(n);return yC(n)(t.map(e3))}const js={test:$4,parse:gC,createTransformer:yC,getAnimatableNone:n3};function cg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function i3({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const f=e<.5?e*(1+t):e+t-e*t,p=2*e-f;a=cg(p,f,n+1/3),l=cg(p,f,n),c=cg(p,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function ad(n,t){return e=>e>0?t:n}const he=(n,t,e)=>n+(t-n)*e,hg=(n,t,e)=>{const r=n*n,a=e*(t*t-r)+r;return a<0?0:Math.sqrt(a)},r3=[ry,Ia,Go],s3=n=>r3.find(t=>t.test(n));function Pb(n){const t=s3(n);if(!t)return!1;let e=t.parse(n);return t===Go&&(e=i3(e)),e}const Vb=(n,t)=>{const e=Pb(n),r=Pb(t);if(!e||!r)return ad(n,t);const a={...e};return l=>(a.red=hg(e.red,r.red,l),a.green=hg(e.green,r.green,l),a.blue=hg(e.blue,r.blue,l),a.alpha=he(e.alpha,r.alpha,l),Ia.transform(a))},sy=new Set(["none","hidden"]);function a3(n,t){return sy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function o3(n,t){return e=>he(n,t,e)}function Kv(n){return typeof n=="number"?o3:typeof n=="string"?Hv(n)?ad:Ve.test(n)?Vb:c3:Array.isArray(n)?vC:typeof n=="object"?Ve.test(n)?Vb:l3:ad}function vC(n,t){const e=[...n],r=e.length,a=n.map((l,c)=>Kv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)e[c]=a[c](l);return e}}function l3(n,t){const e={...n,...t},r={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(r[a]=Kv(n[a])(n[a],t[a]));return a=>{for(const l in r)e[l]=r[l](a);return e}}function u3(n,t){const e=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=n.indexes[l][r[l]],f=n.values[c]??0;e[a]=f,r[l]++}return e}const c3=(n,t)=>{const e=js.createTransformer(t),r=cc(n),a=cc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?sy.has(n)&&!a.values.length||sy.has(t)&&!r.values.length?a3(n,t):Ic(vC(u3(r,a),a.values),e):ad(n,t)};function _C(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?he(n,t,e):Kv(n)(n,t)}const h3=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ue.update(t,e),stop:()=>zs(t),now:()=>Je.isProcessing?Je.timestamp:bn.now()}},TC=(n,t,e=10)=>{let r="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)r+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},od=2e4;function Yv(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<od;)t+=e,r=n.next(t);return t>=od?1/0:t}function f3(n,t=100,e){const r=e({...n,keyframes:[0,t]}),a=Math.min(Yv(r),od);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Jn(a)}}const d3=5;function EC(n,t,e){const r=Math.max(t-d3,0);return JR(e-n(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function p3({duration:n=ge.duration,bounce:t=ge.bounce,velocity:e=ge.velocity,mass:r=ge.mass}){let a,l,c=1-t;c=jr(ge.minDamping,ge.maxDamping,c),n=jr(ge.minDuration,ge.maxDuration,Jn(n)),c<1?(a=m=>{const y=m*c,v=y*n,E=y-e,A=ay(m,c),D=Math.exp(-v);return fg-E/A*D},l=m=>{const v=m*c*n,E=v*e+e,A=Math.pow(c,2)*Math.pow(m,2)*n,D=Math.exp(-v),O=ay(Math.pow(m,2),c);return(-a(m)+fg>0?-1:1)*((E-A)*D)/O}):(a=m=>{const y=Math.exp(-m*n),v=(m-e)*n+1;return-fg+y*v},l=m=>{const y=Math.exp(-m*n),v=(e-m)*(n*n);return y*v});const f=5/n,p=g3(a,l,f);if(n=nr(n),isNaN(p))return{stiffness:ge.stiffness,damping:ge.damping,duration:n};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:n}}}const m3=12;function g3(n,t,e){let r=e;for(let a=1;a<m3;a++)r=r-n(r)/t(r);return r}function ay(n,t){return n*Math.sqrt(1-t*t)}const y3=["duration","bounce"],v3=["stiffness","damping","mass"];function Ob(n,t){return t.some(e=>n[e]!==void 0)}function _3(n){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...n};if(!Ob(n,v3)&&Ob(n,y3))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),a=r*r,l=2*jr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:ge.mass,stiffness:a,damping:l}}else{const e=p3(n);t={...t,...e,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function ld(n=ge.visualDuration,t=ge.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:v,velocity:E,isResolvedFromDuration:A}=_3({...e,velocity:-Jn(e.velocity||0)}),D=E||0,O=m/(2*Math.sqrt(p*y)),I=c-l,j=Jn(Math.sqrt(p/y)),B=Math.abs(I)<5;r||(r=B?ge.restSpeed.granular:ge.restSpeed.default),a||(a=B?ge.restDelta.granular:ge.restDelta.default);let q;if(O<1){const st=ay(j,O);q=at=>{const C=Math.exp(-O*j*at);return c-C*((D+O*j*I)/st*Math.sin(st*at)+I*Math.cos(st*at))}}else if(O===1)q=st=>c-Math.exp(-j*st)*(I+(D+j*I)*st);else{const st=j*Math.sqrt(O*O-1);q=at=>{const C=Math.exp(-O*j*at),R=Math.min(st*at,300);return c-C*((D+O*j*I)*Math.sinh(R)+st*I*Math.cosh(R))/st}}const it={calculatedDuration:A&&v||null,next:st=>{const at=q(st);if(A)f.done=st>=v;else{let C=st===0?D:0;O<1&&(C=st===0?nr(D):EC(q,st,at));const R=Math.abs(C)<=r,x=Math.abs(c-at)<=a;f.done=R&&x}return f.value=f.done?c:at,f},toString:()=>{const st=Math.min(Yv(it),od),at=TC(C=>it.next(st*C).value,st,30);return st+"ms "+at},toTransition:()=>{}};return it}ld.applyToOptions=n=>{const t=f3(n,100,ld);return n.ease=t.ease,n.duration=nr(t.duration),n.type="keyframes",n};function oy({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:m=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},A=R=>f!==void 0&&R<f||p!==void 0&&R>p,D=R=>f===void 0?p:p===void 0||Math.abs(f-R)<Math.abs(p-R)?f:p;let O=e*t;const I=v+O,j=c===void 0?I:c(I);j!==I&&(O=j-v);const B=R=>-O*Math.exp(-R/r),q=R=>j+B(R),it=R=>{const x=B(R),k=q(R);E.done=Math.abs(x)<=m,E.value=E.done?j:k};let st,at;const C=R=>{A(E.value)&&(st=R,at=ld({keyframes:[E.value,D(E.value)],velocity:EC(q,R,E.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return C(0),{calculatedDuration:null,next:R=>{let x=!1;return!at&&st===void 0&&(x=!0,it(R),C(R)),st!==void 0&&R>=st?at.next(R-st):(!x&&it(R),E)}}}function T3(n,t,e){const r=[],a=e||Br.mix||_C,l=n.length-1;for(let c=0;c<l;c++){let f=a(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||ti:t;f=Ic(p,f)}r.push(f)}return r}function E3(n,t,{clamp:e=!0,ease:r,mixer:a}={}){const l=n.length;if(Uv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=T3(t,r,a),p=f.length,m=y=>{if(c&&y<n[0])return t[0];let v=0;if(p>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=lc(n[v],n[v+1],y);return f[v](E)};return e?y=>m(jr(n[0],n[l-1],y)):m}function S3(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const a=lc(0,t,r);n.push(he(e,1,a))}}function b3(n){const t=[0];return S3(t,n.length-1),t}function A3(n,t){return n.map(e=>e*t)}function w3(n,t){return n.map(()=>t||lC).splice(0,n.length-1)}function Yu({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const a=k4(r)?r.map(xb):xb(r),l={done:!1,value:t[0]},c=A3(e&&e.length===t.length?e:b3(t),n),f=E3(c,t,{ease:Array.isArray(a)?a:w3(t,a)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const R3=n=>n!==null;function Wv(n,{repeat:t,repeatType:e="loop"},r,a=1){const l=n.filter(R3),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const C3={decay:oy,inertia:oy,tween:Yu,keyframes:Yu,spring:ld};function SC(n){typeof n.type=="string"&&(n.type=C3[n.type])}class Xv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const I3=n=>n/100;class Qv extends Xv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;SC(t);const{type:e=Yu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const p=e||Yu;p!==Yu&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(I3,_C(f[0],f[1])),f=[0,100]);const m=p({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Yv(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:A,type:D,onUpdate:O,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,it=r;if(v){const R=Math.min(this.currentTime,a)/f;let x=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(k=1-k,A&&(k-=A/f)):E==="mirror"&&(it=c)),q=jr(0,1,k)*f}const st=B?{done:!1,value:y[0]}:it.next(q);l&&(st.value=l(st.value));let{done:at}=st;!B&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&D!==oy&&(st.value=Wv(y,this.options,I,this.speed)),O&&O(st.value),C&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){t=nr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(bn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Jn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=h3,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function x3(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const xa=n=>n*180/Math.PI,ly=n=>{const t=xa(Math.atan2(n[1],n[0]));return uy(t)},D3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:ly,rotateZ:ly,skewX:n=>xa(Math.atan(n[1])),skewY:n=>xa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},uy=n=>(n=n%360,n<0&&(n+=360),n),Nb=ly,kb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Lb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),M3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kb,scaleY:Lb,scale:n=>(kb(n)+Lb(n))/2,rotateX:n=>uy(xa(Math.atan2(n[6],n[5]))),rotateY:n=>uy(xa(Math.atan2(-n[2],n[0]))),rotateZ:Nb,rotate:Nb,skewX:n=>xa(Math.atan(n[4])),skewY:n=>xa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function cy(n){return n.includes("scale")?1:0}function hy(n,t){if(!n||n==="none")return cy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(e)r=M3,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D3,a=f}if(!a)return cy(t);const l=r[t],c=a[1].split(",").map(V3);return typeof l=="function"?l(c):c[l]}const P3=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return hy(e,t)};function V3(n){return parseFloat(n.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),Ub=n=>n===Tl||n===Et,O3=new Set(["x","y","z"]),N3=El.filter(n=>!O3.has(n));function k3(n){const t=[];return N3.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Ma={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>hy(t,"x"),y:(n,{transform:t})=>hy(t,"y")};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const Pa=new Set;let fy=!1,dy=!1,py=!1;function bC(){if(dy){const n=Array.from(Pa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const a=k3(r);a.length&&(e.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=e.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dy=!1,fy=!1,Pa.forEach(n=>n.complete(py)),Pa.clear()}function AC(){Pa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(dy=!0)})}function L3(){py=!0,AC(),bC(),py=!1}class $v{constructor(t,e,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),fy||(fy=!0,ue.read(AC),ue.resolveKeyframes(bC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&e){const f=r.readValue(e,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}x3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const U3=n=>n.startsWith("--");function z3(n,t,e){U3(t)?n.style.setProperty(t,e):n.style[t]=e}const j3=zv(()=>window.ScrollTimeline!==void 0),B3={};function F3(n,t){const e=zv(n);return()=>B3[t]??e()}const wC=F3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function RC(n,t){if(n)return typeof n=="function"?wC()?TC(n,t):"ease-out":uC(n)?zu(n):Array.isArray(n)?n.map(e=>RC(e,t)||zb.easeOut):zb[n]}function H3(n,t,e,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:p}={},m=void 0){const y={[t]:e};p&&(y.offset=p);const v=RC(f,a);Array.isArray(v)&&(y.easing=v);const E={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),n.animate(y,E)}function CC(n){return typeof n=="function"&&"applyToOptions"in n}function q3({type:n,...t}){return CC(n)&&wC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G3 extends Xv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Uv(typeof t.type!="string");const m=q3(t);this.animation=H3(e,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Wv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):z3(e,r,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=nr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&j3()?(this.animation.timeline=t,ti):e(this)}}const IC={anticipate:sC,backInOut:rC,circInOut:oC};function K3(n){return n in IC}function Y3(n){typeof n.ease=="string"&&K3(n.ease)&&(n.ease=IC[n.ease])}const jb=10;class W3 extends G3{constructor(t){Y3(t),SC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new Qv({...c,autoplay:!1}),p=nr(this.finishedTime??this.time);e.setWithVelocity(f.sample(p-jb).value,f.sample(p).value,jb),f.stop()}}const Bb=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(js.test(n)||n==="0")&&!n.startsWith("url("));function X3(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Q3(n,t,e,r){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=Bb(a,t),f=Bb(l,t);return!c||!f?!1:X3(n)||(e==="spring"||CC(e))&&r}function my(n){n.duration=0,n.type="keyframes"}const $3=new Set(["opacity","clipPath","filter","transform"]),Z3=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J3(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:a,damping:l,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return Z3()&&e&&$3.has(e)&&(e!=="transform"||!m)&&!p&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const tU=40;class eU extends Xv{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:p,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bn.now();const E={autoplay:t,delay:e,type:r,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:y,...v},A=y?.KeyframeResolver||$v;this.keyframeResolver=new A(f,(D,O,I)=>this.onKeyframesResolved(D,O,E,!I),p,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:p,isHandoff:m,onUpdate:y}=r;this.resolvedAt=bn.now(),Q3(t,l,c,f)||((Br.instantAnimations||!p)&&y?.(Wv(t,r,e)),t[0]=t[t.length-1],my(r),r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},A=!m&&J3(E)?new W3({...E,element:E.motionValue.owner.current}):new Qv(E);A.finished.then(()=>this.notifyFinished()).catch(ti),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),L3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iU(n){const t=nU.exec(n);if(!t)return[,];const[,e,r,a]=t;return[`--${e??r}`,a]}function xC(n,t,e=1){const[r,a]=iU(n);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return QR(c)?parseFloat(c):c}return Hv(a)?xC(a,t,e+1):a}function Zv(n,t){return n?.[t]??n?.default??n}const DC=new Set(["width","height","top","left","right","bottom",...El]),rU={test:n=>n==="auto",parse:n=>n},MC=n=>t=>t.test(n),PC=[Tl,Et,ir,Ss,X4,W4,rU],Fb=n=>PC.find(MC(n));function sU(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ZR(n):!0}const aU=new Set(["brightness","contrast","saturate","opacity"]);function oU(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(qv)||[];if(!r)return n;const a=e.replace(r,"");let l=aU.has(t)?1:0;return r!==e&&(l*=100),t+"("+l+a+")"}const lU=/\b([a-z-]*)\(.*?\)/gu,gy={...js,getAnimatableNone:n=>{const t=n.match(lU);return t?t.map(oU).join(" "):n}},Hb={...Tl,transform:Math.round},uU={rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:Ss,skewX:Ss,skewY:Ss,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:uc,originX:Db,originY:Db,originZ:Et},Jv={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...uU,zIndex:Hb,fillOpacity:uc,strokeOpacity:uc,numOctaves:Hb},cU={...Jv,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:gy,WebkitFilter:gy},VC=n=>cU[n];function OC(n,t){let e=VC(n);return e!==gy&&(e=js),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const hU=new Set(["auto","none","0"]);function fU(n,t,e){let r=0,a;for(;r<n.length&&!a;){const l=n[r];typeof l=="string"&&!hU.has(l)&&cc(l).values.length&&(a=n[r]),r++}if(a&&e)for(const l of t)n[l]=OC(e,a)}class dU extends $v{constructor(t,e,r,a,l){super(t,e,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),Hv(m))){const y=xC(m,e.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!DC.has(r)||t.length!==2)return;const[a,l]=t,c=Fb(a),f=Fb(l);if(c!==f)if(Ub(c)&&Ub(f))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else Ma[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||sU(t[a]))&&r.push(a);r.length&&fU(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ma[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function pU(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const a=e?.[n]??r.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const NC=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function kC(n){return $R(n)&&"offsetHeight"in n}const qb=30,mU=n=>!isNaN(parseFloat(n));class gU{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new jv);const r=this.events[t].add(e);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,qb);return JR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(n,t){return new gU(n,t)}const{schedule:t_}=cC(queueMicrotask,!1),mi={x:!1,y:!1};function LC(){return mi.x||mi.y}function yU(n){return n==="x"||n==="y"?mi[n]?null:(mi[n]=!0,()=>{mi[n]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function UC(n,t){const e=pU(n),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[e,a,()=>r.abort()]}function Gb(n){return!(n.pointerType==="touch"||LC())}function vU(n,t,e={}){const[r,a,l]=UC(n,e),c=f=>{if(!Gb(f))return;const{target:p}=f,m=t(p,f);if(typeof m!="function"||!p)return;const y=v=>{Gb(v)&&(m(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const zC=(n,t)=>t?n===t?!0:zC(n,t.parentElement):!1,e_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,_U=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TU(n){return _U.has(n.tagName)||n.tabIndex!==-1}const Of=new WeakSet;function Kb(n){return t=>{t.key==="Enter"&&n(t)}}function dg(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EU=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=Kb(()=>{if(Of.has(e))return;dg(e,"down");const a=Kb(()=>{dg(e,"up")}),l=()=>dg(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function Yb(n){return e_(n)&&!LC()}function SU(n,t,e={}){const[r,a,l]=UC(n,e),c=f=>{const p=f.currentTarget;if(!Yb(f))return;Of.add(p);const m=t(p,f),y=(A,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Of.has(p)&&Of.delete(p),Yb(A)&&typeof m=="function"&&m(A,{success:D})},v=A=>{y(A,p===window||p===document||e.useGlobalTarget||zC(p,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),kC(f)&&(f.addEventListener("focus",m=>EU(m,a)),!TU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function jC(n){return $R(n)&&"ownerSVGElement"in n}function bU(n){return jC(n)&&n.tagName==="svg"}const ln=n=>!!(n&&n.getVelocity),AU=[...PC,Ve,js],wU=n=>AU.find(MC(n)),n_=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Wb(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function RU(...n){return t=>{let e=!1;const r=n.map(a=>{const l=Wb(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Wb(n[a],null)}}}}function CU(...n){return M.useCallback(RU(...n),n)}class IU extends M.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const r=e.offsetParent,a=kC(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xU({children:n,isPresent:t,anchorX:e,root:r}){const a=M.useId(),l=M.useRef(null),c=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=M.useContext(n_),p=CU(l,n?.ref);return M.useInsertionEffect(()=>{const{width:m,height:y,top:v,left:E,right:A}=c.current;if(t||!l.current||!m||!y)return;const D=e==="left"?`left: ${E}`:`right: ${A}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");f&&(O.nonce=f);const I=r??document.head;return I.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${v}px !important;
          }
        `),()=>{I.contains(O)&&I.removeChild(O)}},[t]),z.jsx(IU,{isPresent:t,childRef:l,sizeRef:c,children:M.cloneElement(n,{ref:p})})}const DU=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:p})=>{const m=Ov(MU),y=M.useId();let v=!0,E=M.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:e,custom:a,onExitComplete:A=>{m.set(A,!0);for(const D of m.values())if(!D)return;r&&r()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[e,m,r]);return l&&v&&(E={...E}),M.useMemo(()=>{m.forEach((A,D)=>m.set(D,!1))},[e]),M.useEffect(()=>{!e&&!m.size&&r&&r()},[e]),c==="popLayout"&&(n=z.jsx(xU,{isPresent:e,anchorX:f,root:p,children:n})),z.jsx(Ud.Provider,{value:E,children:n})};function MU(){return new Map}function BC(n=!0){const t=M.useContext(Ud);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:a}=t,l=M.useId();M.useEffect(()=>{if(n)return a(l)},[n]);const c=M.useCallback(()=>n&&r&&r(l),[l,r,n]);return!e&&r?[!1,c]:[!0]}const vf=n=>n.key||"";function Xb(n){const t=[];return M.Children.forEach(n,e=>{M.isValidElement(e)&&t.push(e)}),t}const yy=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:p})=>{const[m,y]=BC(c),v=M.useMemo(()=>Xb(n),[n]),E=c&&!m?[]:v.map(vf),A=M.useRef(!0),D=M.useRef(v),O=Ov(()=>new Map),[I,j]=M.useState(v),[B,q]=M.useState(v);XR(()=>{A.current=!1,D.current=v;for(let at=0;at<B.length;at++){const C=vf(B[at]);E.includes(C)?O.delete(C):O.get(C)!==!0&&O.set(C,!1)}},[B,E.length,E.join("-")]);const it=[];if(v!==I){let at=[...v];for(let C=0;C<B.length;C++){const R=B[C],x=vf(R);E.includes(x)||(at.splice(C,0,R),it.push(R))}return l==="wait"&&it.length&&(at=it),q(Xb(at)),j(v),null}const{forceRender:st}=M.useContext(Vv);return z.jsx(z.Fragment,{children:B.map(at=>{const C=vf(at),R=c&&!m?!1:v===B||E.includes(C),x=()=>{if(O.has(C))O.set(C,!0);else return;let k=!0;O.forEach(N=>{N||(k=!1)}),k&&(st?.(),q(D.current),c&&y?.(),r&&r())};return z.jsx(DU,{isPresent:R,initial:!A.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:R?void 0:x,anchorX:f,children:at},C)})})},FC=M.createContext({strict:!1}),Qb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const n in Qb)ul[n]={isEnabled:t=>Qb[n].some(e=>!!t[e])};function PU(n){for(const t in n)ul[t]={...ul[t],...n[t]}}const VU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||VU.has(n)}let HC=n=>!ud(n);function OU(n){typeof n=="function"&&(HC=t=>t.startsWith("on")?!ud(t):n(t))}try{OU(require("@emotion/is-prop-valid").default)}catch{}function NU(n,t,e){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(HC(a)||e===!0&&ud(a)||!t&&!ud(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}const zd=M.createContext({});function jd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hc(n){return typeof n=="string"||Array.isArray(n)}const i_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r_=["initial",...i_];function Bd(n){return jd(n.animate)||r_.some(t=>hc(n[t]))}function qC(n){return!!(Bd(n)||n.variants)}function kU(n,t){if(Bd(n)){const{initial:e,animate:r}=n;return{initial:e===!1||hc(e)?e:void 0,animate:hc(r)?r:void 0}}return n.inherit!==!1?t:{}}function LU(n){const{initial:t,animate:e}=kU(n,M.useContext(zd));return M.useMemo(()=>({initial:t,animate:e}),[$b(t),$b(e)])}function $b(n){return Array.isArray(n)?n.join(" "):n}function Zb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Du={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const e=Zb(n,t.target.x),r=Zb(n,t.target.y);return`${e}% ${r}%`}},UU={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,a=js.parse(n);if(a.length>5)return r;const l=js.createTransformer(n),c=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,p=e.y.scale*t.y;a[0+c]/=f,a[1+c]/=p;const m=he(f,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},vy={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:UU};function GC(n,{layout:t,layoutId:e}){return Sl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!vy[n]||n==="opacity")}const zU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jU=El.length;function BU(n,t,e){let r="",a=!0;for(let l=0;l<jU;l++){const c=El[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||e){const m=NC(f,Jv[c]);if(!p){a=!1;const y=zU[c]||c;r+=`${y}(${m}) `}e&&(t[c]=m)}}return r=r.trim(),e?r=e(t,a?"":r):a&&(r="none"),r}function s_(n,t,e){const{style:r,vars:a,transformOrigin:l}=n;let c=!1,f=!1;for(const p in t){const m=t[p];if(Sl.has(p)){c=!0;continue}else if(fC(p)){a[p]=m;continue}else{const y=NC(m,Jv[p]);p.startsWith("origin")?(f=!0,l[p]=y):r[p]=y}}if(t.transform||(c||e?r.transform=BU(t,n.transform,e):r.transform&&(r.transform="none")),f){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;r.transformOrigin=`${p} ${m} ${y}`}}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KC(n,t,e){for(const r in t)!ln(t[r])&&!GC(r,e)&&(n[r]=t[r])}function FU({transformTemplate:n},t){return M.useMemo(()=>{const e=a_();return s_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function HU(n,t){const e=n.style||{},r={};return KC(r,e,n),Object.assign(r,FU(n,t)),r}function qU(n,t){const e={},r=HU(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const GU={offset:"stroke-dashoffset",array:"stroke-dasharray"},KU={offset:"strokeDashoffset",array:"strokeDasharray"};function YU(n,t,e=1,r=0,a=!0){n.pathLength=1;const l=a?GU:KU;n[l.offset]=Et.transform(-r);const c=Et.transform(t),f=Et.transform(e);n[l.array]=`${c} ${f}`}function YC(n,{attrX:t,attrY:e,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},p,m,y){if(s_(n,f,m),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),r!==void 0&&(v.scale=r),a!==void 0&&YU(v,a,l,c,!1)}const WC=()=>({...a_(),attrs:{}}),XC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function WU(n,t,e,r){const a=M.useMemo(()=>{const l=WC();return YC(l,t,XC(r),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};KC(l,n.style,n),a.style={...l,...a.style}}return a}const XU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o_(n){return typeof n!="string"||n.includes("-")?!1:!!(XU.indexOf(n)>-1||/[A-Z]/u.test(n))}function QU(n,t,e,{latestValues:r},a,l=!1){const f=(o_(n)?WU:qU)(t,r,a,n),p=NU(t,typeof n=="string",l),m=n!==M.Fragment?{...p,...f,ref:e}:{},{children:y}=t,v=M.useMemo(()=>ln(y)?y.get():y,[y]);return M.createElement(n,{...m,children:v})}function Jb(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function l_(n,t,e,r){if(typeof t=="function"){const[a,l]=Jb(r);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=Jb(r);t=t(e!==void 0?e:n.custom,a,l)}return t}function Nf(n){return ln(n)?n.get():n}function $U({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,a){return{latestValues:ZU(e,r,a,n),renderState:t()}}function ZU(n,t,e,r){const a={},l=r(n,{});for(const E in l)a[E]=Nf(l[E]);let{initial:c,animate:f}=n;const p=Bd(n),m=qC(n);t&&m&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const v=y?f:c;if(v&&typeof v!="boolean"&&!jd(v)){const E=Array.isArray(v)?v:[v];for(let A=0;A<E.length;A++){const D=l_(n,E[A]);if(D){const{transitionEnd:O,transition:I,...j}=D;for(const B in j){let q=j[B];if(Array.isArray(q)){const it=y?q.length-1:0;q=q[it]}q!==null&&(a[B]=q)}for(const B in O)a[B]=O[B]}}}return a}const QC=n=>(t,e)=>{const r=M.useContext(zd),a=M.useContext(Ud),l=()=>$U(n,t,r,a);return e?l():Ov(l)};function u_(n,t,e){const{style:r}=n,a={};for(const l in r)(ln(r[l])||t.style&&ln(t.style[l])||GC(l,n)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const JU=QC({scrapeMotionValuesFromProps:u_,createRenderState:a_});function $C(n,t,e){const r=u_(n,t,e);for(const a in n)if(ln(n[a])||ln(t[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=n[a]}return r}const t6=QC({scrapeMotionValuesFromProps:$C,createRenderState:WC}),e6=Symbol.for("motionComponentSymbol");function Ko(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function n6(n,t,e){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):Ko(e)&&(e.current=r))},[t])}const c_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i6="framerAppearId",ZC="data-"+c_(i6),JC=M.createContext({});function r6(n,t,e,r,a){const{visualElement:l}=M.useContext(zd),c=M.useContext(FC),f=M.useContext(Ud),p=M.useContext(n_).reducedMotion,m=M.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(n,{visualState:t,parent:l,props:e,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const y=m.current,v=M.useContext(JC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&s6(m.current,e,a,v);const E=M.useRef(!1);M.useInsertionEffect(()=>{y&&E.current&&y.update(e,f)});const A=e[ZC],D=M.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return XR(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),M.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),y.enteringChildren=void 0)}),y}function s6(n,t,e,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:m,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:tI(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Ko(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:p,layoutRoot:m})}function tI(n){if(n)return n.options.allowProjection!==!1?n.projection:tI(n.parent)}function pg(n,{forwardMotionProps:t=!1}={},e,r){e&&PU(e);const a=o_(n)?t6:JU;function l(f,p){let m;const y={...M.useContext(n_),...f,layoutId:a6(f)},{isStatic:v}=y,E=LU(f),A=a(f,v);if(!v&&Nv){o6();const D=l6(y);m=D.MeasureLayout,E.visualElement=r6(n,A,y,r,D.ProjectionNode)}return z.jsxs(zd.Provider,{value:E,children:[m&&E.visualElement?z.jsx(m,{visualElement:E.visualElement,...y}):null,QU(n,f,n6(A,E.visualElement,p),A,v,t)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=M.forwardRef(l);return c[e6]=n,c}function a6({layoutId:n}){const t=M.useContext(Vv).id;return t&&n!==void 0?t+"-"+n:n}function o6(n,t){M.useContext(FC).strict}function l6(n){const{drag:t,layout:e}=ul;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function u6(n,t){if(typeof Proxy>"u")return pg;const e=new Map,r=(l,c)=>pg(l,c,n,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(e.has(c)||e.set(c,pg(c,void 0,n,t)),e.get(c))})}function eI({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function c6({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function h6(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function mg(n){return n===void 0||n===1}function _y({scale:n,scaleX:t,scaleY:e}){return!mg(n)||!mg(t)||!mg(e)}function Ra(n){return _y(n)||nI(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function nI(n){return tA(n.x)||tA(n.y)}function tA(n){return n&&n!=="0%"}function cd(n,t,e){const r=n-e,a=t*r;return e+a}function eA(n,t,e,r,a){return a!==void 0&&(n=cd(n,a,r)),cd(n,e,r)+t}function Ty(n,t=0,e=1,r,a){n.min=eA(n.min,t,e,r,a),n.max=eA(n.max,t,e,r,a)}function iI(n,{x:t,y:e}){Ty(n.x,t.translate,t.scale,t.originPoint),Ty(n.y,e.translate,e.scale,e.originPoint)}const nA=.999999999999,iA=1.0000000000001;function f6(n,t,e,r=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=e[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,iI(n,c)),r&&Ra(l.latestValues)&&Wo(n,l.latestValues))}t.x<iA&&t.x>nA&&(t.x=1),t.y<iA&&t.y>nA&&(t.y=1)}function Yo(n,t){n.min=n.min+t,n.max=n.max+t}function rA(n,t,e,r,a=.5){const l=he(n.min,n.max,a);Ty(n,t,e,l,r)}function Wo(n,t){rA(n.x,t.x,t.scaleX,t.scale,t.originX),rA(n.y,t.y,t.scaleY,t.scale,t.originY)}function rI(n,t){return eI(h6(n.getBoundingClientRect(),t))}function d6(n,t,e){const r=rI(n,e),{scroll:a}=t;return a&&(Yo(r.x,a.offset.x),Yo(r.y,a.offset.y)),r}const sA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:sA(),y:sA()}),aA=()=>({min:0,max:0}),ze=()=>({x:aA(),y:aA()}),Ey={current:null},sI={current:!1};function p6(){if(sI.current=!0,!!Nv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ey.current=n.matches;n.addEventListener("change",t),t()}else Ey.current=!1}const m6=new WeakMap;function g6(n,t,e){for(const r in t){const a=t[r],l=e[r];if(ln(a))n.addValue(r,a);else if(ln(l))n.addValue(r,ll(a,{owner:n}));else if(l!==a)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(r);n.addValue(r,ll(c!==void 0?c:a,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const oA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class y6{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$v,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=bn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Bd(e),this.isVariantNode=qC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const E in v){const A=v[E];p[E]!==void 0&&ln(A)&&A.set(p[E])}}mount(t){this.current=t,m6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),sI.current||p6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Sl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ul){const e=ul[t];if(!e)continue;const{isEnabled:r,Feature:a}=e;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<oA.length;r++){const a=oA[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=g6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=ll(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(QR(r)||ZR(r))?r=parseFloat(r):!wU(r)&&js.test(e)&&(r=OC(t,e)),this.setBaseTarget(t,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const l=l_(this.props,e,this.presenceContext?.custom);l&&(r=l[t])}if(e&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ln(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new jv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){t_.render(this.render)}}class aI extends y6{constructor(){super(...arguments),this.KeyframeResolver=dU}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function oI(n,{style:t,vars:e},r,a){const l=n.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,r);for(c in e)l.setProperty(c,e[c])}function v6(n){return window.getComputedStyle(n)}class _6 extends aI{constructor(){super(...arguments),this.type="html",this.renderInstance=oI}readValueFromInstance(t,e){if(Sl.has(e))return this.projection?.isProjecting?cy(e):P3(t,e);{const r=v6(t),a=(fC(e)?r.getPropertyValue(e):r[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return rI(t,e)}build(t,e,r){s_(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return u_(t,e,r)}}const lI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T6(n,t,e,r){oI(n,t,void 0,r);for(const a in t.attrs)n.setAttribute(lI.has(a)?a:c_(a),t.attrs[a])}class E6 extends aI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Sl.has(e)){const r=VC(e);return r&&r.default||0}return e=lI.has(e)?e:c_(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return $C(t,e,r)}build(t,e,r){YC(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,a){T6(t,e,r,a)}mount(t){this.isSVGTag=XC(t.tagName),super.mount(t)}}const S6=(n,t)=>o_(n)?new E6(t):new _6(t,{allowProjection:n!==M.Fragment});function el(n,t,e){const r=n.getProps();return l_(r,t,e!==void 0?e:r.custom,n)}const Sy=n=>Array.isArray(n);function b6(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,ll(e))}function A6(n){return Sy(n)?n[n.length-1]||0:n}function w6(n,t){const e=el(n,t);let{transitionEnd:r={},transition:a={},...l}=e||{};l={...l,...r};for(const c in l){const f=A6(l[c]);b6(n,c,f)}}function R6(n){return!!(ln(n)&&n.add)}function by(n,t){const e=n.getValue("willChange");if(R6(e))return e.add(t);if(!e&&Br.WillChange){const r=new Br.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function uI(n){return n.props[ZC]}const C6=n=>n!==null;function I6(n,{repeat:t,repeatType:e="loop"},r){const a=n.filter(C6),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const x6={type:"spring",stiffness:500,damping:25,restSpeed:10},D6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),M6={type:"keyframes",duration:.8},P6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V6=(n,{keyframes:t})=>t.length>2?M6:Sl.has(n)?n.startsWith("scale")?D6(t[1]):x6:P6;function O6({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const h_=(n,t,e,r={},a,l)=>c=>{const f=Zv(r,n)||{},p=f.delay||r.delay||0;let{elapsed:m=0}=r;m=m-nr(p);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};O6(f)||Object.assign(y,V6(n,y)),y.duration&&(y.duration=nr(y.duration)),y.repeatDelay&&(y.repeatDelay=nr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(my(y),y.delay===0&&(v=!0)),(Br.instantAnimations||Br.skipAnimations)&&(v=!0,my(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&t.get()!==void 0){const E=I6(y.keyframes,f);if(E!==void 0){ue.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Qv(y):new eU(y)};function N6({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function cI(n,t,{delay:e=0,transitionOverride:r,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const p=[],m=a&&n.animationState&&n.animationState.getState()[a];for(const y in f){const v=n.getValue(y,n.latestValues[y]??null),E=f[y];if(E===void 0||m&&N6(m,y))continue;const A={delay:e,...Zv(l||{},y)},D=v.get();if(D!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===D&&!A.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const j=uI(n);if(j){const B=window.MotionHandoffAnimation(j,y,ue);B!==null&&(A.startTime=B,O=!0)}}by(n,y),v.start(h_(y,v,E,n.shouldReduceMotion&&DC.has(y)?{type:!1}:A,n,O));const I=v.animation;I&&p.push(I)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&w6(n,c)})}),p}function hI(n,t,e,r=0,a=1){const l=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),c=n.size,f=(c-1)*r;return typeof e=="function"?e(l,c):a===1?l*r:f-l*r}function Ay(n,t,e={}){const r=el(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(a=e.transitionOverride);const l=r?()=>Promise.all(cI(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return k6(n,t,p,m,y,v,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,m]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(e.delay)])}function k6(n,t,e=0,r=0,a=0,l=1,c){const f=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),f.push(Ay(p,t,{...c,delay:e+(typeof r=="function"?0:r)+hI(n.variantChildren,p,r,a,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function L6(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>Ay(n,l,e));r=Promise.all(a)}else if(typeof t=="string")r=Ay(n,t,e);else{const a=typeof t=="function"?el(n,t,e.custom):t;r=Promise.all(cI(n,a,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function fI(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const U6=r_.length;function dI(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?dI(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<U6;e++){const r=r_[e],a=n.props[r];(hc(a)||a===!1)&&(t[r]=a)}return t}const z6=[...i_].reverse(),j6=i_.length;function B6(n){return t=>Promise.all(t.map(({animation:e,options:r})=>L6(n,e,r)))}function F6(n){let t=B6(n),e=lA(),r=!0;const a=p=>(m,y)=>{const v=el(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:A,...D}=v;m={...m,...D,...A}}return m};function l(p){t=p(n)}function c(p){const{props:m}=n,y=dI(n.parent)||{},v=[],E=new Set;let A={},D=1/0;for(let I=0;I<j6;I++){const j=z6[I],B=e[j],q=m[j]!==void 0?m[j]:y[j],it=hc(q),st=j===p?B.isActive:null;st===!1&&(D=I);let at=q===y[j]&&q!==m[j]&&it;if(at&&r&&n.manuallyAnimateOnMount&&(at=!1),B.protectedKeys={...A},!B.isActive&&st===null||!q&&!B.prevProp||jd(q)||typeof q=="boolean")continue;const C=H6(B.prevProp,q);let R=C||j===p&&B.isActive&&!at&&it||I>D&&it,x=!1;const k=Array.isArray(q)?q:[q];let N=k.reduce(a(j),{});st===!1&&(N={});const{prevResolvedValues:F={}}=B,P={...F,...N},te=ot=>{R=!0,E.has(ot)&&(x=!0,E.delete(ot)),B.needsAnimating[ot]=!0;const dt=n.getValue(ot);dt&&(dt.liveStyle=!1)};for(const ot in P){const dt=N[ot],It=F[ot];if(A.hasOwnProperty(ot))continue;let Vt=!1;Sy(dt)&&Sy(It)?Vt=!fI(dt,It):Vt=dt!==It,Vt?dt!=null?te(ot):E.add(ot):dt!==void 0&&E.has(ot)?te(ot):B.protectedKeys[ot]=!0}B.prevProp=q,B.prevResolvedValues=N,B.isActive&&(A={...A,...N}),r&&n.blockInitialAnimation&&(R=!1);const de=at&&C;R&&(!de||x)&&v.push(...k.map(ot=>{const dt={type:j};if(typeof ot=="string"&&r&&!de&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Vt=el(It,ot);if(It.enteringChildren&&Vt){const{delayChildren:U}=Vt.transition||{};dt.delay=hI(It.enteringChildren,n,U)}}return{animation:ot,options:dt}}))}if(E.size){const I={};if(typeof m.initial!="boolean"){const j=el(n,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(I.transition=j.transition)}E.forEach(j=>{const B=n.getBaseTarget(j),q=n.getValue(j);q&&(q.liveStyle=!0),I[j]=B??null}),v.push({animation:I})}let O=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(O=!1),r=!1,O?t(v):Promise.resolve()}function f(p,m){if(e[p].isActive===m)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(p,m)),e[p].isActive=m;const y=c(p);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=lA()}}}function H6(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!fI(t,n):!1}function Aa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lA(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}class Ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}class q6 extends Ks{constructor(t){super(t),t.animationState||(t.animationState=F6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G6=0;class K6 extends Ks{constructor(){super(...arguments),this.id=G6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Y6={animation:{Feature:q6},exit:{Feature:K6}};function fc(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function Mc(n){return{point:{x:n.pageX,y:n.pageY}}}const W6=n=>t=>e_(t)&&n(t,Mc(t));function Wu(n,t,e,r){return fc(n,t,W6(e),r)}const pI=1e-4,X6=1-pI,Q6=1+pI,mI=.01,$6=0-mI,Z6=0+mI;function dn(n){return n.max-n.min}function J6(n,t,e){return Math.abs(n-t)<=e}function uA(n,t,e,r=.5){n.origin=r,n.originPoint=he(t.min,t.max,n.origin),n.scale=dn(e)/dn(t),n.translate=he(e.min,e.max,n.origin)-n.originPoint,(n.scale>=X6&&n.scale<=Q6||isNaN(n.scale))&&(n.scale=1),(n.translate>=$6&&n.translate<=Z6||isNaN(n.translate))&&(n.translate=0)}function Xu(n,t,e,r){uA(n.x,t.x,e.x,r?r.originX:void 0),uA(n.y,t.y,e.y,r?r.originY:void 0)}function cA(n,t,e){n.min=e.min+t.min,n.max=n.min+dn(t)}function t5(n,t,e){cA(n.x,t.x,e.x),cA(n.y,t.y,e.y)}function hA(n,t,e){n.min=t.min-e.min,n.max=n.min+dn(t)}function hd(n,t,e){hA(n.x,t.x,e.x),hA(n.y,t.y,e.y)}function $n(n){return[n("x"),n("y")]}const gI=({current:n})=>n?n.ownerDocument.defaultView:null,fA=(n,t)=>Math.abs(n-t);function e5(n,t){const e=fA(n.x,t.x),r=fA(n.y,t.y);return Math.sqrt(e**2+r**2)}class yI{constructor(t,e,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=yg(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=e5(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:O}=E,{timestamp:I}=Je;this.history.push({...O,timestamp:I});const{onStart:j,onMove:B}=this.handlers;A||(j&&j(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=gg(A,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:D,onSessionEnd:O,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=yg(E.type==="pointercancel"?this.lastMoveEventInfo:gg(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,j),O&&O(E,j)},!e_(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=Mc(t),p=gg(f,this.transformPagePoint),{point:m}=p,{timestamp:y}=Je;this.history=[{...m,timestamp:y}];const{onSessionStart:v}=e;v&&v(t,yg(p,this.history)),this.removeListeners=Ic(Wu(this.contextWindow,"pointermove",this.handlePointerMove),Wu(this.contextWindow,"pointerup",this.handlePointerUp),Wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function gg(n,t){return t?{point:t(n.point)}:n}function dA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function yg({point:n},t){return{point:n,delta:dA(n,vI(t)),offset:dA(n,n5(t)),velocity:i5(t,.1)}}function n5(n){return n[0]}function vI(n){return n[n.length-1]}function i5(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const a=vI(n);for(;e>=0&&(r=n[e],!(a.timestamp-r.timestamp>nr(t)));)e--;if(!r)return{x:0,y:0};const l=Jn(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function r5(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?he(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?he(e,n,r.max):Math.min(n,e)),n}function pA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function s5(n,{top:t,left:e,bottom:r,right:a}){return{x:pA(n.x,e,a),y:pA(n.y,t,r)}}function mA(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function a5(n,t){return{x:mA(n.x,t.x),y:mA(n.y,t.y)}}function o5(n,t){let e=.5;const r=dn(n),a=dn(t);return a>r?e=lc(t.min,t.max-r,n.min):r>a&&(e=lc(n.min,n.max-a,t.min)),jr(0,1,e)}function l5(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const wy=.35;function u5(n=wy){return n===!1?n=0:n===!0&&(n=wy),{x:gA(n,"left","right"),y:gA(n,"top","bottom")}}function gA(n,t,e){return{min:yA(n,t),max:yA(n,e)}}function yA(n,t){return typeof n=="number"?n:n[t]||0}const c5=new WeakMap;class h5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Mc(v).point)},c=(v,E)=>{const{drag:A,dragPropagation:D,onDragStart:O}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yU(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(j=>{let B=this.getAxisMotionValue(j).get()||0;if(ir.test(B)){const{projection:q}=this.visualElement;if(q&&q.layout){const it=q.layout.layoutBox[j];it&&(B=dn(it)*(parseFloat(B)/100))}}this.originPoint[j]=B}),O&&ue.postRender(()=>O(v,E)),by(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},f=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:O,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=E;if(D&&this.currentDirection===null){this.currentDirection=f5(j),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),I&&I(v,E)},p=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>$n(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new yI(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:gI(this.visualElement)})}stop(t,e){const r=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ue.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:a}=this.getProps();if(!r||!_f(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=r5(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ko(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=s5(r.layoutBox,t):this.constraints=!1,this.elastic=u5(e),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$n(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=l5(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ko(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d6(r,a.root,this.visualElement.getTransformPagePoint());let c=a5(a.layout.layoutBox,l);if(e){const f=e(c6(c));this.hasMutatedConstraints=!!f,f&&(c=eI(f))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},m=$n(y=>{if(!_f(y,e,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:r?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(m).then(f)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return by(this.visualElement,t),r.start(h_(t,r,0,e,this.visualElement,!1))}stopAnimation(){$n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$n(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[e];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$n(e=>{const{drag:r}=this.getProps();if(!_f(e,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[e];l.set(t[e]-he(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(e)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$n(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();a[c]=o5({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$n(c=>{if(!_f(c,t,null))return;const f=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];f.set(he(p,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;c5.set(this.visualElement,this);const t=this.visualElement.current,e=Wu(t,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ko(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=fc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&($n(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=wy,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function _f(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function f5(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class d5 extends Ks{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new h5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const vA=n=>(t,e)=>{n&&ue.postRender(()=>n(t,e))};class p5 extends Ks{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new yI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:vA(t),onStart:vA(e),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let vg=!1;class m5 extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),r&&r.register&&a&&r.register(l),vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,vg=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),t_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:a}=t;vg=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _I(n){const[t,e]=BC(),r=M.useContext(Vv);return z.jsx(m5,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(JC),isPresent:t,safeToRemove:e})}function g5(n,t,e){const r=ln(n)?n:ll(n);return r.start(h_("",r,t,e)),r.animation}const y5=(n,t)=>n.depth-t.depth;class v5{constructor(){this.children=[],this.isDirty=!1}add(t){kv(this.children,t),this.isDirty=!0}remove(t){Lv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y5),this.isDirty=!1,this.children.forEach(t)}}function _5(n,t){const e=bn.now(),r=({timestamp:a})=>{const l=a-e;l>=t&&(zs(r),n(l-t))};return ue.setup(r,!0),()=>zs(r)}const TI=["TopLeft","TopRight","BottomLeft","BottomRight"],T5=TI.length,_A=n=>typeof n=="string"?parseFloat(n):n,TA=n=>typeof n=="number"||Et.test(n);function E5(n,t,e,r,a,l){a?(n.opacity=he(0,e.opacity??1,S5(r)),n.opacityExit=he(t.opacity??1,0,b5(r))):l&&(n.opacity=he(t.opacity??1,e.opacity??1,r));for(let c=0;c<T5;c++){const f=`border${TI[c]}Radius`;let p=EA(t,f),m=EA(e,f);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||TA(p)===TA(m)?(n[f]=Math.max(he(_A(p),_A(m),r),0),(ir.test(m)||ir.test(p))&&(n[f]+="%")):n[f]=m}(t.rotate||e.rotate)&&(n.rotate=he(t.rotate||0,e.rotate||0,r))}function EA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const S5=EI(0,.5,aC),b5=EI(.5,.95,ti);function EI(n,t,e){return r=>r<n?0:r>t?1:e(lc(n,t,r))}function SA(n,t){n.min=t.min,n.max=t.max}function pi(n,t){SA(n.x,t.x),SA(n.y,t.y)}function bA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function AA(n,t,e,r,a){return n-=t,n=cd(n,1/e,r),a!==void 0&&(n=cd(n,1/a,r)),n}function A5(n,t=0,e=1,r=.5,a,l=n,c=n){if(ir.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=he(l.min,l.max,r);n===l&&(f-=t),n.min=AA(n.min,t,e,f,a),n.max=AA(n.max,t,e,f,a)}function wA(n,t,[e,r,a],l,c){A5(n,t[e],t[r],t[a],t.scale,l,c)}const w5=["x","scaleX","originX"],R5=["y","scaleY","originY"];function RA(n,t,e,r){wA(n.x,t,w5,e?e.x:void 0,r?r.x:void 0),wA(n.y,t,R5,e?e.y:void 0,r?r.y:void 0)}function CA(n){return n.translate===0&&n.scale===1}function SI(n){return CA(n.x)&&CA(n.y)}function IA(n,t){return n.min===t.min&&n.max===t.max}function C5(n,t){return IA(n.x,t.x)&&IA(n.y,t.y)}function xA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function bI(n,t){return xA(n.x,t.x)&&xA(n.y,t.y)}function DA(n){return dn(n.x)/dn(n.y)}function MA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class I5{constructor(){this.members=[]}add(t){kv(this.members,t),t.scheduleRender()}remove(t){if(Lv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let r;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x5(n,t,e){let r="";const a=n.x.translate/t.x,l=n.y.translate/t.y,c=e?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:E,skewX:A,skewY:D}=e;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const f=n.x.scale*t.x,p=n.y.scale*t.y;return(f!==1||p!==1)&&(r+=`scale(${f}, ${p})`),r||"none"}const _g=["","X","Y","Z"],D5=1e3;let M5=0;function Tg(n,t,e,r){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),r&&(r[n]=0))}function AI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=uI(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ue,!(a||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&AI(r)}function wI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t?.()){this.id=M5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O5),this.nodes.forEach(U5),this.nodes.forEach(z5),this.nodes.forEach(N5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new v5)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new jv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=jC(c)&&!bU(c),this.instance=c;const{layoutId:f,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{v=window.innerWidth}),n(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=_5(E,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(OA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||q5,{onLayoutAnimationStart:O,onLayoutAnimationComplete:I}=m.getProps(),j=!this.targetLayout||!bI(this.targetLayout,A),B=!v&&E;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Zv(D,"layout"),onPlay:O,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,B)}else v||OA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(VA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L5),this.nodes.forEach(P5),this.nodes.forEach(V5)):this.nodes.forEach(VA),this.clearAllSnapshots();const f=bn.now();Je.delta=jr(0,1e3/60,f-Je.timestamp),Je.timestamp=f,Je.isProcessing=!0,lg.update.process(Je),lg.preRender.process(Je),lg.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k5),this.sharedNodes.forEach(B5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!SI(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ra(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),G5(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ze();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(K5))){const{scroll:m}=this.root;m&&(Yo(f.x,m.offset.x),Yo(f.y,m.offset.y))}return f}removeElementScroll(c){const f=ze();if(pi(f,c),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&pi(f,c),Yo(f.x,y.offset.x),Yo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const p=ze();pi(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Wo(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ra(y.latestValues)&&Wo(p,y.latestValues)}return Ra(this.latestValues)&&Wo(p,this.latestValues),p}removeTransform(c){const f=ze();pi(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Ra(m.latestValues))continue;_y(m.latestValues)&&m.updateSnapshot();const y=ze(),v=m.measurePageBox();pi(y,v),RA(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ra(this.latestValues)&&RA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Je.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),iI(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_y(this.parent.latestValues)||nI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),hd(this.relativeTargetOrigin,f,p),pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;pi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;f6(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bA(this.prevProjectionDelta.x,this.projectionDelta.x),bA(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!MA(this.projectionDelta.x,this.prevProjectionDelta.x)||!MA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(c,f=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},v=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=ze(),A=p?p.source:void 0,D=this.layout?this.layout.source:void 0,O=A!==D,I=this.getStack(),j=!I||I.members.length<=1,B=!!(O&&!j&&this.options.crossfade===!0&&!this.path.some(H5));this.animationProgress=0;let q;this.mixTargetDelta=it=>{const st=it/1e3;NA(v.x,c.x,st),NA(v.y,c.y,st),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hd(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F5(this.relativeTarget,this.relativeTargetOrigin,E,st),q&&C5(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ze()),pi(q,this.relativeTarget)),O&&(this.animationValues=y,E5(y,m,this.latestValues,st,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ll(0)),this.currentAnimation=g5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:m,latestValues:y}=c;if(!(!f||!p||!m)){if(this!==c&&this.layout&&m&&RI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||ze();const v=dn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const E=dn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}pi(f,p),Wo(f,y),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new I5),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const m={};p.z&&Tg("z",c,m,this.animationValues);for(let y=0;y<_g.length;y++)Tg(`rotate${_g[y]}`,c,m,this.animationValues),Tg(`skew${_g[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Nf(f?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Nf(f?.pointerEvents)||""),this.hasProjected&&!Ra(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=x5(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in vy){if(y[D]===void 0)continue;const{correct:O,applyTo:I,isCSSVariable:j}=vy[D],B=v==="none"?y[D]:O(y[D],m);if(I){const q=I.length;for(let it=0;it<q;it++)c[I[it]]=B}else j?this.options.visualElement.renderState.vars[D]=B:c[D]=B}this.options.layoutId&&(c.pointerEvents=m===this?Nf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(PA),this.root.sharedNodes.clear()}}}function P5(n){n.updateLayout()}function V5(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?$n(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=dn(v);v.min=e[y].min,v.max=v.min+E}):RI(a,t.layoutBox,e)&&$n(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=dn(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const c=Xo();Xu(c,e,t.layoutBox);const f=Xo();l?Xu(f,n.applyTransform(r,!0),t.measuredBox):Xu(f,e,t.layoutBox);const p=!SI(c);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const A=ze();hd(A,t.layoutBox,v.layoutBox);const D=ze();hd(D,e,E.layoutBox),bI(A,D)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function O5(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function N5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function k5(n){n.clearSnapshot()}function PA(n){n.clearMeasurements()}function VA(n){n.isLayoutDirty=!1}function L5(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function OA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function U5(n){n.resolveTargetDelta()}function z5(n){n.calcProjection()}function j5(n){n.resetSkewAndRotation()}function B5(n){n.removeLeadSnapshot()}function NA(n,t,e){n.translate=he(t.translate,0,e),n.scale=he(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function kA(n,t,e,r){n.min=he(t.min,e.min,r),n.max=he(t.max,e.max,r)}function F5(n,t,e,r){kA(n.x,t.x,e.x,r),kA(n.y,t.y,e.y,r)}function H5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const q5={duration:.45,ease:[.4,0,.1,1]},LA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),UA=LA("applewebkit/")&&!LA("chrome/")?Math.round:ti;function zA(n){n.min=UA(n.min),n.max=UA(n.max)}function G5(n){zA(n.x),zA(n.y)}function RI(n,t,e){return n==="position"||n==="preserve-aspect"&&!J6(DA(t),DA(e),.2)}function K5(n){return n!==n.root&&n.scroll?.wasRoot}const Y5=wI({attachResizeListener:(n,t)=>fc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},CI=wI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Eg.current){const n=new Y5({});n.mount(window),n.setOptions({layoutScroll:!0}),Eg.current=n}return Eg.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),W5={pan:{Feature:p5},drag:{Feature:d5,ProjectionNode:CI,MeasureLayout:_I}};function jA(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=r[a];l&&ue.postRender(()=>l(t,Mc(t)))}class X5 extends Ks{mount(){const{current:t}=this.node;t&&(this.unmount=vU(t,(e,r)=>(jA(this.node,r,"Start"),a=>jA(this.node,a,"End"))))}unmount(){}}class Q5 extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BA(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=r[a];l&&ue.postRender(()=>l(t,Mc(t)))}class $5 extends Ks{mount(){const{current:t}=this.node;t&&(this.unmount=SU(t,(e,r)=>(BA(this.node,r,"Start"),(a,{success:l})=>BA(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ry=new WeakMap,Sg=new WeakMap,Z5=n=>{const t=Ry.get(n.target);t&&t(n)},J5=n=>{n.forEach(Z5)};function tz({root:n,...t}){const e=n||document;Sg.has(e)||Sg.set(e,{});const r=Sg.get(e),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(J5,{root:n,...t})),r[a]}function ez(n,t,e){const r=tz(t);return Ry.set(n,e),r.observe(n),()=>{Ry.delete(n),r.unobserve(n)}}const nz={some:0,all:1};class iz extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:nz[a]},f=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=m?y:v;E&&E(p)};return ez(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(rz(t,e))&&this.startObserver()}unmount(){}}function rz({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const sz={inView:{Feature:iz},tap:{Feature:$5},focus:{Feature:Q5},hover:{Feature:X5}},az={layout:{ProjectionNode:CI,MeasureLayout:_I}},oz={...Y6,...sz,...W5,...az},gi=u6(oz,S6);function lz(){const n=ja(),[t,e]=M.useState([]),[r,a]=M.useState(!0),[l,c]=M.useState(null),[f,p]=M.useState(!1);M.useEffect(()=>{m()},[]);const m=async()=>{try{const v=jR(Ev(kn,"mainSessions"),Eb("semester","==",1),Eb("isActive","==",!0),BR("sessionNumber","asc")),E=await Mv(v);e(E.docs.map(A=>({id:A.id,...A.data()})))}catch(v){console.error(v)}finally{a(!1)}},y=v=>{c(l===v?null:v)};return z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsxs("div",{style:Qn.page,children:[z.jsxs("div",{style:Qn.menuWrapper,children:[z.jsx(gi.div,{whileHover:{scale:1.03},onClick:()=>n("/quiz/1"),style:{...Qn.menuCard,background:"linear-gradient(135deg,#f97316,#fb923c)"},children:" Fun Quiz"}),z.jsx(gi.div,{whileHover:{scale:1.03},onClick:()=>p(!f),style:{...Qn.menuCard,background:"linear-gradient(135deg,#2563eb,#3b82f6)"},children:" Main Session"}),z.jsx(gi.div,{whileHover:{scale:1.03},onClick:()=>n("/leaderboard/1"),style:{...Qn.menuCard,background:"linear-gradient(135deg,#10b981,#34d399)"},children:" Leaderboard"})]}),z.jsx(yy,{children:f&&z.jsx(gi.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0},style:Qn.sessionGrid,children:t.map((v,E)=>z.jsxs(gi.div,{whileHover:{scale:1.02},style:Qn.sessionCard,onClick:()=>y(v.id),children:[z.jsx("div",{style:Qn.badge,children:v.sessionNumber}),z.jsx("h3",{style:Qn.sessionTitle,children:v.title}),z.jsx(yy,{children:l===v.id&&z.jsx(gi.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{marginTop:10},children:z.jsxs("div",{style:Qn.sessionLinks,children:[v.moduleUrl&&z.jsx("a",{href:v.moduleUrl,target:"_blank",rel:"noreferrer",style:Qn.moduleBtn,children:" Modul"}),v.meetingUrl&&z.jsx("a",{href:v.meetingUrl,target:"_blank",rel:"noreferrer",style:Qn.meetingBtn,children:" Meeting"})]})})})]},v.id))})})]})]})}const Qn={page:{padding:16,maxWidth:1200,margin:"0 auto"},menuWrapper:{display:"flex",flexWrap:"wrap",gap:16,justifyContent:"center",marginTop:30},menuCard:{flex:"1 1 220px",maxWidth:300,minWidth:220,padding:"18px 20px",borderRadius:20,color:"#fff",fontWeight:"bold",fontSize:18,textAlign:"center",cursor:"pointer",boxShadow:"0 10px 25px rgba(0,0,0,.15)"},sessionGrid:{marginTop:40,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16},sessionCard:{background:"#fff",borderRadius:20,padding:18,position:"relative",borderTop:"6px solid #2563eb",cursor:"pointer",boxShadow:"0 10px 25px rgba(0,0,0,.1)"},badge:{position:"absolute",top:-10,left:-10,width:30,height:30,borderRadius:"50%",background:"#facc15",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},sessionTitle:{fontSize:15,fontWeight:600,color:"#2563eb"},sessionLinks:{display:"flex",flexDirection:"column",gap:8},moduleBtn:{background:"#2563eb",color:"#fff",padding:"8px",borderRadius:8,textAlign:"center",textDecoration:"none",fontWeight:600},meetingBtn:{background:"#facc15",color:"#1f2937",padding:"8px",borderRadius:8,textAlign:"center",textDecoration:"none",fontWeight:600}};var Cy=function(n,t){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},Cy(n,t)};function uz(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cy(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ge=function(){return Ge=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Ge.apply(this,arguments)};var bg,FA;function cz(){if(FA)return bg;FA=1;var n=!1,t,e,r,a,l,c,f,p,m,y,v,E,A,D,O;function I(){if(!n){n=!0;var B=navigator.userAgent,q=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(B),it=/(Mac OS X)|(Windows)|(Linux)/.exec(B);if(E=/\b(iPhone|iP[ao]d)/.exec(B),A=/\b(iP[ao]d)/.exec(B),y=/Android/i.exec(B),D=/FBAN\/\w+;/i.exec(B),O=/Mobile/i.exec(B),v=!!/Win64/.exec(B),q){t=q[1]?parseFloat(q[1]):q[5]?parseFloat(q[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var st=/(?:Trident\/(\d+.\d+))/.exec(B);c=st?parseFloat(st[1])+4:t,e=q[2]?parseFloat(q[2]):NaN,r=q[3]?parseFloat(q[3]):NaN,a=q[4]?parseFloat(q[4]):NaN,a?(q=/(?:Chrome\/(\d+\.\d+))/.exec(B),l=q&&q[1]?parseFloat(q[1]):NaN):l=NaN}else t=e=r=l=a=NaN;if(it){if(it[1]){var at=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(B);f=at?parseFloat(at[1].replace("_",".")):!0}else f=!1;p=!!it[2],m=!!it[3]}else f=p=m=!1}}var j={ie:function(){return I()||t},ieCompatibilityMode:function(){return I()||c>t},ie64:function(){return j.ie()&&v},firefox:function(){return I()||e},opera:function(){return I()||r},webkit:function(){return I()||a},safari:function(){return j.webkit()},chrome:function(){return I()||l},windows:function(){return I()||p},osx:function(){return I()||f},linux:function(){return I()||m},iphone:function(){return I()||E},mobile:function(){return I()||E||A||y||O},nativeApp:function(){return I()||D},android:function(){return I()||y},ipad:function(){return I()||A}};return bg=j,bg}var Ag,HA;function hz(){if(HA)return Ag;HA=1;var n=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:n,canUseWorkers:typeof Worker<"u",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};return Ag=t,Ag}var wg,qA;function fz(){if(qA)return wg;qA=1;var n=hz(),t;n.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function e(r,a){if(!n.canUseDOM||a&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var f=document.createElement("div");f.setAttribute(l,"return;"),c=typeof f[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return wg=e,wg}var Rg,GA;function dz(){if(GA)return Rg;GA=1;var n=cz(),t=fz(),e=10,r=40,a=800;function l(c){var f=0,p=0,m=0,y=0;return"detail"in c&&(p=c.detail),"wheelDelta"in c&&(p=-c.wheelDelta/120),"wheelDeltaY"in c&&(p=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(f=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(f=p,p=0),m=f*e,y=p*e,"deltaY"in c&&(y=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||y)&&c.deltaMode&&(c.deltaMode==1?(m*=r,y*=r):(m*=a,y*=a)),m&&!f&&(f=m<1?-1:1),y&&!p&&(p=y<1?-1:1),{spinX:f,spinY:p,pixelX:m,pixelY:y}}return l.getEventType=function(){return n.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Rg=l,Rg}var Cg,KA;function pz(){return KA||(KA=1,Cg=dz()),Cg}var mz=pz();const gz=Iy(mz);function yz(n,t,e,r,a,l){l===void 0&&(l=0);var c=cl(n,t,l),f=c.width,p=c.height,m=Math.min(f,e),y=Math.min(p,r);return m>y*a?{width:y*a,height:y}:{width:m,height:m/a}}function vz(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function Mu(n,t,e,r,a){a===void 0&&(a=0);var l=cl(t.width,t.height,a),c=l.width,f=l.height;return{x:YA(n.x,c,e.width,r),y:YA(n.y,f,e.height,r)}}function YA(n,t,e,r){var a=t*r/2-e/2;return Fd(n,-a,a)}function WA(n,t){return Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2))}function XA(n,t){return Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI}function _z(n,t,e,r,a,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var f=c?Tz:Ez,p=cl(t.width,t.height,l),m=cl(t.naturalWidth,t.naturalHeight,l),y={x:f(100,((p.width-e.width/a)/2-n.x/a)/p.width*100),y:f(100,((p.height-e.height/a)/2-n.y/a)/p.height*100),width:f(100,e.width/p.width*100/a),height:f(100,e.height/p.height*100/a)},v=Math.round(f(m.width,y.width*m.width/100)),E=Math.round(f(m.height,y.height*m.height/100)),A=m.width>=m.height*r,D=A?{width:Math.round(E*r),height:E}:{width:v,height:Math.round(v/r)},O=Ge(Ge({},D),{x:Math.round(f(m.width-D.width,y.x*m.width/100)),y:Math.round(f(m.height-D.height,y.y*m.height/100))});return{croppedAreaPercentages:y,croppedAreaPixels:O}}function Tz(n,t){return Math.min(n,Math.max(0,t))}function Ez(n,t){return t}function Sz(n,t,e,r,a,l){var c=cl(t.width,t.height,e),f=Fd(r.width/c.width*(100/n.width),a,l),p={x:f*c.width/2-r.width/2-c.width*f*(n.x/100),y:f*c.height/2-r.height/2-c.height*f*(n.y/100)};return{crop:p,zoom:f}}function bz(n,t,e){var r=vz(t);return e.height>e.width?e.height/(n.height*r):e.width/(n.width*r)}function Az(n,t,e,r,a,l){e===void 0&&(e=0);var c=cl(t.naturalWidth,t.naturalHeight,e),f=Fd(bz(n,t,r),a,l),p=r.height>r.width?r.height/n.height:r.width/n.width,m={x:((c.width-n.width)/2-n.x)*p,y:((c.height-n.height)/2-n.y)*p};return{crop:m,zoom:f}}function QA(n,t){return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}function wz(n){return n*Math.PI/180}function cl(n,t,e){var r=wz(e);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*t)}}function Fd(n,t,e){return Math.min(Math.max(n,t),e)}function Tf(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Rz=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Cz=1,Iz=3,xz=1,Dz=(function(n){uz(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cropperRef=M.createRef(),e.imageRef=M.createRef(),e.videoRef=M.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var a=Sz(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),l=a.crop,c=a.zoom;e.props.onCropChange(l),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var f=Az(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),l=f.crop,c=f.zoom;e.props.onCropChange(l),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var r,a,l,c,f,p,m=e.imageRef.current||e.videoRef.current;if(m&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var y=e.containerRect.width/e.containerRect.height,v=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,E=((l=e.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,A=m.offsetWidth<v||m.offsetHeight<E,D=v/E,O=void 0;if(A)switch(e.state.mediaObjectFit){default:case"contain":O=y>D?{width:e.containerRect.height*D,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/D};break;case"horizontal-cover":O={width:e.containerRect.width,height:e.containerRect.width/D};break;case"vertical-cover":O={width:e.containerRect.height*D,height:e.containerRect.height};break}else O={width:m.offsetWidth,height:m.offsetHeight};e.mediaSize=Ge(Ge({},O),{naturalWidth:v,naturalHeight:E}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var I=e.props.cropSize?e.props.cropSize:yz(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((f=e.state.cropSize)===null||f===void 0?void 0:f.height)!==I.height||((p=e.state.cropSize)===null||p===void 0?void 0:p.width)!==I.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(I),e.setState({cropSize:I},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(I),I}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(t.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(t.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(t.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(t.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var a=t.getMousePoint(r),l=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(l,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+r.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var a,l,c=r.x,f=r.y;e.dragStartPosition={x:c,y:f},e.dragStartCrop=Ge({},e.props.crop),(l=(a=e.props).onInteractionStart)===null||l===void 0||l.call(a)},e.onDrag=function(r){var a=r.x,l=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||l===void 0)){var c=a-e.dragStartPosition.x,f=l-e.dragStartPosition.y,p={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+f},m=e.props.restrictPosition?Mu(p,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):p;e.props.onCropChange(m)}}))},e.onDragStopped=function(){var r,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(r=e.props).onInteractionEnd)===null||a===void 0||a.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var a=t.getMousePoint(r),l=gz(r).pixelY,c=e.props.zoom-l*e.props.zoomSpeed/200;e.setNewZoom(c,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var f,p;return(p=(f=e.props).onInteractionStart)===null||p===void 0?void 0:p.call(f)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var f,p;return(p=(f=e.props).onInteractionEnd)===null||p===void 0?void 0:p.call(f)})},250)}},e.getPointOnContainer=function(r,a){var l=r.x,c=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(l-a.x),y:e.containerRect.height/2-(c-a.y)}},e.getPointOnMedia=function(r){var a=r.x,l=r.y,c=e.props,f=c.crop,p=c.zoom;return{x:(a+f.x)/p,y:(l+f.y)/p}},e.setNewZoom=function(r,a,l){var c=l===void 0?{}:l,f=c.shouldUpdatePosition,p=f===void 0?!0:f;if(!(!e.state.cropSize||!e.props.onZoomChange)){var m=Fd(r,e.props.minZoom,e.props.maxZoom);if(p){var y=e.getPointOnContainer(a,e.containerPosition),v=e.getPointOnMedia(y),E={x:v.x*m-y.x,y:v.y*m-y.y},A=e.props.restrictPosition?Mu(E,e.mediaSize,e.state.cropSize,m,e.props.rotation):E;e.props.onCropChange(A)}e.props.onZoomChange(m)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Mu(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return _z(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,l=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,l),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,l)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,l=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,l)}},e.recomputeCropPosition=function(){var r,a;if(e.state.cropSize){var l=e.props.crop;if(e.isInitialized&&(!((r=e.previousCropSize)===null||r===void 0)&&r.width)&&(!((a=e.previousCropSize)===null||a===void 0)&&a.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var f=e.state.cropSize.width/e.previousCropSize.width,p=e.state.cropSize.height/e.previousCropSize.height;l={x:e.props.crop.x*f,y:e.props.crop.y*p}}}var m=e.props.restrictPosition?Mu(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.previousCropSize=e.state.cropSize,e.props.onCropChange(m),e.emitCropData()}},e.onKeyDown=function(r){var a,l,c=e.props,f=c.crop,p=c.onCropChange,m=c.keyboardStep,y=c.zoom,v=c.rotation,E=m;if(e.state.cropSize){r.shiftKey&&(E*=.2);var A=Ge({},f);switch(r.key){case"ArrowUp":A.y-=E,r.preventDefault();break;case"ArrowDown":A.y+=E,r.preventDefault();break;case"ArrowLeft":A.x-=E,r.preventDefault();break;case"ArrowRight":A.x+=E,r.preventDefault();break;default:return}e.props.restrictPosition&&(A=Mu(A,e.mediaSize,e.state.cropSize,y,v)),r.repeat||(l=(a=e.props).onInteractionStart)===null||l===void 0||l.call(a),p(A)}},e.onKeyUp=function(r){var a,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(l=(a=e.props).onInteractionEnd)===null||l===void 0||l.call(a)},e}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Rz,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var r,a,l,c,f,p,m,y,v;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((l=e.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((f=e.crop)===null||f===void 0?void 0:f.x)!==((p=this.props.crop)===null||p===void 0?void 0:p.x)||((m=e.crop)===null||m===void 0?void 0:m.y)!==((y=this.props.crop)===null||y===void 0?void 0:y.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var E=this.getObjectFit();E!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:E},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,r=e.cropSize,a=e.aspect;return r?r.width/r.height:a},t.prototype.getObjectFit=function(){var e,r,a,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var f=this.containerRect.width/this.containerRect.height,p=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,y=p/m;return y<f?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var r=t.getTouchPoint(e.touches[0]),a=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=WA(r,a),this.lastPinchRotation=XA(r,a),this.onDragStart(QA(r,a))},t.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var a=t.getTouchPoint(e.touches[0]),l=t.getTouchPoint(e.touches[1]),c=QA(a,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var f=WA(a,l),p=r.props.zoom*(f/r.lastPinchDistance);r.setNewZoom(p,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=f;var m=XA(a,l),y=r.props.rotation+(m-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(y),r.lastPinchRotation=m})}},t.prototype.render=function(){var e=this,r,a=this.props,l=a.image,c=a.video,f=a.mediaProps,p=a.cropperProps,m=a.transform,y=a.crop,v=y.x,E=y.y,A=a.rotation,D=a.zoom,O=a.cropShape,I=a.showGrid,j=a.roundCropAreaPixels,B=a.style,q=B.containerStyle,it=B.cropAreaStyle,st=B.mediaStyle,at=a.classes,C=at.containerClassName,R=at.cropAreaClassName,x=at.mediaClassName,k=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return M.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(F){return e.containerRef=F},"data-testid":"container",style:q,className:Tf("reactEasyCrop_Container",C)},l?M.createElement("img",Ge({alt:"",className:Tf("reactEasyCrop_Image",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},f,{src:l,ref:this.imageRef,style:Ge(Ge({},st),{transform:m||"translate(".concat(v,"px, ").concat(E,"px) rotate(").concat(A,"deg) scale(").concat(D,")")}),onLoad:this.onMediaLoad})):c&&M.createElement("video",Ge({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Tf("reactEasyCrop_Video",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x)},f,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Ge(Ge({},st),{transform:m||"translate(".concat(v,"px, ").concat(E,"px) rotate(").concat(A,"deg) scale(").concat(D,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(N){return M.createElement("source",Ge({key:N.src},N))})),this.state.cropSize&&M.createElement("div",Ge({ref:this.cropperRef,style:Ge(Ge({},it),{width:j?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:j?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Tf("reactEasyCrop_CropArea",O==="round"&&"reactEasyCrop_CropAreaRound",I&&"reactEasyCrop_CropAreaGrid",R)},p)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Iz,minZoom:Cz,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:xz},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t})(M.Component);function Mz(n,t){const e=document.createElement("canvas"),r=new Image;return r.src=n,new Promise((a,l)=>{r.onload=()=>{const c=r.naturalWidth/r.width,f=r.naturalHeight/r.height;e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(r,t.x*c,t.y*f,t.width*c,t.height*f,0,0,t.width,t.height),e.toBlob(m=>{a(m)},"image/jpeg")},r.onerror=l})}function Pz({onUpload:n,currentPhoto:t}){const[e,r]=M.useState(null),[a,l]=M.useState({x:0,y:0}),[c,f]=M.useState(1),[p,m]=M.useState(null),[y,v]=M.useState(!1),E=M.useRef(),A="dr1xnzptv",D="photo_profile1",O=()=>E.current.click(),I=()=>{n(null),r(null)},j=it=>{const st=it.target.files[0];if(!st)return;const at=new FileReader;at.onload=()=>r(at.result),at.readAsDataURL(st)},B=M.useCallback((it,st)=>{m(st)},[]),q=async()=>{if(!(!e||!p)){v(!0);try{const it=await Mz(e,p),st=new FormData;st.append("file",it),st.append("upload_preset",D);const at=await fetch(`https://api.cloudinary.com/v1_1/${A}/upload`,{method:"POST",body:st});if(!at.ok)throw new Error("Upload gagal");const C=await at.json();n(C.secure_url),r(null)}catch(it){console.error(it),alert("Upload gagal!")}finally{v(!1)}}};return z.jsxs("div",{style:{textAlign:"center",marginBottom:16,padding:"0 12px"},children:[z.jsx("div",{style:{width:"clamp(80px, 25vw, 120px)",height:"clamp(80px, 25vw, 120px)",borderRadius:"50%",backgroundColor:"#ccc",backgroundImage:e?`url(${e})`:t?`url(${t})`:void 0,backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #facc15",margin:"0 auto 10px",cursor:"pointer"}}),z.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:10,flexWrap:"wrap"},children:[z.jsx("button",{onClick:O,style:{padding:"6px 14px",borderRadius:6,border:"none",backgroundColor:"#2563eb",color:"#fff",cursor:"pointer"},children:"Upload"}),z.jsx("button",{onClick:I,style:{padding:"6px 14px",borderRadius:6,border:"1px solid #ccc",backgroundColor:"#fff",cursor:"pointer"},children:"Remove"})]}),z.jsx("input",{type:"file",ref:E,onChange:j,style:{display:"none"},accept:"image/*"}),e&&z.jsxs("div",{style:{marginTop:12},children:[z.jsx("div",{style:{position:"relative",width:"90vw",maxWidth:320,aspectRatio:"1 / 1",margin:"0 auto"},children:z.jsx(Dz,{image:e,crop:a,zoom:c,aspect:1,onCropChange:l,onZoomChange:f,onCropComplete:B})}),z.jsx("button",{onClick:q,disabled:y,style:{marginTop:10,padding:"8px 16px",borderRadius:6,border:"none",backgroundColor:"#2563eb",color:"#fff",cursor:"pointer",width:"100%",maxWidth:200},children:y?"Uploading...":"Upload"})]})]})}function Vz(){const[n,t]=M.useState(null),[e,r]=M.useState(!0),[a,l]=M.useState(""),[c,f]=M.useState("");M.useEffect(()=>{(async()=>{const y=Yi.currentUser;if(!y)return;const v=sr(kn,"students",y.uid),E=await Ya(v);if(E.exists()){const A=E.data();l(A.nickname||""),f(A.bio||""),t(A.photoUrl||null)}else await nd(v,{email:y.email,nickname:"",bio:"",createdAt:id()});r(!1)})()},[]);const p=async()=>{const m=Yi.currentUser;m&&(await nd(sr(kn,"students",m.uid),{nickname:a,bio:c,photoUrl:n,updatedAt:id()},{merge:!0}),alert("Profile updated"))};return e?z.jsx("p",{style:{textAlign:"center",marginTop:60},children:"Loading profile..."}):z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsx("div",{style:{width:"100%",padding:"20px 16px",display:"flex",justifyContent:"center"},children:z.jsxs("div",{style:{width:"100%",maxWidth:640},children:[z.jsxs(gi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{background:"linear-gradient(135deg, #2563eb, #facc15)",borderRadius:24,padding:24,textAlign:"center",color:"#fff",boxShadow:"0 20px 40px rgba(0,0,0,0.25)"},children:[z.jsx(Pz,{onUpload:t,currentPhoto:n}),z.jsx("h2",{style:{marginTop:12,fontSize:24,fontWeight:"bold"},children:a||"Anonymous"}),z.jsx("p",{style:{marginTop:10,backgroundColor:"#facc15",color:"#1e293b",padding:"10px 14px",borderRadius:12,fontStyle:"italic",fontSize:14,display:"inline-block",maxWidth:"100%",wordBreak:"break-word"},children:c||"No bio available"})]}),z.jsxs(gi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{backgroundColor:"#fff",borderRadius:16,padding:20,marginTop:24,boxShadow:"0 12px 24px rgba(0,0,0,0.15)"},children:[z.jsx("label",{style:Pu.label,children:"Nickname"}),z.jsx("input",{value:a,onChange:m=>l(m.target.value),placeholder:"Your nickname",style:Pu.input}),z.jsx("label",{style:{...Pu.label,marginTop:16},children:"Kata-kata hari ini"}),z.jsx("textarea",{value:c,onChange:m=>f(m.target.value),rows:4,placeholder:"Tulis sesuatu...",style:Pu.textarea}),z.jsx("button",{onClick:p,style:Pu.saveBtn,children:"Save Profile"})]})]})})]})}const Pu={label:{display:"block",fontWeight:"bold",marginBottom:6,color:"#2563eb",fontSize:14},input:{width:"100%",padding:12,borderRadius:10,border:"2px solid #cbd5e1",fontSize:14,outline:"none"},textarea:{width:"100%",padding:12,borderRadius:10,border:"2px solid #cbd5e1",fontSize:14,resize:"none",outline:"none"},saveBtn:{marginTop:20,width:"100%",padding:14,backgroundColor:"#2563eb",color:"#fff",fontWeight:"bold",border:"none",borderRadius:12,cursor:"pointer",fontSize:15}},Ig="/elearning-react/",Oz={title:"Fun Quiz Week 1",semester:1,questions:[{question:"",audio:`${Ig}audio/session1.mp3`,options:["Elephant","Giraffe","Blue Whale","Shark"],answer:2},{question:"",audio:`${Ig}audio/session1-2.mp3`,options:["Thailand","South Korea","China","Japan"],answer:3},{question:"Why is Walt shouting??",video:`${Ig}video/walterScream.mp4`,options:["because his wife was cheating","because his wife was given money by Beneke","because his wife gave Walt`s money to Beneke","because Walt was tired from work"],answer:2},{question:"What is the right word to describe Walt`s feelings?",video:"",options:["Pleased","tranquill","Terrified","Indignant"],answer:3},{question:'his wife said "I had to" what does that mean?',video:"",options:["she must","she`s don`t care","she`s pregnant","she`s okay"],answer:0}]};function Nz(){const{semester:n}=sw(),[t,e]=M.useState(null),[r,a]=M.useState({}),[l,c]=M.useState(!1),[f,p]=M.useState(0),[m,y]=M.useState(!1),[v,E]=M.useState(!0);M.useEffect(()=>{const O=Yi.onAuthStateChanged(async I=>{if(!I){E(!1);return}const j=sr(kn,"quizResults",I.uid),B=await Ya(j);if(B.exists()){const q=B.data(),it=`semester_${n}`;q.quizzes?.[it]?.submittedAt&&(y(!0),c(!0),p(q.quizzes[it].score),a(q.quizzes[it].answers))}e(Oz),E(!1)});return()=>O()},[n]);const A=(O,I)=>{l||m||a(j=>({...j,[O]:I}))},D=async()=>{let O=0;t.questions.forEach((j,B)=>{r[B]===j.answer&&O++}),p(O),c(!0),y(!0);const I=Yi.currentUser;I&&await nd(sr(kn,"quizResults",I.uid),{email:I.email,quizzes:{[`semester_${n}`]:{score:O,total:t.questions.length,answers:r,submittedAt:id()}}},{merge:!0})};return v?z.jsx("p",{children:"Loading..."}):t?z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsxs("div",{style:{padding:20,maxWidth:900,margin:"0 auto"},children:[z.jsx("h1",{style:{marginBottom:30},children:t.title}),t.questions.map((O,I)=>z.jsxs("div",{style:{marginBottom:40},children:[z.jsxs("b",{children:[I+1,". ",O.question]}),O.audio&&z.jsx("audio",{controls:!0,style:{display:"block",margin:"10px 0"},children:z.jsx("source",{src:O.audio,type:"audio/mpeg"})}),O.video&&z.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,margin:"16px 0 30px"},children:[z.jsxs("video",{controls:!0,style:{width:"100%",maxWidth:260,borderRadius:10,boxShadow:"0 6px 16px rgba(0,0,0,0.2)"},children:[z.jsx("source",{src:O.video,type:"video/mp4"}),"Browser Anda tidak mendukung video."]}),z.jsx("div",{style:{flex:1,minWidth:220},children:z.jsxs("p",{style:{margin:0,fontSize:14,lineHeight:1.6,background:"#f8fafc",padding:12,borderRadius:10,borderLeft:"4px solid #2563eb"},children:[" ",z.jsx("b",{children:"Perhatian:"})," Cerita dalam video ini digunakan untuk menjawab soal nomor ",z.jsx("b",{children:"35"}),". Tonton dengan saksama sebelum memilih jawaban."]})})]}),O.options.map((j,B)=>{const q=r[I]===B,it=l&&B===O.answer,st=l&&q&&B!==O.answer;return z.jsx("div",{onClick:()=>A(I,B),style:{padding:12,marginTop:8,borderRadius:10,cursor:l?"default":"pointer",background:it?"#bbf7d0":st?"#fecaca":q?"#dbeafe":"#fff",border:"1px solid #cbd5e1",transition:"0.2s"},children:j},B)})]},I)),!l&&!m&&z.jsx("button",{onClick:D,style:{padding:"12px 24px",fontWeight:"bold",borderRadius:10,border:"none",background:"#2563eb",color:"#fff",cursor:"pointer"},children:"Submit"}),l&&z.jsxs("h2",{style:{marginTop:20},children:["Skor: ",f," / ",t.questions.length]})]})]}):z.jsx("p",{children:"Quiz tidak ditemukan"})}function kz(){const{semester:n}=sw(),t=n?Number(n):1,[e,r]=M.useState([]),[a,l]=M.useState(!0),[c,f]=M.useState(null);if(M.useEffect(()=>{(async()=>{try{const v=await Mv(Ev(kn,"quizResults")),E=`semester_${t}`,A=await Promise.all(v.docs.map(async D=>{const O=D.data().quizzes?.[E];if(!O)return null;const I=await Ya(sr(kn,"students",D.id)),j=I.exists()?I.data():{};return{uid:D.id,nickname:j.nickname||"Anonymous",bio:j.bio||"",photoUrl:j.photoUrl||"",score:O.score??0}}));r(A.filter(Boolean).sort((D,O)=>O.score-D.score))}catch(v){console.error(v)}finally{l(!1)}})()},[t]),a)return z.jsx("p",{style:{textAlign:"center",marginTop:40},children:"Loading leaderboard..."});const p=e.slice(0,3),m=e.slice(3);return z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsxs("div",{style:{padding:20,maxWidth:1200,margin:"0 auto"},children:[z.jsxs("h1",{style:{textAlign:"center",marginBottom:32,color:"#1e3a8a"},children:[" Leaderboard  Week ",t]}),z.jsx("div",{style:{display:"flex",gap:20,justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",marginBottom:40},children:p.map((y,v)=>{const E=["linear-gradient(135deg, #facc15, #fde047)","linear-gradient(135deg, #cbd5e1, #e5e7eb)","linear-gradient(135deg, #fbbf24, #fde68a)"],A=["","",""];return z.jsxs(gi.div,{whileHover:{scale:1.05,y:-6},onClick:()=>f(y),style:{width:220,maxWidth:"90vw",padding:20,borderRadius:22,background:E[v],textAlign:"center",cursor:"pointer",boxShadow:"0 16px 30px rgba(0,0,0,0.18)",position:"relative"},children:[z.jsx("div",{style:{position:"absolute",top:-14,left:"50%",transform:"translateX(-50%)",fontSize:26},children:A[v]}),z.jsx("div",{style:{width:88,height:88,borderRadius:"50%",margin:"0 auto 12px",backgroundImage:y.photoUrl?`url(${y.photoUrl})`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#e5e7eb",border:"4px solid white"}}),z.jsx("h3",{style:{margin:0,fontWeight:700},children:y.nickname}),z.jsx("div",{style:{fontSize:26,fontWeight:800,color:"#1e3a8a"},children:y.score}),z.jsx("div",{style:{fontSize:12,fontWeight:600},children:"SCORE"})]},y.uid)})}),m.length>0&&z.jsx("div",{style:{overflowX:"auto"},children:z.jsxs("table",{width:"100%",cellPadding:12,style:{minWidth:420,borderCollapse:"collapse",borderRadius:16,overflow:"hidden",boxShadow:"0 10px 24px rgba(0,0,0,0.08)"},children:[z.jsx("thead",{style:{background:"#1e40af",color:"#fff"},children:z.jsxs("tr",{children:[z.jsx("th",{children:"Rank"}),z.jsx("th",{children:"Nickname"}),z.jsx("th",{children:"Score"})]})}),z.jsx("tbody",{children:m.map((y,v)=>z.jsxs("tr",{onClick:()=>f(y),style:{cursor:"pointer"},children:[z.jsx("td",{children:v+4}),z.jsx("td",{children:y.nickname}),z.jsx("td",{children:y.score})]},y.uid))})]})}),z.jsx(yy,{children:c&&z.jsx(gi.div,{onClick:()=>f(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.55)",display:"flex",justifyContent:"center",alignItems:"center",padding:16,zIndex:9999},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:z.jsxs(gi.div,{onClick:y=>y.stopPropagation(),initial:{scale:.9},animate:{scale:1},exit:{scale:.9},style:{background:"#fff",padding:28,borderRadius:20,width:"100%",maxWidth:420,textAlign:"center"},children:[z.jsx("div",{style:{width:120,height:120,borderRadius:"50%",margin:"0 auto 16px",backgroundImage:c.photoUrl?`url(${c.photoUrl})`:void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#e5e7eb",border:"4px solid #1e40af"}}),z.jsx("h2",{style:{color:"#1e3a8a"},children:c.nickname}),z.jsx("p",{style:{color:"#6b7280",fontStyle:"italic"},children:c.bio||"No bio available"})]})})})]})]})}function Lz(){const n=ja();return z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsxs("div",{style:{padding:20},children:[z.jsx("h1",{children:" Admin Panel"}),z.jsx("ul",{style:{lineHeight:"2em"},children:z.jsx("li",{onClick:()=>n("/admin/edit-session"),style:{cursor:"pointer"},children:" Edit Session"})})]})]})}function Uz(){const[n,t]=M.useState([]),[e,r]=M.useState(!0),[a,l]=M.useState(null);M.useEffect(()=>{c()},[]);const c=async()=>{const m=jR(Ev(kn,"mainSessions"),BR("sessionNumber","asc")),v=(await Mv(m)).docs.map(E=>({id:E.id,...E.data()}));t(v),r(!1)},f=(m,y,v)=>{t(E=>E.map(A=>A.id===m?{...A,[y]:v}:A))},p=async m=>{try{l(m.id);const y=sr(kn,"mainSessions",m.id);await XL(y,{title:m.title,moduleUrl:m.moduleUrl,meetingUrl:m.meetingUrl,isActive:m.isActive}),alert(" Session berhasil disimpan")}catch(y){console.error(y),alert(" Gagal menyimpan")}finally{l(null)}};return z.jsxs(z.Fragment,{children:[z.jsx(_l,{}),z.jsxs("div",{style:{padding:20},children:[z.jsx("h2",{children:"Admin  Edit Main Sessions"}),e&&z.jsx("p",{children:"Loading sessions..."}),!e&&n.map(m=>z.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:8,padding:16,marginBottom:16},children:[z.jsxs("h3",{children:["#",m.sessionNumber]}),z.jsx("label",{children:"Judul"}),z.jsx("input",{type:"text",value:m.title,onChange:y=>f(m.id,"title",y.target.value),style:{width:"100%",marginBottom:8}}),z.jsx("label",{children:"Module URL (PDF)"}),z.jsx("input",{type:"text",value:m.moduleUrl,onChange:y=>f(m.id,"moduleUrl",y.target.value),style:{width:"100%",marginBottom:8}}),z.jsx("label",{children:"Meeting URL"}),z.jsx("input",{type:"text",value:m.meetingUrl,onChange:y=>f(m.id,"meetingUrl",y.target.value),style:{width:"100%",marginBottom:8}}),z.jsxs("label",{style:{display:"flex",gap:8},children:[z.jsx("input",{type:"checkbox",checked:m.isActive,onChange:y=>f(m.id,"isActive",y.target.checked)})," Aktif"]}),z.jsx("button",{onClick:()=>p(m),disabled:a===m.id,style:{marginTop:12,padding:"8px 14px",fontWeight:"bold",background:"#2563eb",color:"#fff",border:"none",borderRadius:6,cursor:"pointer"},children:a===m.id?"Menyimpan...":"Simpan"})]},m.id))]})]})}function zo({children:n}){const{user:t,loading:e}=Ld();return e?null:t?n:z.jsx(lw,{to:"/login",replace:!0})}function $A({children:n}){const[t,e]=M.useState(!0),[r,a]=M.useState(!1);return M.useEffect(()=>{const l=Yi.onAuthStateChanged(async c=>{if(!c){a(!1),e(!1);return}const f=await Ya(sr(kn,"students",c.uid));f.exists()&&f.data().role==="admin"?a(!0):a(!1),e(!1)});return()=>l()},[]),t?z.jsx("p",{children:"Checking admin access..."}):r?n:z.jsx("p",{children:" Akses ditolak (Admin only)"})}function zz(){return z.jsxs(o2,{children:[z.jsx(Gi,{path:"/login",element:z.jsx(C4,{})}),z.jsx(Gi,{path:"/register",element:z.jsx(x4,{})}),z.jsx(Gi,{path:"/home",element:z.jsx(zo,{children:z.jsx(lz,{})})}),z.jsx(Gi,{path:"/profile",element:z.jsx(zo,{children:z.jsx(Vz,{})})}),z.jsx(Gi,{path:"/quiz/:semester",element:z.jsx(zo,{children:z.jsx(Nz,{})})}),z.jsx(Gi,{path:"/leaderboard/:semester",element:z.jsx(zo,{children:z.jsx(kz,{})})}),z.jsx(Gi,{path:"/admin",element:z.jsx(zo,{children:z.jsx($A,{children:z.jsx(Lz,{})})})}),z.jsx(Gi,{path:"/admin/edit-session",element:z.jsx(zo,{children:z.jsx($A,{children:z.jsx(Uz,{})})})}),z.jsx(Gi,{path:"*",element:z.jsx(lw,{to:"/login",replace:!0})})]})}const jz=M.createContext(null);function Bz({children:n}){const{user:t}=Ld(),[e,r]=M.useState(null),[a,l]=M.useState(!0);return M.useEffect(()=>{async function c(){if(!t){r(null),l(!1);return}const f=sr(kn,"students",t.uid),p=await Ya(f);if(p.exists())r(p.data());else{const m={email:t.email,role:"mahasiswa",level:null,createdAt:id()};await nd(f,m),r(m)}l(!1)}c()},[t]),z.jsx(jz.Provider,{value:{profile:e},children:!a&&n})}mD.createRoot(document.getElementById("root")).render(z.jsx(oD.StrictMode,{children:z.jsx(D2,{children:z.jsx(I4,{children:z.jsx(Bz,{children:z.jsx(zz,{})})})})}));
